2019-05-22 17:12:34.469  INFO 2097 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 2097 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-05-22 17:12:34.475  INFO 2097 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-05-22 17:12:34.583  INFO 2097 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Wed May 22 17:12:34 CST 2019]; root of context hierarchy
2019-05-22 17:12:36.374  INFO 2097 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$12c1a062] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-22 17:12:37.225  INFO 2097 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-05-22 17:12:37.243  INFO 2097 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-22 17:12:37.245  INFO 2097 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-05-22 17:12:37.399  INFO 2097 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-22 17:12:37.401  INFO 2097 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2821 ms
2019-05-22 17:12:37.645  INFO 2097 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-05-22 17:12:37.651  INFO 2097 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-05-22 17:12:37.652  INFO 2097 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-05-22 17:12:37.652  INFO 2097 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-05-22 17:12:37.653  INFO 2097 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-05-22 17:12:38.392  INFO 2097 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-05-22 17:12:40.265  INFO 2097 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Wed May 22 17:12:34 CST 2019]; root of context hierarchy
2019-05-22 17:12:40.361  INFO 2097 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/notify/pay/aliPayNotifyRes.htm]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-22 17:12:40.362  INFO 2097 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/notify/pay/wxPayNotifyRes.htm]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-22 17:12:40.364  INFO 2097 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-05-22 17:12:40.364  INFO 2097 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-05-22 17:12:40.365  INFO 2097 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-05-22 17:12:40.366  INFO 2097 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-05-22 17:12:40.366  INFO 2097 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-05-22 17:12:40.370  INFO 2097 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-05-22 17:12:40.371  INFO 2097 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-05-22 17:12:40.465  INFO 2097 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-22 17:12:40.465  INFO 2097 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-22 17:12:40.592  INFO 2097 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-22 17:12:41.377  INFO 2097 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Wed May 22 17:12:34 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-05-22 17:12:41.379  INFO 2097 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-05-22 17:12:41.437  WARN 2097 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-05-22 17:12:41.918  INFO 2097 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-05-22 17:12:41.919  INFO 2097 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-05-22 17:12:41.929  INFO 2097 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-05-22 17:12:41.933  INFO 2097 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-05-22 17:12:41.935  INFO 2097 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-05-22 17:12:41.959  INFO 2097 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-05-22 17:12:41.959  INFO 2097 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-05-22 17:12:42.046  INFO 2097 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-05-22 17:12:42.054  INFO 2097 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.601 seconds (JVM running for 10.482)
2019-05-22 17:12:53.952  INFO 2097 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-05-22 17:12:53.952  INFO 2097 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-05-22 17:12:54.017  INFO 2097 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 65 ms
2019-05-22 17:12:54.136  INFO 2097 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-05-22 17:13:04.070 ERROR 2097 --- [http-nio-8080-exec-1] druid.sql.Statement                      : {conn-10005, pstmt-20007} execute error. insert into t_pay_order
     ( PayOrderId,
      
      
        MchId,
      
      
        MchOrderNo,
      
      
        ChannelId,
      
      
        Amount,
      
      
        Currency,
      
      
      
        ClientIp,
      
      
        Device,
      
      
        Subject,
      
      
        Body,
      
      
        Extra,
      
      
        ChannelMchId,
      
      
      
      
      
        Param1,
      
      
        Param2,
      
      
        NotifyUrl,
      
      
      
      
      
      
        CreateTime ) 
     values ( ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
      
      
      
        ? )

com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_131]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_131]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2494) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2931) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.wall.WallFilter.preparedStatement_execute(WallFilter.java:600) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:131) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:493) [druid-1.0.26.jar:1.0.26]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) [mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) [mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy80.update(Unknown Source) [na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185) [mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434) [mybatis-spring-1.3.0.jar:1.3.0]
	at com.sun.proxy.$Proxy58.insert(Unknown Source) [na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:279) [mybatis-spring-1.3.0.jar:1.3.0]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53) [mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy59.insertSelective(Unknown Source) [na:na]
	at com.appchina.pay.center.service.BaseService.baseCreatePayOrder(BaseService.java:46) [classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:136) [classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:37) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.payOrder(PayOrderController.java:68) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.payOrder(PayOrderController.java:50) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-05-22 17:13:04.114  INFO 2097 --- [http-nio-8080-exec-1] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2019-05-22 17:13:04.449  INFO 2097 --- [http-nio-8080-exec-1] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2019-05-22 17:13:38.421 ERROR 2097 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'
### The error may involve com.appchina.pay.dao.mapper.PayOrderMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: insert into t_pay_order      ( PayOrderId,                       MchId,                       MchOrderNo,                       ChannelId,                       Amount,                       Currency,                              ClientIp,                       Device,                       Subject,                       Body,                       Extra,                       ChannelMchId,                                            Param1,                       Param2,                       NotifyUrl,                                                   CreateTime )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                            ?,                       ?,                       ?,                                                   ? )
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'
; SQL []; Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'

org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'
### The error may involve com.appchina.pay.dao.mapper.PayOrderMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: insert into t_pay_order      ( PayOrderId,                       MchId,                       MchOrderNo,                       ChannelId,                       Amount,                       Currency,                              ClientIp,                       Device,                       Subject,                       Body,                       Extra,                       ChannelMchId,                                            Param1,                       Param2,                       NotifyUrl,                                                   CreateTime )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                            ?,                       ?,                       ?,                                                   ? )
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'
; SQL []; Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:75) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:447) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at com.sun.proxy.$Proxy58.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:279) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53) ~[mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy59.insertSelective(Unknown Source) ~[na:na]
	at com.appchina.pay.center.service.BaseService.baseCreatePayOrder(BaseService.java:46) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:136) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:37) ~[classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.payOrder(PayOrderController.java:68) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.payOrder(PayOrderController.java:50) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_131]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_131]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2494) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2931) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.wall.WallFilter.preparedStatement_execute(WallFilter.java:600) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:131) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:493) ~[druid-1.0.26.jar:1.0.26]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy80.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185) ~[mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434) ~[mybatis-spring-1.3.0.jar:1.3.0]
	... 64 common frames omitted

2019-05-22 17:13:38.423  INFO 2097 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=支付中心系统异常}
2019-05-22 17:13:46.951  INFO 2097 --- [Thread-21] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Wed May 22 17:12:34 CST 2019]; root of context hierarchy
2019-05-22 17:13:46.954  INFO 2097 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-05-22 17:13:46.955  INFO 2097 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-05-22 17:13:46.958  INFO 2097 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-05-22 17:13:46.958  INFO 2097 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-05-22 17:13:46.966  INFO 2097 --- [Thread-21] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-05-24 11:18:13.900  INFO 65375 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 65375 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-05-24 11:18:13.905  INFO 65375 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-05-24 11:18:14.105  INFO 65375 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3fc2959f: startup date [Fri May 24 11:18:14 CST 2019]; root of context hierarchy
2019-05-24 11:18:15.721  INFO 65375 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$c96e5c14] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-24 11:18:16.226  INFO 65375 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-05-24 11:18:16.245  INFO 65375 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-24 11:18:16.247  INFO 65375 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-05-24 11:18:16.355  INFO 65375 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-24 11:18:16.356  INFO 65375 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2274 ms
2019-05-24 11:18:16.512  INFO 65375 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-05-24 11:18:16.524  INFO 65375 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-05-24 11:18:16.525  INFO 65375 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-05-24 11:18:16.525  INFO 65375 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-05-24 11:18:16.525  INFO 65375 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-05-24 11:18:17.597  INFO 65375 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-05-24 11:18:18.953  INFO 65375 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3fc2959f: startup date [Fri May 24 11:18:14 CST 2019]; root of context hierarchy
2019-05-24 11:18:19.068  INFO 65375 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/notify/pay/aliPayNotifyRes.htm]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-24 11:18:19.069  INFO 65375 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/notify/pay/wxPayNotifyRes.htm]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-24 11:18:19.070  INFO 65375 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-05-24 11:18:19.071  INFO 65375 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-05-24 11:18:19.071  INFO 65375 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-05-24 11:18:19.072  INFO 65375 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-05-24 11:18:19.072  INFO 65375 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-05-24 11:18:19.075  INFO 65375 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-05-24 11:18:19.075  INFO 65375 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-05-24 11:18:19.110  INFO 65375 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 11:18:19.110  INFO 65375 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 11:18:19.152  INFO 65375 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 11:18:19.583  INFO 65375 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3fc2959f: startup date [Fri May 24 11:18:14 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-05-24 11:18:19.584  INFO 65375 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-05-24 11:18:19.620  WARN 65375 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-05-24 11:18:19.915  INFO 65375 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-05-24 11:18:19.917  INFO 65375 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-05-24 11:18:19.925  INFO 65375 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-05-24 11:18:19.928  INFO 65375 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-05-24 11:18:19.929  INFO 65375 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-05-24 11:18:19.945  INFO 65375 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-05-24 11:18:19.945  INFO 65375 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-05-24 11:18:20.008  INFO 65375 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-05-24 11:18:20.014  INFO 65375 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 6.988 seconds (JVM running for 9.008)
2019-05-24 11:43:29.104  INFO 65375 --- [Thread-17] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3fc2959f: startup date [Fri May 24 11:18:14 CST 2019]; root of context hierarchy
2019-05-24 11:43:29.137  INFO 65375 --- [Thread-17] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-05-24 11:43:29.140  INFO 65375 --- [Thread-17] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-05-24 11:43:29.151  INFO 65375 --- [Thread-17] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-05-24 11:43:29.152  INFO 65375 --- [Thread-17] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-05-24 11:43:29.180  INFO 65375 --- [Thread-17] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-05-24 11:52:04.512  INFO 72125 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 72125 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-05-24 11:52:04.524  INFO 72125 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-05-24 11:52:04.656  INFO 72125 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 24 11:52:04 CST 2019]; root of context hierarchy
2019-05-24 11:52:06.328  INFO 72125 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$b5a3d678] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-24 11:52:06.965  INFO 72125 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-05-24 11:52:06.982  INFO 72125 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-24 11:52:06.984  INFO 72125 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-05-24 11:52:07.114  INFO 72125 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-24 11:52:07.114  INFO 72125 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2462 ms
2019-05-24 11:52:07.312  INFO 72125 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-05-24 11:52:07.323  INFO 72125 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-05-24 11:52:07.324  INFO 72125 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-05-24 11:52:07.324  INFO 72125 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-05-24 11:52:07.325  INFO 72125 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-05-24 11:52:08.229  INFO 72125 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-05-24 11:52:09.871  INFO 72125 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 24 11:52:04 CST 2019]; root of context hierarchy
2019-05-24 11:52:09.964  INFO 72125 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/notify/pay/aliPayNotifyRes.htm]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-24 11:52:09.966  INFO 72125 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/notify/pay/wxPayNotifyRes.htm]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-24 11:52:09.968  INFO 72125 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-05-24 11:52:09.968  INFO 72125 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-05-24 11:52:09.969  INFO 72125 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-05-24 11:52:09.969  INFO 72125 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-05-24 11:52:09.969  INFO 72125 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-05-24 11:52:09.972  INFO 72125 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-05-24 11:52:09.973  INFO 72125 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-05-24 11:52:10.034  INFO 72125 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 11:52:10.034  INFO 72125 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 11:52:10.098  INFO 72125 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 11:52:10.726  INFO 72125 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 24 11:52:04 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-05-24 11:52:10.730  INFO 72125 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-05-24 11:52:10.777  WARN 72125 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-05-24 11:52:11.245  INFO 72125 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-05-24 11:52:11.246  INFO 72125 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-05-24 11:52:11.256  INFO 72125 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-05-24 11:52:11.259  INFO 72125 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-05-24 11:52:11.261  INFO 72125 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-05-24 11:52:11.296  INFO 72125 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-05-24 11:52:11.297  INFO 72125 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-05-24 11:52:11.377  INFO 72125 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-05-24 11:52:11.384  INFO 72125 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.051 seconds (JVM running for 10.539)
2019-05-24 11:55:30.834  INFO 72125 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-05-24 11:55:30.835  INFO 72125 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-05-24 11:55:30.880  INFO 72125 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 44 ms
2019-05-24 15:09:02.507  INFO 72125 --- [Thread-20] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 24 11:52:04 CST 2019]; root of context hierarchy
2019-05-24 15:09:02.547  INFO 72125 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-05-24 15:09:02.548  INFO 72125 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-05-24 15:09:02.562  INFO 72125 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-05-24 15:09:02.563  INFO 72125 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-05-24 15:09:02.591  INFO 72125 --- [Thread-20] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-05-24 15:54:17.774  INFO 18370 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 18370 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-05-24 15:54:17.784  INFO 18370 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-05-24 15:54:17.958  INFO 18370 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 24 15:54:17 CST 2019]; root of context hierarchy
2019-05-24 15:54:20.404  INFO 18370 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$36e58072] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-24 15:54:21.267  INFO 18370 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-05-24 15:54:21.297  INFO 18370 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-24 15:54:21.299  INFO 18370 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-05-24 15:54:21.476  INFO 18370 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-24 15:54:21.477  INFO 18370 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3530 ms
2019-05-24 15:54:21.715  INFO 18370 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-05-24 15:54:21.722  INFO 18370 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-05-24 15:54:21.723  INFO 18370 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-05-24 15:54:21.724  INFO 18370 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-05-24 15:54:21.724  INFO 18370 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-05-24 15:54:22.543  INFO 18370 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-05-24 15:54:25.761  INFO 18370 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 24 15:54:17 CST 2019]; root of context hierarchy
2019-05-24 15:54:25.859  INFO 18370 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/notify/pay/aliPayNotifyRes.htm]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-24 15:54:25.861  INFO 18370 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/notify/pay/wxPayNotifyRes.htm]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-24 15:54:25.863  INFO 18370 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-05-24 15:54:25.864  INFO 18370 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-05-24 15:54:25.866  INFO 18370 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-05-24 15:54:25.867  INFO 18370 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-05-24 15:54:25.868  INFO 18370 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-05-24 15:54:25.872  INFO 18370 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-05-24 15:54:25.874  INFO 18370 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-05-24 15:54:25.945  INFO 18370 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 15:54:25.945  INFO 18370 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 15:54:26.052  INFO 18370 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 15:54:26.746  INFO 18370 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 24 15:54:17 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-05-24 15:54:26.747  INFO 18370 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-05-24 15:54:26.786  WARN 18370 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-05-24 15:54:27.233  INFO 18370 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-05-24 15:54:27.234  INFO 18370 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-05-24 15:54:27.243  INFO 18370 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-05-24 15:54:27.246  INFO 18370 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-05-24 15:54:27.247  INFO 18370 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-05-24 15:54:27.276  INFO 18370 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-05-24 15:54:27.276  INFO 18370 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-05-24 15:54:27.353  INFO 18370 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-05-24 15:54:27.360  INFO 18370 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 10.35 seconds (JVM running for 13.087)
2019-05-24 16:01:44.782  INFO 18370 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-05-24 16:01:44.784  INFO 18370 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-05-24 16:01:44.836  INFO 18370 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 51 ms
2019-05-24 16:01:45.008  INFO 18370 --- [http-nio-8080-exec-2] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-05-24 16:01:56.569  INFO 18370 --- [http-nio-8080-exec-2] c.a.p.c.controller.PayOrderController    : 【商户统一下单】创建支付订单,结果:1
2019-05-24 16:07:55.647  INFO 18370 --- [http-nio-8080-exec-2] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/unifiedorder
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1558685274675</nonce_str>
  <sign>C38BE69DF573CD807A89F30B8943E3A0</sign>
  <device_info>ios10.3.1</device_info>
  <body>xxpay测试商品描述</body>
  <out_trade_no>P0020190524160145000000</out_trade_no>
  <fee_type>CNY</fee_type>
  <total_fee>100</total_fee>
  <spbill_create_ip>210.73.10.148</spbill_create_ip>
  <notify_url>http://api.xxpay.org/notify/pay/wxPayNotifyRes.htm</notify_url>
  <trade_type>JSAPI</trade_type>
  <openid>o2RvowBf7sOVJf8kJksUEMceaDqo</openid>
</xml>
【响应数据】：<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[商户号该产品权限未开通，请前往商户平台>产品中心检查后重试]]></return_msg>
</xml>
2019-05-24 16:07:55.690 ERROR 18370 --- [http-nio-8080-exec-2] c.g.b.w.b.r.WxPayUnifiedOrderResult      : 
结果业务代码异常，返回結果：{return_msg=商户号该产品权限未开通，请前往商户平台>产品中心检查后重试, return_code=FAIL},
返回代码：FAIL，返回信息：商户号该产品权限未开通，请前往商户平台>产品中心检查后重试
2019-05-24 16:07:55.700 ERROR 18370 --- [http-nio-8080-exec-2] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 下单失败com.github.binarywang.wxpay.exception.WxPayException: 返回代码：[FAIL]，返回信息：[商户号该产品权限未开通，请前往商户平台>产品中心检查后重试]，微信返回的原始报文：
<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[商户号该产品权限未开通，请前往商户平台>产品中心检查后重试]]></return_msg>
</xml>

com.github.binarywang.wxpay.exception.WxPayException: 返回代码：[FAIL]，返回信息：[商户号该产品权限未开通，请前往商户平台>产品中心检查后重试]，微信返回的原始报文：
<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[商户号该产品权限未开通，请前往商户平台>产品中心检查后重试]]></return_msg>
</xml>
	at com.github.binarywang.wxpay.exception.WxPayException$Builder.build(WxPayException.java:144) ~[weixin-java-pay-2.8.0.jar:na]
	at com.github.binarywang.wxpay.exception.WxPayException.from(WxPayException.java:71) ~[weixin-java-pay-2.8.0.jar:na]
	at com.github.binarywang.wxpay.bean.result.WxPayBaseResult.checkResult(WxPayBaseResult.java:339) ~[weixin-java-pay-2.8.0.jar:na]
	at com.github.binarywang.wxpay.service.impl.WxPayServiceAbstractImpl.unifiedOrder(WxPayServiceAbstractImpl.java:273) ~[weixin-java-pay-2.8.0.jar:na]
	at com.appchina.pay.center.service.impl.PayChannel4WxServiceImpl.doWxPayReq(PayChannel4WxServiceImpl.java:67) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.doWxPayReq(PayOrderServiceImpl.java:77) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.payOrder(PayOrderController.java:78) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.payOrder(PayOrderController.java:50) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-05-24 16:07:55.702  INFO 18370 --- [http-nio-8080-exec-2] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【微信支付统一下单】下单返回失败
2019-05-24 16:07:55.702  INFO 18370 --- [http-nio-8080-exec-2] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : err_code:null
2019-05-24 16:07:55.702  INFO 18370 --- [http-nio-8080-exec-2] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : err_code_des:null
2019-05-24 16:07:55.703  INFO 18370 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=调用微信支付失败, errCode=0111, sign=5E46CC94DA251CC8F3EBB2C4B4F9FFDF, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-05-24 16:08:01.829  INFO 18370 --- [Thread-22] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 24 15:54:17 CST 2019]; root of context hierarchy
2019-05-24 16:08:01.846  INFO 18370 --- [Thread-22] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-05-24 16:08:01.847  INFO 18370 --- [Thread-22] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-05-24 16:08:01.850  INFO 18370 --- [Thread-22] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-05-24 16:08:01.850  INFO 18370 --- [Thread-22] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-05-24 16:08:01.861  INFO 18370 --- [Thread-22] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-05-24 18:20:22.188  INFO 46792 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 46792 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-05-24 18:20:22.235  INFO 46792 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-05-24 18:20:22.407  INFO 46792 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 24 18:20:22 CST 2019]; root of context hierarchy
2019-05-24 18:20:24.141  INFO 46792 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$e0f4841] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-24 18:20:24.999  INFO 46792 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-05-24 18:20:25.013  INFO 46792 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-24 18:20:25.015  INFO 46792 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-05-24 18:20:25.129  INFO 46792 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-24 18:20:25.129  INFO 46792 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2728 ms
2019-05-24 18:20:25.381  INFO 46792 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-05-24 18:20:25.408  INFO 46792 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-05-24 18:20:25.408  INFO 46792 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-05-24 18:20:25.408  INFO 46792 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-05-24 18:20:25.409  INFO 46792 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-05-24 18:20:26.215  INFO 46792 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-05-24 18:20:27.922  INFO 46792 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 24 18:20:22 CST 2019]; root of context hierarchy
2019-05-24 18:20:28.017  INFO 46792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/notify/pay/aliPayNotifyRes.htm]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-24 18:20:28.018  INFO 46792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/notify/pay/wxPayNotifyRes.htm]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-24 18:20:28.020  INFO 46792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-05-24 18:20:28.021  INFO 46792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-05-24 18:20:28.022  INFO 46792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-05-24 18:20:28.022  INFO 46792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-05-24 18:20:28.022  INFO 46792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-05-24 18:20:28.028  INFO 46792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-05-24 18:20:28.029  INFO 46792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-05-24 18:20:28.089  INFO 46792 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 18:20:28.089  INFO 46792 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 18:20:28.222  INFO 46792 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 18:20:28.915  INFO 46792 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 24 18:20:22 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-05-24 18:20:28.916  INFO 46792 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-05-24 18:20:28.957  WARN 46792 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-05-24 18:20:29.436  INFO 46792 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-05-24 18:20:29.438  INFO 46792 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-05-24 18:20:29.449  INFO 46792 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-05-24 18:20:29.453  INFO 46792 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-05-24 18:20:29.454  INFO 46792 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-05-24 18:20:29.481  INFO 46792 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-05-24 18:20:29.483  INFO 46792 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-05-24 18:20:29.570  INFO 46792 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-05-24 18:20:29.580  INFO 46792 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.757 seconds (JVM running for 11.494)
2019-05-24 18:20:48.367  INFO 46792 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-05-24 18:20:48.368  INFO 46792 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-05-24 18:20:48.432  INFO 46792 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 55 ms
2019-05-24 18:20:48.565  INFO 46792 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-05-24 18:20:51.790  INFO 46792 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : 【商户统一下单】参数校验不通过:Verify pay sign failed.
2019-05-24 18:20:51.791  INFO 46792 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=Verify pay sign failed.}
2019-05-24 18:20:59.447  INFO 46792 --- [Thread-20] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 24 18:20:22 CST 2019]; root of context hierarchy
2019-05-24 18:20:59.454  INFO 46792 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-05-24 18:20:59.456  INFO 46792 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-05-24 18:20:59.470  INFO 46792 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-05-24 18:20:59.472  INFO 46792 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-05-24 18:20:59.479  INFO 46792 --- [Thread-20] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-05-24 18:21:16.912  INFO 46968 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 46968 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-05-24 18:21:16.944  INFO 46968 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-05-24 18:21:17.187  INFO 46968 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Fri May 24 18:21:17 CST 2019]; root of context hierarchy
2019-05-24 18:21:19.133  INFO 46968 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$14a0c991] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-24 18:21:19.743  INFO 46968 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-05-24 18:21:19.753  INFO 46968 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-24 18:21:19.754  INFO 46968 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-05-24 18:21:19.851  INFO 46968 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-24 18:21:19.851  INFO 46968 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2675 ms
2019-05-24 18:21:20.069  INFO 46968 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-05-24 18:21:20.074  INFO 46968 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-05-24 18:21:20.075  INFO 46968 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-05-24 18:21:20.075  INFO 46968 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-05-24 18:21:20.075  INFO 46968 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-05-24 18:21:21.209  INFO 46968 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-05-24 18:21:22.816  INFO 46968 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Fri May 24 18:21:17 CST 2019]; root of context hierarchy
2019-05-24 18:21:22.910  INFO 46968 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/notify/pay/aliPayNotifyRes.htm]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-24 18:21:22.911  INFO 46968 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/notify/pay/wxPayNotifyRes.htm]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-24 18:21:22.913  INFO 46968 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-05-24 18:21:22.913  INFO 46968 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-05-24 18:21:22.914  INFO 46968 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-05-24 18:21:22.914  INFO 46968 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-05-24 18:21:22.915  INFO 46968 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-05-24 18:21:22.919  INFO 46968 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-05-24 18:21:22.921  INFO 46968 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-05-24 18:21:22.978  INFO 46968 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 18:21:22.979  INFO 46968 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 18:21:23.044  INFO 46968 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-24 18:21:23.622  INFO 46968 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Fri May 24 18:21:17 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-05-24 18:21:23.624  INFO 46968 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-05-24 18:21:23.664  WARN 46968 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-05-24 18:21:24.140  INFO 46968 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-05-24 18:21:24.141  INFO 46968 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-05-24 18:21:24.150  INFO 46968 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-05-24 18:21:24.154  INFO 46968 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-05-24 18:21:24.155  INFO 46968 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-05-24 18:21:24.186  INFO 46968 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-05-24 18:21:24.186  INFO 46968 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-05-24 18:21:24.254  INFO 46968 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-05-24 18:21:24.261  INFO 46968 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.678 seconds (JVM running for 10.785)
2019-05-24 18:21:33.348  INFO 46968 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-05-24 18:21:33.351  INFO 46968 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-05-24 18:21:33.400  INFO 46968 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 48 ms
2019-05-24 18:21:33.510  INFO 46968 --- [http-nio-8080-exec-2] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-05-24 18:21:36.070 ERROR 46968 --- [http-nio-8080-exec-2] druid.sql.Statement                      : {conn-10005, pstmt-20007} execute error. insert into t_pay_order
     ( PayOrderId,
      
      
        MchId,
      
      
        MchOrderNo,
      
      
        ChannelId,
      
      
        Amount,
      
      
        Currency,
      
      
      
        ClientIp,
      
      
        Device,
      
      
        Subject,
      
      
        Body,
      
      
        Extra,
      
      
        ChannelMchId,
      
      
      
      
      
        Param1,
      
      
        Param2,
      
      
        NotifyUrl,
      
      
      
      
      
      
        CreateTime ) 
     values ( ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
      
      
      
        ? )

com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_131]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_131]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2494) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2931) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.wall.WallFilter.preparedStatement_execute(WallFilter.java:600) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:131) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:493) [druid-1.0.26.jar:1.0.26]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) [mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) [mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy80.update(Unknown Source) [na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185) [mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434) [mybatis-spring-1.3.0.jar:1.3.0]
	at com.sun.proxy.$Proxy58.insert(Unknown Source) [na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:279) [mybatis-spring-1.3.0.jar:1.3.0]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53) [mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy59.insertSelective(Unknown Source) [na:na]
	at com.appchina.pay.center.service.BaseService.baseCreatePayOrder(BaseService.java:46) [classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:136) [classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:37) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.payOrder(PayOrderController.java:68) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.payOrder(PayOrderController.java:50) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-05-24 18:21:36.106  INFO 46968 --- [http-nio-8080-exec-2] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2019-05-24 18:21:36.149  INFO 46968 --- [http-nio-8080-exec-2] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2019-05-24 18:21:36.157 ERROR 46968 --- [http-nio-8080-exec-2] c.a.p.c.controller.PayOrderController    : org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'
### The error may involve com.appchina.pay.dao.mapper.PayOrderMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: insert into t_pay_order      ( PayOrderId,                       MchId,                       MchOrderNo,                       ChannelId,                       Amount,                       Currency,                              ClientIp,                       Device,                       Subject,                       Body,                       Extra,                       ChannelMchId,                                            Param1,                       Param2,                       NotifyUrl,                                                   CreateTime )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                            ?,                       ?,                       ?,                                                   ? )
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'
; SQL []; Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'

org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'
### The error may involve com.appchina.pay.dao.mapper.PayOrderMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: insert into t_pay_order      ( PayOrderId,                       MchId,                       MchOrderNo,                       ChannelId,                       Amount,                       Currency,                              ClientIp,                       Device,                       Subject,                       Body,                       Extra,                       ChannelMchId,                                            Param1,                       Param2,                       NotifyUrl,                                                   CreateTime )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                            ?,                       ?,                       ?,                                                   ? )
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'
; SQL []; Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:75) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:447) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at com.sun.proxy.$Proxy58.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:279) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53) ~[mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy59.insertSelective(Unknown Source) ~[na:na]
	at com.appchina.pay.center.service.BaseService.baseCreatePayOrder(BaseService.java:46) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:136) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:37) ~[classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.payOrder(PayOrderController.java:68) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.payOrder(PayOrderController.java:50) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-20160427210604000490' for key 'IDX_MchId_MchOrderNo'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_131]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_131]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2494) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2931) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.wall.WallFilter.preparedStatement_execute(WallFilter.java:600) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:131) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:493) ~[druid-1.0.26.jar:1.0.26]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy80.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185) ~[mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434) ~[mybatis-spring-1.3.0.jar:1.3.0]
	... 64 common frames omitted

2019-05-24 18:21:36.165  INFO 46968 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=支付中心系统异常}
2019-05-24 18:22:05.179  INFO 46968 --- [http-nio-8080-exec-3] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-05-24 18:22:13.263  INFO 46968 --- [http-nio-8080-exec-3] c.a.p.c.controller.PayOrderController    : 【商户统一下单】创建支付订单,结果:1
2019-05-24 18:23:01.969  INFO 46968 --- [http-nio-8080-exec-3] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/unifiedorder
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1558693381201</nonce_str>
  <sign>EDBA6FA30CF1395C615C44F7976989EA</sign>
  <device_info>ios10.3.1</device_info>
  <body>xxpay测试商品描述</body>
  <out_trade_no>P0020190524182205000001</out_trade_no>
  <fee_type>CNY</fee_type>
  <total_fee>100</total_fee>
  <spbill_create_ip>210.73.10.148</spbill_create_ip>
  <notify_url>http://api.xxpay.org/notify/pay/wxPayNotifyRes.htm</notify_url>
  <trade_type>JSAPI</trade_type>
  <openid>o2RvowBf7sOVJf8kJksUEMceaDqo</openid>
</xml>
【响应数据】：<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[商户号该产品权限未开通，请前往商户平台>产品中心检查后重试]]></return_msg>
</xml>
2019-05-24 18:23:02.000 ERROR 46968 --- [http-nio-8080-exec-3] c.g.b.w.b.r.WxPayUnifiedOrderResult      : 
结果业务代码异常，返回結果：{return_msg=商户号该产品权限未开通，请前往商户平台>产品中心检查后重试, return_code=FAIL},
返回代码：FAIL，返回信息：商户号该产品权限未开通，请前往商户平台>产品中心检查后重试
2019-05-24 18:23:02.004 ERROR 46968 --- [http-nio-8080-exec-3] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 下单失败com.github.binarywang.wxpay.exception.WxPayException: 返回代码：[FAIL]，返回信息：[商户号该产品权限未开通，请前往商户平台>产品中心检查后重试]，微信返回的原始报文：
<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[商户号该产品权限未开通，请前往商户平台>产品中心检查后重试]]></return_msg>
</xml>

com.github.binarywang.wxpay.exception.WxPayException: 返回代码：[FAIL]，返回信息：[商户号该产品权限未开通，请前往商户平台>产品中心检查后重试]，微信返回的原始报文：
<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[商户号该产品权限未开通，请前往商户平台>产品中心检查后重试]]></return_msg>
</xml>
	at com.github.binarywang.wxpay.exception.WxPayException$Builder.build(WxPayException.java:144) ~[weixin-java-pay-2.8.0.jar:na]
	at com.github.binarywang.wxpay.exception.WxPayException.from(WxPayException.java:71) ~[weixin-java-pay-2.8.0.jar:na]
	at com.github.binarywang.wxpay.bean.result.WxPayBaseResult.checkResult(WxPayBaseResult.java:339) ~[weixin-java-pay-2.8.0.jar:na]
	at com.github.binarywang.wxpay.service.impl.WxPayServiceAbstractImpl.unifiedOrder(WxPayServiceAbstractImpl.java:273) ~[weixin-java-pay-2.8.0.jar:na]
	at com.appchina.pay.center.service.impl.PayChannel4WxServiceImpl.doWxPayReq(PayChannel4WxServiceImpl.java:67) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.doWxPayReq(PayOrderServiceImpl.java:77) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.payOrder(PayOrderController.java:78) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.payOrder(PayOrderController.java:50) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-05-24 18:23:02.005  INFO 46968 --- [http-nio-8080-exec-3] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【微信支付统一下单】下单返回失败
2019-05-24 18:23:02.005  INFO 46968 --- [http-nio-8080-exec-3] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : err_code:null
2019-05-24 18:23:02.005  INFO 46968 --- [http-nio-8080-exec-3] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : err_code_des:null
2019-05-24 18:23:02.005  INFO 46968 --- [http-nio-8080-exec-3] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=调用微信支付失败, errCode=0111, sign=5E46CC94DA251CC8F3EBB2C4B4F9FFDF, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-05-24 18:23:30.668  INFO 46968 --- [http-nio-8080-exec-4] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-05-24 18:23:32.816  INFO 46968 --- [http-nio-8080-exec-4] c.a.p.c.controller.PayOrderController    : 【商户统一下单】创建支付订单,结果:1
2019-05-24 18:24:00.146  INFO 46968 --- [http-nio-8080-exec-4] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/unifiedorder
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1558693439667</nonce_str>
  <sign>872DDD7557C219F435E53BAF5E69B642</sign>
  <device_info>Android</device_info>
  <body>appchina-pay-测试商品描述</body>
  <out_trade_no>P0020190524182330000002</out_trade_no>
  <fee_type>CNY</fee_type>
  <total_fee>1</total_fee>
  <spbill_create_ip>221.217.228.166</spbill_create_ip>
  <notify_url>http://api.xxpay.org/notify/pay/wxPayNotifyRes.htm</notify_url>
  <trade_type>MWEB</trade_type>
  <scene_info>{&quot;h5_info&quot;:{&quot;app_name&quot;:&quot;王者荣耀&quot;,&quot;package_name&quot;:&quot;com.tencent.tmgp.sgame&quot;,&quot;type&quot;:&quot;Android&quot;}}</scene_info>
</xml>
【响应数据】：<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[签名错误]]></return_msg>
</xml>
2019-05-24 18:24:00.177 ERROR 46968 --- [http-nio-8080-exec-4] c.g.b.w.b.r.WxPayUnifiedOrderResult      : 
结果业务代码异常，返回結果：{return_msg=签名错误, return_code=FAIL},
返回代码：FAIL，返回信息：签名错误
2019-05-24 18:24:13.455 ERROR 46968 --- [http-nio-8080-exec-4] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 下单失败com.github.binarywang.wxpay.exception.WxPayException: 返回代码：[FAIL]，返回信息：[签名错误]，微信返回的原始报文：
<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[签名错误]]></return_msg>
</xml>

com.github.binarywang.wxpay.exception.WxPayException: 返回代码：[FAIL]，返回信息：[签名错误]，微信返回的原始报文：
<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[签名错误]]></return_msg>
</xml>
	at com.github.binarywang.wxpay.exception.WxPayException$Builder.build(WxPayException.java:144) ~[weixin-java-pay-2.8.0.jar:na]
	at com.github.binarywang.wxpay.exception.WxPayException.from(WxPayException.java:71) ~[weixin-java-pay-2.8.0.jar:na]
	at com.github.binarywang.wxpay.bean.result.WxPayBaseResult.checkResult(WxPayBaseResult.java:339) ~[weixin-java-pay-2.8.0.jar:na]
	at com.github.binarywang.wxpay.service.impl.WxPayServiceAbstractImpl.unifiedOrder(WxPayServiceAbstractImpl.java:273) ~[weixin-java-pay-2.8.0.jar:na]
	at com.appchina.pay.center.service.impl.PayChannel4WxServiceImpl.doWxPayReq(PayChannel4WxServiceImpl.java:67) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.doWxPayReq(PayOrderServiceImpl.java:77) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.payOrder(PayOrderController.java:82) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.payOrder(PayOrderController.java:50) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-05-24 18:24:13.463  INFO 46968 --- [http-nio-8080-exec-4] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【微信支付统一下单】下单返回失败
2019-05-24 18:24:13.464  INFO 46968 --- [http-nio-8080-exec-4] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : err_code:null
2019-05-24 18:24:13.464  INFO 46968 --- [http-nio-8080-exec-4] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : err_code_des:null
2019-05-24 18:24:13.464  INFO 46968 --- [http-nio-8080-exec-4] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=调用微信支付失败, errCode=0111, sign=5E46CC94DA251CC8F3EBB2C4B4F9FFDF, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-05-24 18:24:28.055  INFO 46968 --- [Thread-21] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Fri May 24 18:21:17 CST 2019]; root of context hierarchy
2019-05-24 18:24:28.069  INFO 46968 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-05-24 18:24:28.070  INFO 46968 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-05-24 18:24:28.074  INFO 46968 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-05-24 18:24:28.075  INFO 46968 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-05-24 18:24:28.083  INFO 46968 --- [Thread-21] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-05-27 11:16:12.162  INFO 14198 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 14198 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-05-27 11:16:12.181  INFO 14198 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-05-27 11:16:12.273  INFO 14198 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon May 27 11:16:12 CST 2019]; root of context hierarchy
2019-05-27 11:16:14.002  INFO 14198 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$643e806e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-27 11:16:14.573  INFO 14198 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-05-27 11:16:14.586  INFO 14198 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-27 11:16:14.588  INFO 14198 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-05-27 11:16:14.685  INFO 14198 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-27 11:16:14.686  INFO 14198 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2418 ms
2019-05-27 11:16:14.941  INFO 14198 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-05-27 11:16:14.947  INFO 14198 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-05-27 11:16:14.948  INFO 14198 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-05-27 11:16:14.948  INFO 14198 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-05-27 11:16:14.948  INFO 14198 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-05-27 11:16:15.777  INFO 14198 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-05-27 11:16:17.459  INFO 14198 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon May 27 11:16:12 CST 2019]; root of context hierarchy
2019-05-27 11:16:17.548  INFO 14198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/notify/pay/aliPayNotifyRes.htm]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-27 11:16:17.550  INFO 14198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/notify/pay/wxPayNotifyRes.htm]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-27 11:16:17.551  INFO 14198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-05-27 11:16:17.552  INFO 14198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-05-27 11:16:17.552  INFO 14198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-05-27 11:16:17.553  INFO 14198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-05-27 11:16:17.553  INFO 14198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-05-27 11:16:17.557  INFO 14198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-05-27 11:16:17.558  INFO 14198 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-05-27 11:16:17.611  INFO 14198 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-27 11:16:17.611  INFO 14198 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-27 11:16:17.753  INFO 14198 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-27 11:16:18.459  INFO 14198 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon May 27 11:16:12 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-05-27 11:16:18.461  INFO 14198 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-05-27 11:16:18.500  WARN 14198 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-05-27 11:16:18.982  INFO 14198 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-05-27 11:16:18.983  INFO 14198 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-05-27 11:16:18.993  INFO 14198 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-05-27 11:16:18.996  INFO 14198 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-05-27 11:16:18.998  INFO 14198 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-05-27 11:16:19.024  INFO 14198 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-05-27 11:16:19.024  INFO 14198 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-05-27 11:16:19.103  INFO 14198 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-05-27 11:16:19.110  INFO 14198 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.29 seconds (JVM running for 10.334)
2019-05-27 11:19:55.525  INFO 14198 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-05-27 11:19:55.526  INFO 14198 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-05-27 11:19:55.554  INFO 14198 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 27 ms
2019-05-27 11:53:16.312  INFO 14198 --- [http-nio-8080-exec-6] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-05-27 11:53:22.627  INFO 14198 --- [http-nio-8080-exec-6] c.a.p.c.controller.PayOrderController    : 【商户统一下单】创建支付订单,结果:1
2019-05-27 12:03:33.926  INFO 14198 --- [http-nio-8080-exec-6] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/unifiedorder
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1558929807149</nonce_str>
  <sign>4CF1E9DF9FAD861D85703ADA4E13DE48</sign>
  <device_info>Android</device_info>
  <body>测试商品描述</body>
  <out_trade_no>P0020190527115316000000</out_trade_no>
  <fee_type>CNY</fee_type>
  <total_fee>100</total_fee>
  <spbill_create_ip>221.217.228.166</spbill_create_ip>
  <notify_url>http://api.xxpay.org/notify/pay/wxPayNotifyRes.htm</notify_url>
  <trade_type>MWEB</trade_type>
  <scene_info>{&quot;h5_info&quot;:{&quot;app_name&quot;:&quot;王者荣耀&quot;,&quot;package_name&quot;:&quot;com.tencent.tmgp.sgame&quot;,&quot;type&quot;:&quot;Android&quot;}}</scene_info>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[Android]]></device_info>
<nonce_str><![CDATA[7hQvBltMiPaLNcDI]]></nonce_str>
<sign><![CDATA[F3EB8EEB754FF742D21934CC08CB388C]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx27120333792305e6ee99227e3047551700]]></prepay_id>
<trade_type><![CDATA[MWEB]]></trade_type>
<mweb_url><![CDATA[https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx27120333792305e6ee99227e3047551700&package=1338354181]]></mweb_url>
</xml>
2019-05-27 12:03:40.470  INFO 14198 --- [http-nio-8080-exec-6] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【微信支付统一下单】 >>> 下单成功
2019-05-27 12:03:59.733  INFO 14198 --- [http-nio-8080-exec-6] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 更新第三方支付订单号:payOrderId=P0020190527115316000000,prepayId=wx27120333792305e6ee99227e3047551700,result=1
2019-05-27 12:05:16.331  INFO 14198 --- [http-nio-8080-exec-6] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{payOrderId=P0020190527115316000000, sign=B227EFB4A885774A075B0BA4BA2FCD69, resCode=SUCCESS, payUrl=https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx27120333792305e6ee99227e3047551700&package=1338354181, prepayId=wx27120333792305e6ee99227e3047551700, retCode=SUCCESS, retMsg=}
2019-05-27 13:43:54.064  INFO 14198 --- [Thread-20] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon May 27 11:16:12 CST 2019]; root of context hierarchy
2019-05-27 13:43:54.088  INFO 14198 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-05-27 13:43:54.090  INFO 14198 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-05-27 13:43:54.102  INFO 14198 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-05-27 13:43:54.102  INFO 14198 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-05-27 13:43:54.114  INFO 14198 --- [Thread-20] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-05-29 14:28:04.313  INFO 72113 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 72113 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-05-29 14:28:04.319  INFO 72113 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-05-29 14:28:04.483  INFO 72113 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Wed May 29 14:28:04 CST 2019]; root of context hierarchy
2019-05-29 14:28:06.063  INFO 72113 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$aea28089] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-29 14:28:06.674  INFO 72113 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-05-29 14:28:06.688  INFO 72113 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-29 14:28:06.690  INFO 72113 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-05-29 14:28:06.824  INFO 72113 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-29 14:28:06.824  INFO 72113 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2346 ms
2019-05-29 14:28:07.094  INFO 72113 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-05-29 14:28:07.107  INFO 72113 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-05-29 14:28:07.108  INFO 72113 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-05-29 14:28:07.108  INFO 72113 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-05-29 14:28:07.108  INFO 72113 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-05-29 14:28:08.601  INFO 72113 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-05-29 14:28:10.427  INFO 72113 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Wed May 29 14:28:04 CST 2019]; root of context hierarchy
2019-05-29 14:28:10.536  INFO 72113 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-29 14:28:10.538  INFO 72113 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-29 14:28:10.540  INFO 72113 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-05-29 14:28:10.540  INFO 72113 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-05-29 14:28:10.541  INFO 72113 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-05-29 14:28:10.541  INFO 72113 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-05-29 14:28:10.541  INFO 72113 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-05-29 14:28:10.545  INFO 72113 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-05-29 14:28:10.545  INFO 72113 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-05-29 14:28:10.598  INFO 72113 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-29 14:28:10.598  INFO 72113 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-29 14:28:10.689  INFO 72113 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-29 14:28:11.631  INFO 72113 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Wed May 29 14:28:04 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-05-29 14:28:11.633  INFO 72113 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-05-29 14:28:11.710  WARN 72113 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-05-29 14:28:12.245  INFO 72113 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-05-29 14:28:12.246  INFO 72113 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-05-29 14:28:12.256  INFO 72113 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-05-29 14:28:12.259  INFO 72113 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-05-29 14:28:12.261  INFO 72113 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-05-29 14:28:12.286  INFO 72113 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-05-29 14:28:12.286  INFO 72113 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-05-29 14:28:12.588  INFO 72113 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-05-29 14:28:12.604  INFO 72113 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 9.918 seconds (JVM running for 13.112)
2019-05-29 17:03:19.223  INFO 72113 --- [Thread-24] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Wed May 29 14:28:04 CST 2019]; root of context hierarchy
2019-05-29 17:03:19.260  INFO 72113 --- [Thread-24] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-05-29 17:03:19.261  INFO 72113 --- [Thread-24] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-05-29 17:03:19.278  INFO 72113 --- [Thread-24] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-05-29 17:03:19.279  INFO 72113 --- [Thread-24] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-05-29 17:03:19.315  INFO 72113 --- [Thread-24] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-05-31 15:55:46.517  INFO 17144 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 17144 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-05-31 15:55:46.523  INFO 17144 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-05-31 15:55:46.669  INFO 17144 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 31 15:55:46 CST 2019]; root of context hierarchy
2019-05-31 15:55:48.306  INFO 17144 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$1fee9b53] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-31 15:55:48.905  INFO 17144 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-05-31 15:55:48.919  INFO 17144 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-31 15:55:48.920  INFO 17144 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-05-31 15:55:49.028  INFO 17144 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-31 15:55:49.029  INFO 17144 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2373 ms
2019-05-31 15:55:49.224  INFO 17144 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-05-31 15:55:49.230  INFO 17144 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-05-31 15:55:49.231  INFO 17144 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-05-31 15:55:49.231  INFO 17144 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-05-31 15:55:49.231  INFO 17144 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-05-31 15:55:49.958  INFO 17144 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-05-31 15:55:51.746  INFO 17144 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 31 15:55:46 CST 2019]; root of context hierarchy
2019-05-31 15:55:51.895  INFO 17144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-31 15:55:51.898  INFO 17144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-31 15:55:51.900  INFO 17144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-05-31 15:55:51.900  INFO 17144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-05-31 15:55:51.900  INFO 17144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.Object com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-05-31 15:55:51.901  INFO 17144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.Object com.appchina.pay.center.controller.PayOrderController.payOrders(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-05-31 15:55:51.901  INFO 17144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-05-31 15:55:51.902  INFO 17144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-05-31 15:55:51.902  INFO 17144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-05-31 15:55:51.906  INFO 17144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-05-31 15:55:51.906  INFO 17144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-05-31 15:55:51.964  INFO 17144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-31 15:55:51.964  INFO 17144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-31 15:55:52.065  INFO 17144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-31 15:55:52.806  INFO 17144 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 31 15:55:46 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-05-31 15:55:52.807  INFO 17144 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-05-31 15:55:52.865  WARN 17144 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-05-31 15:55:53.342  INFO 17144 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-05-31 15:55:53.343  INFO 17144 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-05-31 15:55:53.357  INFO 17144 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-05-31 15:55:53.360  INFO 17144 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-05-31 15:55:53.361  INFO 17144 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-05-31 15:55:53.390  INFO 17144 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-05-31 15:55:53.390  INFO 17144 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-05-31 15:55:53.470  INFO 17144 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-05-31 15:55:53.478  INFO 17144 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.078 seconds (JVM running for 11.069)
2019-05-31 16:06:44.871  INFO 17144 --- [http-nio-8080-exec-1] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:472) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:683) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-05-31 16:08:52.154  INFO 17144 --- [http-nio-8080-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-05-31 16:08:52.155  INFO 17144 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-05-31 16:08:52.224  INFO 17144 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 69 ms
2019-05-31 16:08:52.346 ERROR 17144 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: argument type mismatch
HandlerMethod details: 
Controller [com.appchina.pay.center.controller.PayOrderController]
Method [public java.lang.Object com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)]
Resolved arguments: 
[0] [type=java.util.LinkedHashMap] [value={params=
{
    "mchId":"20001222",
    "goodsId":"1234",
    "goodsName":"孙悟空-至尊宝皮肤",
    "amount":1,
    "sign":"C380BEC2BFD727A4B6845133519F3AD6"
}}]
] with root cause

java.lang.IllegalArgumentException: argument type mismatch
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-05-31 16:10:48.517 ERROR 17144 --- [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: argument type mismatch
HandlerMethod details: 
Controller [com.appchina.pay.center.controller.PayOrderController]
Method [public java.lang.Object com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)]
Resolved arguments: 
[0] [type=java.util.LinkedHashMap] [value={params=
{
    "mchId":"20001222",
    "goodsId":"1234",
    "goodsName":"孙悟空-至尊宝皮肤",
    "amount":"1",
    "sign":"C380BEC2BFD727A4B6845133519F3AD6"
}}]
] with root cause

java.lang.IllegalArgumentException: argument type mismatch
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-05-31 16:11:42.853  INFO 17144 --- [Thread-20] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 31 15:55:46 CST 2019]; root of context hierarchy
2019-05-31 16:11:42.859  INFO 17144 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-05-31 16:11:42.859  INFO 17144 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-05-31 16:11:42.865  INFO 17144 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-05-31 16:11:42.865  INFO 17144 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-05-31 16:11:42.880  INFO 17144 --- [Thread-20] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-05-31 16:22:17.667  INFO 22090 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 22090 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-05-31 16:22:17.687  INFO 22090 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-05-31 16:22:18.082  INFO 22090 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 31 16:22:18 CST 2019]; root of context hierarchy
2019-05-31 16:22:20.201  INFO 22090 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$e4ce349a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-31 16:22:21.063  INFO 22090 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-05-31 16:22:21.102  INFO 22090 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-31 16:22:21.105  INFO 22090 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-05-31 16:22:21.255  INFO 22090 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-31 16:22:21.256  INFO 22090 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3180 ms
2019-05-31 16:22:21.509  INFO 22090 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-05-31 16:22:21.514  INFO 22090 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-05-31 16:22:21.515  INFO 22090 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-05-31 16:22:21.515  INFO 22090 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-05-31 16:22:21.516  INFO 22090 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-05-31 16:22:22.460  INFO 22090 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-05-31 16:22:24.340  INFO 22090 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 31 16:22:18 CST 2019]; root of context hierarchy
2019-05-31 16:22:24.442  INFO 22090 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-31 16:22:24.444  INFO 22090 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-31 16:22:24.446  INFO 22090 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-05-31 16:22:24.446  INFO 22090 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-05-31 16:22:24.447  INFO 22090 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-05-31 16:22:24.447  INFO 22090 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-05-31 16:22:24.447  INFO 22090 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-05-31 16:22:24.447  INFO 22090 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrders(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-05-31 16:22:24.448  INFO 22090 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-05-31 16:22:24.448  INFO 22090 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-05-31 16:22:24.449  INFO 22090 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-05-31 16:22:24.452  INFO 22090 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-05-31 16:22:24.453  INFO 22090 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-05-31 16:22:24.513  INFO 22090 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-31 16:22:24.513  INFO 22090 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-31 16:22:24.600  INFO 22090 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-31 16:22:25.372  INFO 22090 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 31 16:22:18 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-05-31 16:22:25.374  INFO 22090 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-05-31 16:22:25.417  WARN 22090 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-05-31 16:22:25.925  INFO 22090 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-05-31 16:22:25.927  INFO 22090 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-05-31 16:22:25.939  INFO 22090 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-05-31 16:22:25.943  INFO 22090 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-05-31 16:22:25.944  INFO 22090 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-05-31 16:22:25.971  INFO 22090 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-05-31 16:22:25.971  INFO 22090 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-05-31 16:22:26.061  INFO 22090 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-05-31 16:22:26.071  INFO 22090 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 9.403 seconds (JVM running for 12.193)
2019-05-31 16:22:29.531  INFO 22090 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-05-31 16:22:29.531  INFO 22090 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-05-31 16:22:29.558  INFO 22090 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 26 ms
2019-05-31 16:22:29.700  INFO 22090 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一预下单请求 ######
2019-05-31 16:22:54.785  INFO 22090 --- [http-nio-8080-exec-1] c.a.p.c.s.impl.PreOrderServiceImpl       : 成功创建预订单:{"amount":"1","mchId":"20001222","goodsId":"1234","goodsName":"孙悟空-至尊宝皮肤"}
2019-05-31 16:29:26.122  INFO 22090 --- [http-nio-8080-exec-3] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-05-31 16:29:42.105  INFO 22090 --- [http-nio-8080-exec-3] c.a.p.c.controller.PayOrderController    : 【商户统一下单】创建支付订单,结果:1
2019-05-31 16:30:00.991  INFO 22090 --- [http-nio-8080-exec-3] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/unifiedorder
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559291400095</nonce_str>
  <sign>EE83C7001C89A6CEF53172D1FB61023B</sign>
  <device_info></device_info>
  <body>测试商品描述</body>
  <out_trade_no>P0020190531162929000000</out_trade_no>
  <fee_type>CNY</fee_type>
  <total_fee>1</total_fee>
  <spbill_create_ip>127.0.0.1</spbill_create_ip>
  <notify_url>http://103.231.68.185:8080/wechat/notify</notify_url>
  <trade_type>MWEB</trade_type>
  <scene_info>{&quot;h5_info&quot;:{&quot;app_name&quot;:&quot;王者荣耀&quot;,&quot;package_name&quot;:&quot;com.tencent.tmgp.sgame&quot;,&quot;type&quot;:&quot;Android&quot;}}</scene_info>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<nonce_str><![CDATA[6Z5dso3LHk5jN8V9]]></nonce_str>
<sign><![CDATA[02DB916A3EB0B854A7B7174E0CE70DF3]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx3116300092245001dbb04b989468713500]]></prepay_id>
<trade_type><![CDATA[MWEB]]></trade_type>
<mweb_url><![CDATA[https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx3116300092245001dbb04b989468713500&package=926872679]]></mweb_url>
</xml>
2019-05-31 16:30:01.027  INFO 22090 --- [http-nio-8080-exec-3] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【微信支付统一下单】 >>> 下单成功
2019-05-31 16:30:01.097  INFO 22090 --- [http-nio-8080-exec-3] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 更新第三方支付订单号:payOrderId=P0020190531162929000000,prepayId=wx3116300092245001dbb04b989468713500,result=1
2019-05-31 16:30:01.098  INFO 22090 --- [http-nio-8080-exec-3] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{payOrderId=P0020190531162929000000, sign=220DE505BA7F42A3D928A20FF80C9D6F, resCode=SUCCESS, payUrl=https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx3116300092245001dbb04b989468713500&package=926872679, prepayId=wx3116300092245001dbb04b989468713500, retCode=SUCCESS, retMsg=}
2019-05-31 16:30:29.943  INFO 22090 --- [http-nio-8080-exec-4] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-05-31 16:30:29.989  INFO 22090 --- [http-nio-8080-exec-4] c.a.p.c.controller.PayOrderController    : 【商户统一下单】创建支付订单,结果:1
2019-05-31 16:30:34.976  INFO 22090 --- [http-nio-8080-exec-4] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/unifiedorder
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559291434690</nonce_str>
  <sign>B3B7B6957590775DFAB482E6997B5C3B</sign>
  <device_info></device_info>
  <body>测试商品描述</body>
  <out_trade_no>P0020190531163029000001</out_trade_no>
  <fee_type>CNY</fee_type>
  <total_fee>1</total_fee>
  <spbill_create_ip>127.0.0.1</spbill_create_ip>
  <notify_url>http://103.231.68.185:8080/wechat/notify</notify_url>
  <trade_type>MWEB</trade_type>
  <scene_info>{&quot;h5_info&quot;:{&quot;app_name&quot;:&quot;王者荣耀&quot;,&quot;package_name&quot;:&quot;com.tencent.tmgp.sgame&quot;,&quot;type&quot;:&quot;Android&quot;}}</scene_info>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<nonce_str><![CDATA[XeUx3zqp5q63qxDH]]></nonce_str>
<sign><![CDATA[AFF149949BB9AF2E49E38F90E7A2CFC8]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx31163034953152a9f8e4a0424150037800]]></prepay_id>
<trade_type><![CDATA[MWEB]]></trade_type>
<mweb_url><![CDATA[https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx31163034953152a9f8e4a0424150037800&package=273780071]]></mweb_url>
</xml>
2019-05-31 16:30:34.986  INFO 22090 --- [http-nio-8080-exec-4] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【微信支付统一下单】 >>> 下单成功
2019-05-31 16:30:35.006  INFO 22090 --- [http-nio-8080-exec-4] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 更新第三方支付订单号:payOrderId=P0020190531163029000001,prepayId=wx31163034953152a9f8e4a0424150037800,result=1
2019-05-31 16:30:35.006  INFO 22090 --- [http-nio-8080-exec-4] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{payOrderId=P0020190531163029000001, sign=4779122FDD144E1DF2CCDBEDB4A79029, resCode=SUCCESS, payUrl=https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx31163034953152a9f8e4a0424150037800&package=273780071, prepayId=wx31163034953152a9f8e4a0424150037800, retCode=SUCCESS, retMsg=}
2019-05-31 16:31:06.066  INFO 22090 --- [http-nio-8080-exec-5] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-05-31 16:31:38.672  INFO 22090 --- [http-nio-8080-exec-5] c.a.p.c.controller.PayOrderController    : 【商户统一下单】创建支付订单,结果:1
2019-05-31 16:31:39.019  INFO 22090 --- [http-nio-8080-exec-5] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/unifiedorder
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559291498680</nonce_str>
  <sign>C4DF943805C207DC6486FFEC804CB0B2</sign>
  <device_info></device_info>
  <body>测试商品描述</body>
  <out_trade_no>P0020190531163107000002</out_trade_no>
  <fee_type>CNY</fee_type>
  <total_fee>1</total_fee>
  <spbill_create_ip>127.0.0.1</spbill_create_ip>
  <notify_url>http://103.231.68.185:8080/wechat/notify</notify_url>
  <trade_type>MWEB</trade_type>
  <scene_info>{&quot;h5_info&quot;:{&quot;app_name&quot;:&quot;王者荣耀&quot;,&quot;package_name&quot;:&quot;com.tencent.tmgp.sgame&quot;,&quot;type&quot;:&quot;Android&quot;}}</scene_info>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<nonce_str><![CDATA[Xk2ucY2M5FiyJqoM]]></nonce_str>
<sign><![CDATA[AD43C0181399FC577AD248D134F7C8B6]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx311631389868563ff868b1140553665900]]></prepay_id>
<trade_type><![CDATA[MWEB]]></trade_type>
<mweb_url><![CDATA[https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx311631389868563ff868b1140553665900&package=2885124249]]></mweb_url>
</xml>
2019-05-31 16:31:39.028  INFO 22090 --- [http-nio-8080-exec-5] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【微信支付统一下单】 >>> 下单成功
2019-05-31 16:31:39.039  INFO 22090 --- [http-nio-8080-exec-5] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 更新第三方支付订单号:payOrderId=P0020190531163107000002,prepayId=wx311631389868563ff868b1140553665900,result=1
2019-05-31 16:31:39.040  INFO 22090 --- [http-nio-8080-exec-5] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{payOrderId=P0020190531163107000002, sign=88BC8F46A73DC0768C29DB8E117EFCE4, resCode=SUCCESS, payUrl=https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx311631389868563ff868b1140553665900&package=2885124249, prepayId=wx311631389868563ff868b1140553665900, retCode=SUCCESS, retMsg=}
2019-05-31 16:51:56.608  INFO 22090 --- [Thread-22] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 31 16:22:18 CST 2019]; root of context hierarchy
2019-05-31 16:51:56.654  INFO 22090 --- [Thread-22] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-05-31 16:51:56.655  INFO 22090 --- [Thread-22] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-05-31 16:51:56.663  INFO 22090 --- [Thread-22] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-05-31 16:51:56.665  INFO 22090 --- [Thread-22] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-05-31 16:51:56.682  INFO 22090 --- [Thread-22] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-05-31 17:20:13.733  INFO 32718 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 32718 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-05-31 17:20:13.740  INFO 32718 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-05-31 17:20:13.858  INFO 32718 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 31 17:20:13 CST 2019]; root of context hierarchy
2019-05-31 17:20:16.144  INFO 32718 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$16042e42] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-31 17:20:16.830  INFO 32718 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-05-31 17:20:16.845  INFO 32718 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-31 17:20:16.846  INFO 32718 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-05-31 17:20:16.971  INFO 32718 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-31 17:20:16.971  INFO 32718 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3118 ms
2019-05-31 17:20:17.219  INFO 32718 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-05-31 17:20:17.225  INFO 32718 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-05-31 17:20:17.226  INFO 32718 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-05-31 17:20:17.226  INFO 32718 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-05-31 17:20:17.227  INFO 32718 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-05-31 17:20:18.270  INFO 32718 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-05-31 17:20:20.034  INFO 32718 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 31 17:20:13 CST 2019]; root of context hierarchy
2019-05-31 17:20:20.124  INFO 32718 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-31 17:20:20.125  INFO 32718 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-05-31 17:20:20.127  INFO 32718 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-05-31 17:20:20.128  INFO 32718 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-05-31 17:20:20.128  INFO 32718 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-05-31 17:20:20.128  INFO 32718 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-05-31 17:20:20.129  INFO 32718 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-05-31 17:20:20.129  INFO 32718 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrders(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-05-31 17:20:20.129  INFO 32718 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-05-31 17:20:20.130  INFO 32718 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-05-31 17:20:20.130  INFO 32718 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-05-31 17:20:20.133  INFO 32718 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-05-31 17:20:20.134  INFO 32718 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-05-31 17:20:20.187  INFO 32718 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-31 17:20:20.187  INFO 32718 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-31 17:20:20.273  INFO 32718 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-05-31 17:20:21.032  INFO 32718 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 31 17:20:13 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-05-31 17:20:21.033  INFO 32718 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-05-31 17:20:21.071  WARN 32718 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-05-31 17:20:21.508  INFO 32718 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-05-31 17:20:21.510  INFO 32718 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-05-31 17:20:21.519  INFO 32718 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-05-31 17:20:21.522  INFO 32718 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-05-31 17:20:21.523  INFO 32718 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-05-31 17:20:21.547  INFO 32718 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-05-31 17:20:21.548  INFO 32718 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-05-31 17:20:21.624  INFO 32718 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-05-31 17:20:21.630  INFO 32718 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 9.024 seconds (JVM running for 11.834)
2019-05-31 17:23:54.738  INFO 32718 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-05-31 17:23:54.739  INFO 32718 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-05-31 17:23:54.767  INFO 32718 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 27 ms
2019-05-31 17:23:54.901  INFO 32718 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收商户查询支付订单请求 ######
2019-05-31 17:24:03.092  INFO 32718 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : 【商户支付订单查询】查询支付订单,结果:{"amount":1,"payOrderId":"P0020190531163107000002","mchId":"20001222","mchOrderNo":"584056406919872512","subject":"孙悟空-至尊宝皮肤","paySuccTime":1559291499029,"channelOrderNo":"wx311631389868563ff868b1140553665900","updateTime":1559291499000,"body":"测试商品描述","channelMchId":"1490509592","param1":"","param2":"","notifyCount":0,"createTime":1559291498000,"clientIp":"127.0.0.1","extra":"{\"sceneInfo\":{\"h5_info\":{\"app_name\":\"王者荣耀\",\"package_name\":\"com.tencent.tmgp.sgame\",\"type\":\"Android\"}}}","notifyUrl":"","currency":"cny","device":"","channelId":"WX_MWEB","status":1}
2019-05-31 17:24:03.098  INFO 32718 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 商户查询订单处理完成 ######
2019-05-31 17:24:03.102  INFO 32718 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{result={"amount":1,"payOrderId":"P0020190531163107000002","mchId":"20001222","mchOrderNo":"584056406919872512","subject":"孙悟空-至尊宝皮肤","paySuccTime":1559291499029,"channelOrderNo":"wx311631389868563ff868b1140553665900","updateTime":1559291499000,"body":"测试商品描述","channelMchId":"1490509592","param1":"","param2":"","notifyCount":0,"createTime":1559291498000,"clientIp":"127.0.0.1","extra":"{\"sceneInfo\":{\"h5_info\":{\"app_name\":\"王者荣耀\",\"package_name\":\"com.tencent.tmgp.sgame\",\"type\":\"Android\"}}}","notifyUrl":"","currency":"cny","device":"","channelId":"WX_MWEB","status":1}, sign=DDFCBFC38EFE86367C2E911E8B0CDECD, resCode=SUCCESS, retCode=SUCCESS, retMsg=}
2019-05-31 17:26:44.136  INFO 32718 --- [Thread-21] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Fri May 31 17:20:13 CST 2019]; root of context hierarchy
2019-05-31 17:26:44.139  INFO 32718 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-05-31 17:26:44.139  INFO 32718 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-05-31 17:26:44.142  INFO 32718 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-05-31 17:26:44.142  INFO 32718 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-05-31 17:26:44.151  INFO 32718 --- [Thread-21] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-03 17:15:05.596  INFO 32262 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 32262 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-03 17:15:05.601  INFO 32262 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-03 17:15:05.700  INFO 32262 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 17:15:05 CST 2019]; root of context hierarchy
2019-06-03 17:15:07.402  INFO 32262 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$59f75609] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-03 17:15:07.987  INFO 32262 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-03 17:15:08.001  INFO 32262 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-03 17:15:08.002  INFO 32262 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-03 17:15:08.106  INFO 32262 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-03 17:15:08.107  INFO 32262 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2412 ms
2019-06-03 17:15:08.313  INFO 32262 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-03 17:15:08.318  INFO 32262 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-03 17:15:08.319  INFO 32262 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-03 17:15:08.319  INFO 32262 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-03 17:15:08.319  INFO 32262 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-03 17:15:09.206  INFO 32262 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-03 17:15:10.836  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 17:15:05 CST 2019]; root of context hierarchy
2019-06-03 17:15:10.934  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 17:15:10.935  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 17:15:10.937  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-03 17:15:10.937  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 17:15:10.938  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-03 17:15:10.938  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-03 17:15:10.938  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 17:15:10.938  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-03 17:15:10.939  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 17:15:10.939  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-03 17:15:10.940  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-03 17:15:10.940  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-03 17:15:10.940  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-03 17:15:10.944  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-03 17:15:10.944  INFO 32262 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-03 17:15:10.999  INFO 32262 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 17:15:11.000  INFO 32262 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 17:15:11.078  INFO 32262 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 17:15:11.742  INFO 32262 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 17:15:05 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-03 17:15:11.744  INFO 32262 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-03 17:15:11.782  WARN 32262 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-03 17:15:12.260  INFO 32262 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-03 17:15:12.261  INFO 32262 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-03 17:15:12.273  INFO 32262 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-03 17:15:12.276  INFO 32262 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-03 17:15:12.278  INFO 32262 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-03 17:15:12.306  INFO 32262 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-03 17:15:12.307  INFO 32262 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-03 17:15:12.387  INFO 32262 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-03 17:15:12.393  INFO 32262 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 7.942 seconds (JVM running for 10.371)
2019-06-03 17:18:07.028  INFO 32262 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-03 17:18:07.029  INFO 32262 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-03 17:18:07.061  INFO 32262 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 32 ms
2019-06-03 17:18:21.670  INFO 32262 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-03 17:18:42.709  INFO 32262 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : 【查询订单】参数校验不通过:没有此订单 [orderId=584056406919872512].
2019-06-03 17:18:42.711  INFO 32262 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=没有此订单 [orderId=584056406919872512].}
2019-06-03 17:18:42.731  INFO 32262 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=该预订单还未发起支付}
2019-06-03 17:20:16.523  INFO 32262 --- [Thread-19] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 17:15:05 CST 2019]; root of context hierarchy
2019-06-03 17:20:16.529  INFO 32262 --- [Thread-19] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-03 17:20:16.530  INFO 32262 --- [Thread-19] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-03 17:20:16.535  INFO 32262 --- [Thread-19] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-03 17:20:16.536  INFO 32262 --- [Thread-19] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-03 17:20:16.544  INFO 32262 --- [Thread-19] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-03 17:20:29.533  INFO 33278 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 33278 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-03 17:20:29.541  INFO 33278 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-03 17:20:29.638  INFO 33278 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 03 17:20:29 CST 2019]; root of context hierarchy
2019-06-03 17:20:31.248  INFO 33278 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$241290f2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-03 17:20:31.763  INFO 33278 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-03 17:20:31.772  INFO 33278 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-03 17:20:31.773  INFO 33278 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-03 17:20:31.855  INFO 33278 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-03 17:20:31.855  INFO 33278 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2223 ms
2019-06-03 17:20:32.087  INFO 33278 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-03 17:20:32.093  INFO 33278 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-03 17:20:32.093  INFO 33278 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-03 17:20:32.093  INFO 33278 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-03 17:20:32.094  INFO 33278 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-03 17:20:32.777  INFO 33278 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-03 17:20:34.455  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 03 17:20:29 CST 2019]; root of context hierarchy
2019-06-03 17:20:34.566  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 17:20:34.567  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 17:20:34.569  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 17:20:34.569  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-03 17:20:34.570  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-03 17:20:34.570  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 17:20:34.570  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-03 17:20:34.570  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-03 17:20:34.571  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 17:20:34.571  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-03 17:20:34.572  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-03 17:20:34.572  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-03 17:20:34.572  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-03 17:20:34.577  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-03 17:20:34.578  INFO 33278 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-03 17:20:34.630  INFO 33278 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 17:20:34.630  INFO 33278 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 17:20:34.729  INFO 33278 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 17:20:35.345  INFO 33278 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 03 17:20:29 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-03 17:20:35.346  INFO 33278 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-03 17:20:35.379  WARN 33278 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-03 17:20:35.820  INFO 33278 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-03 17:20:35.822  INFO 33278 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-03 17:20:35.837  INFO 33278 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-03 17:20:35.844  INFO 33278 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-03 17:20:35.846  INFO 33278 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-03 17:20:35.871  INFO 33278 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-03 17:20:35.872  INFO 33278 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-03 17:20:35.953  INFO 33278 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-03 17:20:35.959  INFO 33278 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 7.52 seconds (JVM running for 9.823)
2019-06-03 17:22:15.360  INFO 33278 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-03 17:22:15.360  INFO 33278 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-03 17:22:15.386  INFO 33278 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 26 ms
2019-06-03 17:22:20.661  INFO 33278 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-03 17:23:45.247  INFO 33278 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=调用微信支付失败, errCode=0111, sign=65CA09BF5C53F442B8C0C809CF4BFAE1, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-06-03 17:23:49.169  INFO 33278 --- [Thread-19] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 03 17:20:29 CST 2019]; root of context hierarchy
2019-06-03 17:23:49.175  INFO 33278 --- [Thread-19] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-03 17:23:49.178  INFO 33278 --- [Thread-19] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-03 17:23:49.183  INFO 33278 --- [Thread-19] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-03 17:23:49.184  INFO 33278 --- [Thread-19] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-03 17:23:49.194  INFO 33278 --- [Thread-19] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-03 17:24:44.050  INFO 34072 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 34072 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-03 17:24:44.055  INFO 34072 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-03 17:24:44.147  INFO 34072 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 03 17:24:44 CST 2019]; root of context hierarchy
2019-06-03 17:24:45.675  INFO 34072 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$1e8e5b64] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-03 17:24:46.176  INFO 34072 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-03 17:24:46.186  INFO 34072 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-03 17:24:46.187  INFO 34072 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-03 17:24:46.280  INFO 34072 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-03 17:24:46.280  INFO 34072 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2139 ms
2019-06-03 17:24:46.475  INFO 34072 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-03 17:24:46.481  INFO 34072 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-03 17:24:46.481  INFO 34072 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-03 17:24:46.482  INFO 34072 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-03 17:24:46.482  INFO 34072 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-03 17:24:47.584  INFO 34072 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-03 17:24:48.997  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 03 17:24:44 CST 2019]; root of context hierarchy
2019-06-03 17:24:49.089  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 17:24:49.091  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 17:24:49.093  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-03 17:24:49.093  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 17:24:49.093  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-03 17:24:49.094  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-03 17:24:49.094  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 17:24:49.094  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-03 17:24:49.095  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 17:24:49.095  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-03 17:24:49.095  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-03 17:24:49.095  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-03 17:24:49.096  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-03 17:24:49.099  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-03 17:24:49.100  INFO 34072 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-03 17:24:49.150  INFO 34072 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 17:24:49.150  INFO 34072 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 17:24:49.209  INFO 34072 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 17:24:49.786  INFO 34072 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 03 17:24:44 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-03 17:24:49.787  INFO 34072 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-03 17:24:49.826  WARN 34072 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-03 17:24:50.259  INFO 34072 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-03 17:24:50.261  INFO 34072 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-03 17:24:50.270  INFO 34072 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-03 17:24:50.273  INFO 34072 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-03 17:24:50.275  INFO 34072 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-03 17:24:50.308  INFO 34072 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-03 17:24:50.308  INFO 34072 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-03 17:24:50.375  INFO 34072 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-03 17:24:50.380  INFO 34072 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 7.401 seconds (JVM running for 9.561)
2019-06-03 17:25:16.714  INFO 34072 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-03 17:25:16.714  INFO 34072 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-03 17:25:16.739  INFO 34072 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 24 ms
2019-06-03 17:25:19.969  INFO 34072 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-03 17:25:48.327  INFO 34072 --- [http-nio-8080-exec-1] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559553941958</nonce_str>
  <sign>77E30814F23FED667F4CA5BEDD779AA5</sign>
  <transaction_id>P0020190531163107000002</transaction_id>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<nonce_str><![CDATA[iz2rAv8fnsG7mqCd]]></nonce_str>
<sign><![CDATA[1B56FA65D8CA4FED544F6201A514F80D]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[PARAM_ERROR]]></err_code>
<err_code_des><![CDATA[微信订单号非法]]></err_code_des>
</xml>
2019-06-03 17:25:48.457 ERROR 34072 --- [http-nio-8080-exec-1] c.g.b.w.b.result.WxPayOrderQueryResult   : 
结果业务代码异常，返回結果：{nonce_str=iz2rAv8fnsG7mqCd, appid=wxbc75211100824e50, sign=1B56FA65D8CA4FED544F6201A514F80D, err_code=PARAM_ERROR, return_msg=OK, result_code=FAIL, err_code_des=微信订单号非法, mch_id=1490509592, return_code=SUCCESS},
返回代码：SUCCESS，返回信息：OK，结果代码：FAIL，错误代码：PARAM_ERROR，错误详情：微信订单号非法
2019-06-03 17:26:18.092  INFO 34072 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=调用微信支付失败, errCode=0111, sign=65CA09BF5C53F442B8C0C809CF4BFAE1, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-06-03 17:29:47.081  INFO 34072 --- [Thread-19] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 03 17:24:44 CST 2019]; root of context hierarchy
2019-06-03 17:29:47.087  INFO 34072 --- [Thread-19] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-03 17:29:47.089  INFO 34072 --- [Thread-19] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-03 17:29:47.093  INFO 34072 --- [Thread-19] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-03 17:29:47.093  INFO 34072 --- [Thread-19] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-03 17:29:47.100  INFO 34072 --- [Thread-19] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-03 18:01:03.583  INFO 40838 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 40838 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-03 18:01:03.589  INFO 40838 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-03 18:01:03.711  INFO 40838 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 18:01:03 CST 2019]; root of context hierarchy
2019-06-03 18:01:05.500  INFO 40838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$2a56293b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-03 18:01:06.126  INFO 40838 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-03 18:01:06.144  INFO 40838 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-03 18:01:06.146  INFO 40838 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-03 18:01:06.269  INFO 40838 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-03 18:01:06.270  INFO 40838 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2564 ms
2019-06-03 18:01:06.475  INFO 40838 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-03 18:01:06.482  INFO 40838 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-03 18:01:06.483  INFO 40838 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-03 18:01:06.483  INFO 40838 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-03 18:01:06.483  INFO 40838 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-03 18:01:07.493  INFO 40838 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-03 18:01:09.063  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 18:01:03 CST 2019]; root of context hierarchy
2019-06-03 18:01:09.163  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 18:01:09.165  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 18:01:09.168  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-03 18:01:09.168  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:01:09.168  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-03 18:01:09.169  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-03 18:01:09.169  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:01:09.171  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-03 18:01:09.180  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:01:09.180  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-03 18:01:09.181  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-03 18:01:09.181  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-03 18:01:09.181  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-03 18:01:09.187  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-03 18:01:09.188  INFO 40838 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-03 18:01:09.247  INFO 40838 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:01:09.248  INFO 40838 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:01:09.342  INFO 40838 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:01:10.010  INFO 40838 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 18:01:03 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-03 18:01:10.011  INFO 40838 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-03 18:01:10.051  WARN 40838 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-03 18:01:10.550  INFO 40838 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-03 18:01:10.552  INFO 40838 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-03 18:01:10.561  INFO 40838 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-03 18:01:10.565  INFO 40838 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-03 18:01:10.566  INFO 40838 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-03 18:01:10.589  INFO 40838 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-03 18:01:10.589  INFO 40838 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-03 18:01:10.668  INFO 40838 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-03 18:01:10.680  INFO 40838 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.043 seconds (JVM running for 9.408)
2019-06-03 18:01:43.874  INFO 40838 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-03 18:01:43.875  INFO 40838 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-03 18:01:43.906  INFO 40838 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 31 ms
2019-06-03 18:01:44.046  INFO 40838 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一预下单请求 ######
2019-06-03 18:01:44.297  INFO 40838 --- [http-nio-8080-exec-1] c.a.p.c.s.impl.PreOrderServiceImpl       : 成功创建预订单:{"amount":"1","mchId":"20001222","goodsId":"1234","goodsName":"孙悟空-至尊宝皮肤"}
2019-06-03 18:02:21.175  INFO 40838 --- [http-nio-8080-exec-2] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-06-03 18:02:21.425  INFO 40838 --- [http-nio-8080-exec-2] c.a.p.c.controller.PayOrderController    : 【商户统一下单】创建支付订单,结果:1
2019-06-03 18:02:22.862  INFO 40838 --- [http-nio-8080-exec-2] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/unifiedorder
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559556141445</nonce_str>
  <sign>8CB54922ED388C5FC166EA3DDD3F48E1</sign>
  <device_info></device_info>
  <body>测试商品描述</body>
  <out_trade_no>P0020190603180221000000</out_trade_no>
  <fee_type>CNY</fee_type>
  <total_fee>1</total_fee>
  <spbill_create_ip>127.0.0.1</spbill_create_ip>
  <notify_url>http://103.231.68.185:8080/wechat/notify</notify_url>
  <trade_type>MWEB</trade_type>
  <scene_info>{&quot;h5_info&quot;:{&quot;app_name&quot;:&quot;王者荣耀&quot;,&quot;package_name&quot;:&quot;com.tencent.tmgp.sgame&quot;,&quot;type&quot;:&quot;Android&quot;}}</scene_info>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<nonce_str><![CDATA[kTh7Hfn9aA90Vhir]]></nonce_str>
<sign><![CDATA[175739F31C54797A760B986728086B86]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx0318022215240662c339b92d8287601500]]></prepay_id>
<trade_type><![CDATA[MWEB]]></trade_type>
<mweb_url><![CDATA[https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx0318022215240662c339b92d8287601500&package=2819233593]]></mweb_url>
</xml>
2019-06-03 18:02:22.899  INFO 40838 --- [http-nio-8080-exec-2] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【微信支付统一下单】 >>> 下单成功
2019-06-03 18:02:22.945  INFO 40838 --- [http-nio-8080-exec-2] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 更新第三方支付订单号:payOrderId=P0020190603180221000000,prepayId=wx0318022215240662c339b92d8287601500,result=1
2019-06-03 18:02:22.956 ERROR 40838 --- [http-nio-8080-exec-2] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 微信支付统一下单异常java.lang.NullPointerException

java.lang.NullPointerException: null
	at com.appchina.pay.center.service.impl.PayChannel4WxServiceImpl.doWxPayRequest(PayChannel4WxServiceImpl.java:241) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.doWxPayRequest(PayOrderServiceImpl.java:129) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(PayOrderController.java:409) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.preOrder(PayOrderController.java:372) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-06-03 18:02:22.958 ERROR 40838 --- [http-nio-8080-exec-2] c.a.p.c.controller.PayOrderController    : java.lang.NullPointerException

java.lang.NullPointerException: null
	at com.appchina.pay.center.service.impl.PayChannel4WxServiceImpl.doWxPayRequest(PayChannel4WxServiceImpl.java:268) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.doWxPayRequest(PayOrderServiceImpl.java:129) ~[classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(PayOrderController.java:409) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.preOrder(PayOrderController.java:372) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-06-03 18:02:22.960  INFO 40838 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=支付中心系统异常}
2019-06-03 18:05:49.572  INFO 40838 --- [http-nio-8080-exec-4] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-03 18:06:08.568  INFO 40838 --- [http-nio-8080-exec-4] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559556368144</nonce_str>
  <sign>08BC82E7CADF0AA2A7BEEA7EF0C3A8CA</sign>
  <transaction_id>P0020190603180221000000</transaction_id>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<nonce_str><![CDATA[93aDqOCRYsQLPnv1]]></nonce_str>
<sign><![CDATA[AA3F7DF81198AD545AC9119D9CCE850D]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[PARAM_ERROR]]></err_code>
<err_code_des><![CDATA[微信订单号非法]]></err_code_des>
</xml>
2019-06-03 18:06:08.627 ERROR 40838 --- [http-nio-8080-exec-4] c.g.b.w.b.result.WxPayOrderQueryResult   : 
结果业务代码异常，返回結果：{nonce_str=93aDqOCRYsQLPnv1, appid=wxbc75211100824e50, sign=AA3F7DF81198AD545AC9119D9CCE850D, err_code=PARAM_ERROR, return_msg=OK, result_code=FAIL, err_code_des=微信订单号非法, mch_id=1490509592, return_code=SUCCESS},
返回代码：SUCCESS，返回信息：OK，结果代码：FAIL，错误代码：PARAM_ERROR，错误详情：微信订单号非法
2019-06-03 18:06:24.085  INFO 40838 --- [http-nio-8080-exec-4] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=调用微信支付失败, errCode=0111, sign=65CA09BF5C53F442B8C0C809CF4BFAE1, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-06-03 18:06:34.530  INFO 40838 --- [Thread-19] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 18:01:03 CST 2019]; root of context hierarchy
2019-06-03 18:06:34.538  INFO 40838 --- [Thread-19] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-03 18:06:34.539  INFO 40838 --- [Thread-19] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-03 18:06:34.545  INFO 40838 --- [Thread-19] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-03 18:06:34.546  INFO 40838 --- [Thread-19] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-03 18:06:34.556  INFO 40838 --- [Thread-19] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-03 18:10:45.753  INFO 42644 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 42644 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-03 18:10:45.759  INFO 42644 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-03 18:10:45.858  INFO 42644 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 18:10:45 CST 2019]; root of context hierarchy
2019-06-03 18:10:48.119  INFO 42644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$e9d6de59] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-03 18:10:48.737  INFO 42644 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-03 18:10:48.748  INFO 42644 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-03 18:10:48.749  INFO 42644 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-03 18:10:48.848  INFO 42644 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-03 18:10:48.848  INFO 42644 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2994 ms
2019-06-03 18:10:49.126  INFO 42644 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-03 18:10:49.131  INFO 42644 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-03 18:10:49.132  INFO 42644 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-03 18:10:49.132  INFO 42644 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-03 18:10:49.132  INFO 42644 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-03 18:10:49.894  INFO 42644 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-03 18:10:51.453  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 18:10:45 CST 2019]; root of context hierarchy
2019-06-03 18:10:51.554  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 18:10:51.556  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 18:10:51.558  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:10:51.559  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-03 18:10:51.559  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-03 18:10:51.559  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:10:51.559  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-03 18:10:51.560  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-03 18:10:51.561  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:10:51.561  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-03 18:10:51.561  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-03 18:10:51.561  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-03 18:10:51.562  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-03 18:10:51.566  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-03 18:10:51.567  INFO 42644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-03 18:10:51.619  INFO 42644 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:10:51.619  INFO 42644 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:10:51.686  INFO 42644 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:10:52.364  INFO 42644 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 18:10:45 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-03 18:10:52.365  INFO 42644 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-03 18:10:52.410  WARN 42644 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-03 18:10:53.162  INFO 42644 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-03 18:10:53.167  INFO 42644 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-03 18:10:53.179  INFO 42644 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-03 18:10:53.183  INFO 42644 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-03 18:10:53.184  INFO 42644 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-03 18:10:53.208  INFO 42644 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-03 18:10:53.209  INFO 42644 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-03 18:10:53.287  INFO 42644 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-03 18:10:53.295  INFO 42644 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.968 seconds (JVM running for 11.832)
2019-06-03 18:11:12.148  INFO 42644 --- [Thread-21] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 18:10:45 CST 2019]; root of context hierarchy
2019-06-03 18:11:12.153  INFO 42644 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-03 18:11:12.154  INFO 42644 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-03 18:11:12.156  INFO 42644 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-03 18:11:12.156  INFO 42644 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-03 18:11:12.166  INFO 42644 --- [Thread-21] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-03 18:12:03.040  INFO 42885 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 42885 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-03 18:12:03.054  INFO 42885 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-03 18:12:03.163  INFO 42885 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 03 18:12:03 CST 2019]; root of context hierarchy
2019-06-03 18:12:05.319  INFO 42885 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$65a029f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-03 18:12:05.902  INFO 42885 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-03 18:12:05.913  INFO 42885 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-03 18:12:05.914  INFO 42885 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-03 18:12:06.019  INFO 42885 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-03 18:12:06.020  INFO 42885 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2864 ms
2019-06-03 18:12:06.229  INFO 42885 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-03 18:12:06.235  INFO 42885 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-03 18:12:06.236  INFO 42885 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-03 18:12:06.236  INFO 42885 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-03 18:12:06.236  INFO 42885 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-03 18:12:07.368  INFO 42885 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-03 18:12:08.887  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 03 18:12:03 CST 2019]; root of context hierarchy
2019-06-03 18:12:08.965  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 18:12:08.967  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 18:12:08.970  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:12:08.970  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-03 18:12:08.971  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-03 18:12:08.972  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:12:08.973  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-03 18:12:08.973  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-03 18:12:08.975  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-03 18:12:08.975  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-03 18:12:08.975  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:12:08.975  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-03 18:12:08.976  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-03 18:12:08.979  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-03 18:12:08.980  INFO 42885 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-03 18:12:09.034  INFO 42885 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:12:09.034  INFO 42885 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:12:09.111  INFO 42885 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:12:09.792  INFO 42885 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 03 18:12:03 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-03 18:12:09.794  INFO 42885 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-03 18:12:09.828  WARN 42885 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-03 18:12:10.276  INFO 42885 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-03 18:12:10.277  INFO 42885 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-03 18:12:10.290  INFO 42885 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-03 18:12:10.293  INFO 42885 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-03 18:12:10.295  INFO 42885 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-03 18:12:10.330  INFO 42885 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-03 18:12:10.330  INFO 42885 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-03 18:12:10.413  INFO 42885 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-03 18:12:10.421  INFO 42885 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 9.215 seconds (JVM running for 12.82)
2019-06-03 18:12:32.604  INFO 42885 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-03 18:12:32.605  INFO 42885 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-03 18:12:32.646  INFO 42885 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 41 ms
2019-06-03 18:12:37.780  INFO 42885 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-03 18:12:58.159  INFO 42885 --- [http-nio-8080-exec-1] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559556771679</nonce_str>
  <sign>C70012F513F0130F62FA3B56D67A112F</sign>
  <transaction_id>wx0318022215240662c339b92d8287601500</transaction_id>
</xml>
【响应数据】：<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[transaction_id参数长度有误]]></return_msg>
</xml>
2019-06-03 18:12:58.293 ERROR 42885 --- [http-nio-8080-exec-1] c.g.b.w.b.result.WxPayOrderQueryResult   : 
结果业务代码异常，返回結果：{return_msg=transaction_id参数长度有误, return_code=FAIL},
返回代码：FAIL，返回信息：transaction_id参数长度有误
2019-06-03 18:13:48.821  INFO 42885 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=调用微信支付失败, errCode=0111, sign=65CA09BF5C53F442B8C0C809CF4BFAE1, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-06-03 18:15:15.229  INFO 42885 --- [Thread-23] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 03 18:12:03 CST 2019]; root of context hierarchy
2019-06-03 18:15:15.233  INFO 42885 --- [Thread-23] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-03 18:15:15.233  INFO 42885 --- [Thread-23] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-03 18:15:15.236  INFO 42885 --- [Thread-23] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-03 18:15:15.236  INFO 42885 --- [Thread-23] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-03 18:15:15.247  INFO 42885 --- [Thread-23] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-03 18:16:29.604  INFO 43715 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 43715 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-03 18:16:29.611  INFO 43715 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-03 18:16:29.786  INFO 43715 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2dc995f4: startup date [Mon Jun 03 18:16:29 CST 2019]; root of context hierarchy
2019-06-03 18:17:31.078  INFO 43911 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 43911 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-03 18:17:31.086  INFO 43911 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-03 18:17:31.246  INFO 43911 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@497486b3: startup date [Mon Jun 03 18:17:31 CST 2019]; root of context hierarchy
2019-06-03 18:17:33.392  INFO 43911 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$7560dbc2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-03 18:17:33.957  INFO 43911 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-03 18:17:33.966  INFO 43911 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-03 18:17:33.967  INFO 43911 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-03 18:17:34.059  INFO 43911 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-03 18:17:34.059  INFO 43911 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2817 ms
2019-06-03 18:17:34.267  INFO 43911 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-03 18:17:34.271  INFO 43911 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-03 18:17:34.272  INFO 43911 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-03 18:17:34.272  INFO 43911 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-03 18:17:34.272  INFO 43911 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-03 18:17:35.347  INFO 43911 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-03 18:17:36.742  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@497486b3: startup date [Mon Jun 03 18:17:31 CST 2019]; root of context hierarchy
2019-06-03 18:17:36.834  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 18:17:36.836  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 18:17:36.838  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-03 18:17:36.839  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:17:36.839  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-03 18:17:36.839  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-03 18:17:36.839  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:17:36.839  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-03 18:17:36.840  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:17:36.840  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-03 18:17:36.841  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-03 18:17:36.841  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-03 18:17:36.841  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-03 18:17:36.846  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-03 18:17:36.846  INFO 43911 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-03 18:17:36.902  INFO 43911 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:17:36.902  INFO 43911 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:17:37.082  INFO 43911 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:17:37.713  INFO 43911 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@497486b3: startup date [Mon Jun 03 18:17:31 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-03 18:17:37.716  INFO 43911 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-03 18:17:37.752  WARN 43911 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-03 18:17:38.229  INFO 43911 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-03 18:17:38.230  INFO 43911 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-03 18:17:38.240  INFO 43911 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-03 18:17:38.243  INFO 43911 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-03 18:17:38.244  INFO 43911 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-03 18:17:38.276  INFO 43911 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-03 18:17:38.277  INFO 43911 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-03 18:17:38.349  INFO 43911 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-03 18:17:38.355  INFO 43911 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.417 seconds (JVM running for 11.715)
2019-06-03 18:22:10.494  INFO 43911 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-03 18:22:10.495  INFO 43911 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-03 18:22:10.519  INFO 43911 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 24 ms
2019-06-03 18:22:10.641  INFO 43911 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一预下单请求 ######
2019-06-03 18:22:10.837  INFO 43911 --- [http-nio-8080-exec-1] c.a.p.c.s.impl.PreOrderServiceImpl       : 成功创建预订单:{"amount":"1","mchId":"20001222","goodsId":"1234","goodsName":"孙悟空-至尊宝皮肤"}
2019-06-03 18:22:21.725  INFO 43911 --- [http-nio-8080-exec-2] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-06-03 18:22:21.837  INFO 43911 --- [http-nio-8080-exec-2] c.a.p.c.controller.PayOrderController    : 【商户统一下单】创建支付订单,结果:1
2019-06-03 18:22:22.666  INFO 43911 --- [http-nio-8080-exec-2] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/unifiedorder
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559557341895</nonce_str>
  <sign>B92CFF7CE214C4B954DA4C68FF96FFC5</sign>
  <device_info></device_info>
  <body>测试商品描述</body>
  <out_trade_no>P0020190603182221000000</out_trade_no>
  <fee_type>CNY</fee_type>
  <total_fee>1</total_fee>
  <spbill_create_ip>127.0.0.1</spbill_create_ip>
  <notify_url>http://103.231.68.185:8080/wechat/notify</notify_url>
  <trade_type>MWEB</trade_type>
  <scene_info>{&quot;h5_info&quot;:{&quot;app_name&quot;:&quot;王者荣耀&quot;,&quot;package_name&quot;:&quot;com.tencent.tmgp.sgame&quot;,&quot;type&quot;:&quot;Android&quot;}}</scene_info>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<nonce_str><![CDATA[uxnhuhCsJwVfYaA8]]></nonce_str>
<sign><![CDATA[04793C939893A9E75A7101641CF29424]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx0318222261789323bf9b25072251416300]]></prepay_id>
<trade_type><![CDATA[MWEB]]></trade_type>
<mweb_url><![CDATA[https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx0318222261789323bf9b25072251416300&package=1683057022]]></mweb_url>
</xml>
2019-06-03 18:22:22.699  INFO 43911 --- [http-nio-8080-exec-2] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【微信支付统一下单】 >>> 下单成功
2019-06-03 18:22:22.750  INFO 43911 --- [http-nio-8080-exec-2] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 更新第三方支付订单号:payOrderId=P0020190603182221000000,prepayId=wx0318222261789323bf9b25072251416300,result=1
2019-06-03 18:22:22.751  INFO 43911 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{payOrderId=P0020190603182221000000, sign=C98C67C73C86E903212338AD45BD0488, resCode=SUCCESS, payUrl=https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx0318222261789323bf9b25072251416300&package=1683057022, prepayId=wx0318222261789323bf9b25072251416300, retCode=SUCCESS, retMsg=}
2019-06-03 18:23:17.444  INFO 43911 --- [http-nio-8080-exec-3] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-03 18:23:58.113  INFO 43911 --- [http-nio-8080-exec-3] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559557437889</nonce_str>
  <sign>B1BFD4DBD427A1FA2630A4294CFB45A0</sign>
  <transaction_id>wx0318222261789323bf9b25072251416300</transaction_id>
</xml>
【响应数据】：<xml><return_code><![CDATA[FAIL]]></return_code>
<return_msg><![CDATA[transaction_id参数长度有误]]></return_msg>
</xml>
2019-06-03 18:23:58.157 ERROR 43911 --- [http-nio-8080-exec-3] c.g.b.w.b.result.WxPayOrderQueryResult   : 
结果业务代码异常，返回結果：{return_msg=transaction_id参数长度有误, return_code=FAIL},
返回代码：FAIL，返回信息：transaction_id参数长度有误
2019-06-03 18:23:58.161  INFO 43911 --- [http-nio-8080-exec-3] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=调用微信支付失败, errCode=0111, sign=65CA09BF5C53F442B8C0C809CF4BFAE1, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-06-03 18:27:55.454  INFO 43911 --- [Thread-21] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@497486b3: startup date [Mon Jun 03 18:17:31 CST 2019]; root of context hierarchy
2019-06-03 18:27:55.460  INFO 43911 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-03 18:27:55.461  INFO 43911 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-03 18:27:55.466  INFO 43911 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-03 18:27:55.466  INFO 43911 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-03 18:27:55.472  INFO 43911 --- [Thread-21] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-03 18:29:09.048  INFO 46066 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 46066 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-03 18:29:09.055  INFO 46066 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-03 18:29:09.147  INFO 46066 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 18:29:09 CST 2019]; root of context hierarchy
2019-06-03 18:29:10.853  INFO 46066 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$92099476] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-03 18:29:11.575  INFO 46066 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-03 18:29:11.586  INFO 46066 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-03 18:29:11.587  INFO 46066 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-03 18:29:11.688  INFO 46066 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-03 18:29:11.688  INFO 46066 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2545 ms
2019-06-03 18:29:11.991  INFO 46066 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-03 18:29:11.997  INFO 46066 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-03 18:29:11.998  INFO 46066 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-03 18:29:11.998  INFO 46066 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-03 18:29:11.999  INFO 46066 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-03 18:29:13.318  INFO 46066 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-03 18:29:15.027  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 18:29:09 CST 2019]; root of context hierarchy
2019-06-03 18:29:15.109  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 18:29:15.111  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 18:29:15.113  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-03 18:29:15.113  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:29:15.113  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-03 18:29:15.113  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-03 18:29:15.114  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:29:15.114  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-03 18:29:15.114  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-03 18:29:15.115  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-03 18:29:15.115  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-03 18:29:15.115  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 18:29:15.116  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-03 18:29:15.120  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-03 18:29:15.120  INFO 46066 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-03 18:29:15.185  INFO 46066 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:29:15.186  INFO 46066 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:29:15.277  INFO 46066 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 18:29:15.904  INFO 46066 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 18:29:09 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-03 18:29:15.906  INFO 46066 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-03 18:29:15.942  WARN 46066 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-03 18:29:16.353  INFO 46066 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-03 18:29:16.354  INFO 46066 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-03 18:29:16.364  INFO 46066 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-03 18:29:16.367  INFO 46066 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-03 18:29:16.369  INFO 46066 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-03 18:29:16.400  INFO 46066 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-03 18:29:16.400  INFO 46066 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-03 18:29:16.484  INFO 46066 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-03 18:29:16.495  INFO 46066 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.805 seconds (JVM running for 11.409)
2019-06-03 18:29:17.467  INFO 46066 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-03 18:29:17.467  INFO 46066 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-03 18:29:17.494  INFO 46066 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 27 ms
2019-06-03 18:29:21.281  INFO 46066 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-03 18:29:49.016  INFO 46066 --- [http-nio-8080-exec-1] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559557782487</nonce_str>
  <sign>D3BFAA90B3948D82B3030DBC1DCAE265</sign>
  <out_trade_no>P0020190603182221000000</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[pP5Pl3m6HK2PBpyG]]></nonce_str>
<sign><![CDATA[23B3EF21E27663AE7F064BC374AB1B87]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>1</total_fee>
<out_trade_no><![CDATA[P0020190603182221000000]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-06-03 18:29:59.230  INFO 46066 --- [http-nio-8080-exec-1] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【查询微信支付订单】 >>> 查询订单单成功
2019-06-03 18:30:10.893 ERROR 46066 --- [http-nio-8080-exec-1] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 微信支付查询订单异常java.lang.RuntimeException: Value for payOrderId cannot be null

java.lang.RuntimeException: Value for payOrderId cannot be null
	at com.appchina.pay.dao.model.PayOrderExample$GeneratedCriteria.addCriterion(PayOrderExample.java:119) ~[classes/:na]
	at com.appchina.pay.dao.model.PayOrderExample$GeneratedCriteria.andPayOrderIdEqualTo(PayOrderExample.java:142) ~[classes/:na]
	at com.appchina.pay.dao.model.PayOrderExample$Criteria.andPayOrderIdEqualTo(PayOrderExample.java:1802) ~[classes/:na]
	at com.appchina.pay.center.service.BaseService.baseUpdateStatus4Failed(BaseService.java:92) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayChannel4WxServiceImpl.queryWxPayOrderRequest(PayChannel4WxServiceImpl.java:371) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.queryWxPayOrderRequest(PayOrderServiceImpl.java:140) [classes/:na]
	at com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(QueryPayOrderController.java:169) [classes/:na]
	at com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(QueryPayOrderController.java:149) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-06-03 18:30:10.904  INFO 46066 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=调用微信支付失败, errCode=0111, sign=65CA09BF5C53F442B8C0C809CF4BFAE1, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-06-03 18:31:45.239  INFO 46066 --- [Thread-21] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 18:29:09 CST 2019]; root of context hierarchy
2019-06-03 18:31:45.245  INFO 46066 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-03 18:31:45.245  INFO 46066 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-03 18:31:45.250  INFO 46066 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-03 18:31:45.251  INFO 46066 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-03 18:31:45.273  INFO 46066 --- [Thread-21] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-03 19:01:26.068  INFO 52070 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 52070 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-03 19:01:26.074  INFO 52070 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-03 19:01:26.203  INFO 52070 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5460cf3a: startup date [Mon Jun 03 19:01:26 CST 2019]; root of context hierarchy
2019-06-03 19:01:28.322  INFO 52070 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$9157f856] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-03 19:01:29.212  INFO 52070 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-03 19:01:29.227  INFO 52070 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-03 19:01:29.229  INFO 52070 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-03 19:01:29.347  INFO 52070 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-03 19:01:29.347  INFO 52070 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3152 ms
2019-06-03 19:01:29.606  INFO 52070 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-03 19:01:29.612  INFO 52070 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-03 19:01:29.613  INFO 52070 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-03 19:01:29.613  INFO 52070 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-03 19:01:29.613  INFO 52070 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-03 19:01:30.544  INFO 52070 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-03 19:01:33.172  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5460cf3a: startup date [Mon Jun 03 19:01:26 CST 2019]; root of context hierarchy
2019-06-03 19:01:33.279  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 19:01:33.281  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 19:01:33.283  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-03 19:01:33.283  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 19:01:33.283  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-03 19:01:33.283  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-03 19:01:33.284  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 19:01:33.284  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-03 19:01:33.289  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 19:01:33.289  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-03 19:01:33.290  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-03 19:01:33.290  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-03 19:01:33.290  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-03 19:01:33.294  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-03 19:01:33.294  INFO 52070 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-03 19:01:33.353  INFO 52070 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 19:01:33.354  INFO 52070 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 19:01:33.476  INFO 52070 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 19:01:34.204  INFO 52070 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5460cf3a: startup date [Mon Jun 03 19:01:26 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-03 19:01:34.206  INFO 52070 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-03 19:01:34.248  WARN 52070 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-03 19:01:34.716  INFO 52070 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-03 19:01:34.717  INFO 52070 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-03 19:01:34.729  INFO 52070 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-03 19:01:34.732  INFO 52070 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-03 19:01:34.733  INFO 52070 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-03 19:01:34.754  INFO 52070 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-03 19:01:34.755  INFO 52070 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-03 19:01:34.826  INFO 52070 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-03 19:01:34.832  INFO 52070 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 10.073 seconds (JVM running for 12.278)
2019-06-03 19:01:37.201  INFO 52070 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-03 19:01:37.201  INFO 52070 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-03 19:01:37.271  INFO 52070 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 70 ms
2019-06-03 19:01:42.234  INFO 52070 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-03 19:01:55.649  INFO 52070 --- [http-nio-8080-exec-1] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559559709145</nonce_str>
  <sign>174A1EB7AE2682340FDC69279CCDD9F4</sign>
  <out_trade_no>P0020190603182221000000</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[C7CHYOZjY2DpLu4h]]></nonce_str>
<sign><![CDATA[FBD0F4796E426DFA7DB9EC99DCFD74B2]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>1</total_fee>
<out_trade_no><![CDATA[P0020190603182221000000]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-06-03 19:01:57.255  INFO 52070 --- [http-nio-8080-exec-1] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【查询微信支付订单】 >>> 查询订单单成功
2019-06-03 19:02:03.055  INFO 52070 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{tradeStateDesc=订单未支付, orderId=585171387757363200, sign=CD694B96B0D8947EE0BF938F12E5D0E4, resCode=SUCCESS, retCode=SUCCESS, retMsg=, tradeState=NOTPAY}
2019-06-03 19:02:51.911  INFO 52070 --- [Thread-23] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5460cf3a: startup date [Mon Jun 03 19:01:26 CST 2019]; root of context hierarchy
2019-06-03 19:02:51.924  INFO 52070 --- [Thread-23] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-03 19:02:51.924  INFO 52070 --- [Thread-23] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-03 19:02:51.929  INFO 52070 --- [Thread-23] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-03 19:02:51.930  INFO 52070 --- [Thread-23] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-03 19:02:51.953  INFO 52070 --- [Thread-23] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-03 19:37:22.939  INFO 58799 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 58799 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-03 19:37:22.951  INFO 58799 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-03 19:37:23.084  INFO 58799 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 19:37:23 CST 2019]; root of context hierarchy
2019-06-03 19:37:24.604  INFO 58799 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$a4138df] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-03 19:37:25.216  INFO 58799 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-03 19:37:25.228  INFO 58799 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-03 19:37:25.230  INFO 58799 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-03 19:37:25.335  INFO 58799 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-03 19:37:25.335  INFO 58799 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2259 ms
2019-06-03 19:37:25.542  INFO 58799 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-03 19:37:25.548  INFO 58799 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-03 19:37:25.549  INFO 58799 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-03 19:37:25.549  INFO 58799 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-03 19:37:25.549  INFO 58799 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-03 19:37:26.254  INFO 58799 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-03 19:37:27.828  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 19:37:23 CST 2019]; root of context hierarchy
2019-06-03 19:37:27.919  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 19:37:27.920  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 19:37:27.924  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-03 19:37:27.924  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 19:37:27.924  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-03 19:37:27.924  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-03 19:37:27.925  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 19:37:27.925  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-03 19:37:27.926  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 19:37:27.926  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-03 19:37:27.926  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-03 19:37:27.927  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-03 19:37:27.927  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-03 19:37:27.931  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-03 19:37:27.931  INFO 58799 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-03 19:37:27.983  INFO 58799 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 19:37:27.984  INFO 58799 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 19:37:28.055  INFO 58799 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 19:37:28.729  INFO 58799 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 19:37:23 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-03 19:37:28.732  INFO 58799 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-03 19:37:28.768  WARN 58799 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-03 19:37:29.198  INFO 58799 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-03 19:37:29.200  INFO 58799 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-03 19:37:29.209  INFO 58799 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-03 19:37:29.212  INFO 58799 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-03 19:37:29.213  INFO 58799 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-03 19:37:29.235  INFO 58799 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-03 19:37:29.235  INFO 58799 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-03 19:37:29.308  INFO 58799 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-03 19:37:29.314  INFO 58799 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 7.497 seconds (JVM running for 9.545)
2019-06-03 19:38:00.117  INFO 58799 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-03 19:38:00.118  INFO 58799 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-03 19:38:00.145  INFO 58799 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 27 ms
2019-06-03 19:38:02.523  INFO 58799 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-06-03 19:38:03.022 ERROR 58799 --- [http-nio-8080-exec-1] druid.sql.Statement                      : {conn-10005, pstmt-20008} execute error. insert into t_pay_order
     ( PayOrderId,
      
      
        MchId,
      
      
        MchOrderNo,
      
      
        ChannelId,
      
      
        Amount,
      
      
        Currency,
      
      
      
        ClientIp,
      
      
        Device,
      
      
        Subject,
      
      
        Body,
      
      
        Extra,
      
      
        ChannelMchId,
      
      
      
      
      
        Param1,
      
      
        Param2,
      
      
        NotifyUrl,
      
      
      
      
      
      
        CreateTime ) 
     values ( ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
      
      
      
        ? )

com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_131]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_131]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2494) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2931) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.wall.WallFilter.preparedStatement_execute(WallFilter.java:600) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:131) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:493) [druid-1.0.26.jar:1.0.26]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) [mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) [mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy81.update(Unknown Source) [na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185) [mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434) [mybatis-spring-1.3.0.jar:1.3.0]
	at com.sun.proxy.$Proxy58.insert(Unknown Source) [na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:279) [mybatis-spring-1.3.0.jar:1.3.0]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53) [mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy59.insertSelective(Unknown Source) [na:na]
	at com.appchina.pay.center.service.BaseService.baseCreatePayOrder(BaseService.java:61) [classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:199) [classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:38) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(PayOrderController.java:395) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.preOrder(PayOrderController.java:372) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-06-03 19:38:03.030  INFO 58799 --- [http-nio-8080-exec-1] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2019-06-03 19:38:03.068  INFO 58799 --- [http-nio-8080-exec-1] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2019-06-03 19:38:03.079 ERROR 58799 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'
### The error may involve com.appchina.pay.dao.mapper.PayOrderMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: insert into t_pay_order      ( PayOrderId,                       MchId,                       MchOrderNo,                       ChannelId,                       Amount,                       Currency,                              ClientIp,                       Device,                       Subject,                       Body,                       Extra,                       ChannelMchId,                                            Param1,                       Param2,                       NotifyUrl,                                                   CreateTime )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                            ?,                       ?,                       ?,                                                   ? )
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'
; SQL []; Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'

org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'
### The error may involve com.appchina.pay.dao.mapper.PayOrderMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: insert into t_pay_order      ( PayOrderId,                       MchId,                       MchOrderNo,                       ChannelId,                       Amount,                       Currency,                              ClientIp,                       Device,                       Subject,                       Body,                       Extra,                       ChannelMchId,                                            Param1,                       Param2,                       NotifyUrl,                                                   CreateTime )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                            ?,                       ?,                       ?,                                                   ? )
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'
; SQL []; Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:75) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:447) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at com.sun.proxy.$Proxy58.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:279) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53) ~[mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy59.insertSelective(Unknown Source) ~[na:na]
	at com.appchina.pay.center.service.BaseService.baseCreatePayOrder(BaseService.java:61) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:199) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:38) ~[classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(PayOrderController.java:395) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.preOrder(PayOrderController.java:372) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_131]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_131]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2494) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2931) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.wall.WallFilter.preparedStatement_execute(WallFilter.java:600) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:131) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:493) ~[druid-1.0.26.jar:1.0.26]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy81.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185) ~[mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434) ~[mybatis-spring-1.3.0.jar:1.3.0]
	... 64 common frames omitted

2019-06-03 19:38:03.092  INFO 58799 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=支付中心系统异常}
2019-06-03 20:01:54.658  INFO 58799 --- [Thread-18] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 19:37:23 CST 2019]; root of context hierarchy
2019-06-03 20:01:54.693  INFO 58799 --- [Thread-18] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-03 20:01:54.694  INFO 58799 --- [Thread-18] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-03 20:01:54.700  INFO 58799 --- [Thread-18] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-03 20:01:54.701  INFO 58799 --- [Thread-18] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-03 20:01:54.719  INFO 58799 --- [Thread-18] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-03 20:10:07.161  INFO 65010 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 65010 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-03 20:10:07.171  INFO 65010 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-03 20:10:07.367  INFO 65010 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6bbe2511: startup date [Mon Jun 03 20:10:07 CST 2019]; root of context hierarchy
2019-06-03 20:10:09.689  INFO 65010 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$1e8e5b64] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-03 20:10:10.476  INFO 65010 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-03 20:10:10.490  INFO 65010 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-03 20:10:10.492  INFO 65010 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-03 20:10:10.634  INFO 65010 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-03 20:10:10.634  INFO 65010 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3272 ms
2019-06-03 20:10:10.882  INFO 65010 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-03 20:10:10.888  INFO 65010 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-03 20:10:10.889  INFO 65010 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-03 20:10:10.889  INFO 65010 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-03 20:10:10.889  INFO 65010 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-03 20:10:11.694  INFO 65010 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-03 20:10:13.819  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6bbe2511: startup date [Mon Jun 03 20:10:07 CST 2019]; root of context hierarchy
2019-06-03 20:10:13.927  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 20:10:13.929  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 20:10:13.931  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 20:10:13.931  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-03 20:10:13.932  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-03 20:10:13.932  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 20:10:13.932  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-03 20:10:13.932  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-03 20:10:13.933  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 20:10:13.933  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-03 20:10:13.934  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-03 20:10:13.934  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-03 20:10:13.934  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-03 20:10:13.938  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-03 20:10:13.938  INFO 65010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-03 20:10:13.993  INFO 65010 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 20:10:13.993  INFO 65010 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 20:10:14.073  INFO 65010 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 20:10:14.819  INFO 65010 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6bbe2511: startup date [Mon Jun 03 20:10:07 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-03 20:10:14.820  INFO 65010 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-03 20:10:14.859  WARN 65010 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-03 20:10:15.433  INFO 65010 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-03 20:10:15.434  INFO 65010 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-03 20:10:15.444  INFO 65010 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-03 20:10:15.448  INFO 65010 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-03 20:10:15.449  INFO 65010 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-03 20:10:15.471  INFO 65010 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-03 20:10:15.471  INFO 65010 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-03 20:10:15.551  INFO 65010 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-03 20:10:15.557  INFO 65010 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 10.081 seconds (JVM running for 13.645)
2019-06-03 20:10:25.137  INFO 65010 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-03 20:10:25.138  INFO 65010 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-03 20:10:25.164  INFO 65010 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 26 ms
2019-06-03 20:10:32.504  INFO 65010 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-06-03 20:10:38.452 ERROR 65010 --- [http-nio-8080-exec-1] druid.sql.Statement                      : {conn-10005, pstmt-20008} execute error. insert into t_pay_order
     ( PayOrderId,
      
      
        MchId,
      
      
        MchOrderNo,
      
      
        ChannelId,
      
      
        Amount,
      
      
        Currency,
      
      
      
        ClientIp,
      
      
        Device,
      
      
        Subject,
      
      
        Body,
      
      
        Extra,
      
      
        ChannelMchId,
      
      
      
      
      
        Param1,
      
      
        Param2,
      
      
        NotifyUrl,
      
      
      
      
      
      
        CreateTime ) 
     values ( ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
      
      
      
        ? ) 
     on DUPLICATE key update
       ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
      
      
      
        ?

com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''P0020190603201036000000',
      
      
        'WX_MWEB',
      
      
      ' at line 111
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_131]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_131]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2494) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2931) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.wall.WallFilter.preparedStatement_execute(WallFilter.java:600) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:131) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:493) [druid-1.0.26.jar:1.0.26]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) [mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) [mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy81.update(Unknown Source) [na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185) [mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434) [mybatis-spring-1.3.0.jar:1.3.0]
	at com.sun.proxy.$Proxy58.insert(Unknown Source) [na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:279) [mybatis-spring-1.3.0.jar:1.3.0]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53) [mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy59.insertSelective(Unknown Source) [na:na]
	at com.appchina.pay.center.service.BaseService.baseCreatePayOrder(BaseService.java:61) [classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:199) [classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:38) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(PayOrderController.java:395) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.preOrder(PayOrderController.java:372) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-06-03 20:10:38.494  INFO 65010 --- [http-nio-8080-exec-1] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2019-06-03 20:10:38.820  INFO 65010 --- [http-nio-8080-exec-1] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2019-06-03 20:11:08.953 ERROR 65010 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''P0020190603201036000000',
      
      
        'WX_MWEB',
      
      
      ' at line 111
### The error may involve com.appchina.pay.dao.mapper.PayOrderMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: insert into t_pay_order      ( PayOrderId,                       MchId,                       MchOrderNo,                       ChannelId,                       Amount,                       Currency,                              ClientIp,                       Device,                       Subject,                       Body,                       Extra,                       ChannelMchId,                                            Param1,                       Param2,                       NotifyUrl,                                                   CreateTime )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                            ?,                       ?,                       ?,                                                   ? )       on DUPLICATE key update        ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                            ?,                       ?,                       ?,                                                   ?
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''P0020190603201036000000',
      
      
        'WX_MWEB',
      
      
      ' at line 111
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''P0020190603201036000000',
      
      
        'WX_MWEB',
      
      
      ' at line 111

org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''P0020190603201036000000',
      
      
        'WX_MWEB',
      
      
      ' at line 111
### The error may involve com.appchina.pay.dao.mapper.PayOrderMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: insert into t_pay_order      ( PayOrderId,                       MchId,                       MchOrderNo,                       ChannelId,                       Amount,                       Currency,                              ClientIp,                       Device,                       Subject,                       Body,                       Extra,                       ChannelMchId,                                            Param1,                       Param2,                       NotifyUrl,                                                   CreateTime )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                            ?,                       ?,                       ?,                                                   ? )       on DUPLICATE key update        ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                            ?,                       ?,                       ?,                                                   ?
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''P0020190603201036000000',
      
      
        'WX_MWEB',
      
      
      ' at line 111
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''P0020190603201036000000',
      
      
        'WX_MWEB',
      
      
      ' at line 111
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:75) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:447) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at com.sun.proxy.$Proxy58.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:279) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53) ~[mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy59.insertSelective(Unknown Source) ~[na:na]
	at com.appchina.pay.center.service.BaseService.baseCreatePayOrder(BaseService.java:61) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:199) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:38) ~[classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(PayOrderController.java:395) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.preOrder(PayOrderController.java:372) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''P0020190603201036000000',
      
      
        'WX_MWEB',
      
      
      ' at line 111
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_131]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_131]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2494) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2931) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.wall.WallFilter.preparedStatement_execute(WallFilter.java:600) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:131) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:493) ~[druid-1.0.26.jar:1.0.26]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy81.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185) ~[mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434) ~[mybatis-spring-1.3.0.jar:1.3.0]
	... 64 common frames omitted

2019-06-03 20:11:08.966  INFO 65010 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=支付中心系统异常}
2019-06-03 20:11:09.025  INFO 65010 --- [Thread-25] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6bbe2511: startup date [Mon Jun 03 20:10:07 CST 2019]; root of context hierarchy
2019-06-03 20:11:09.032  INFO 65010 --- [Thread-25] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-03 20:11:09.033  INFO 65010 --- [Thread-25] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-03 20:11:09.038  INFO 65010 --- [Thread-25] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-03 20:11:09.038  INFO 65010 --- [Thread-25] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-03 20:11:09.047  INFO 65010 --- [Thread-25] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-03 20:20:17.176  INFO 66918 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 66918 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-03 20:20:17.181  INFO 66918 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-03 20:20:17.329  INFO 66918 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@19e4fcac: startup date [Mon Jun 03 20:20:17 CST 2019]; root of context hierarchy
2019-06-03 20:20:20.375  INFO 66918 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$803899d6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-03 20:20:21.288  INFO 66918 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-03 20:20:21.304  INFO 66918 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-03 20:20:21.306  INFO 66918 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-03 20:20:21.478  INFO 66918 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-03 20:20:21.478  INFO 66918 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4153 ms
2019-06-03 20:20:21.771  INFO 66918 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-03 20:20:21.783  INFO 66918 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-03 20:20:21.784  INFO 66918 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-03 20:20:21.785  INFO 66918 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-03 20:20:21.786  INFO 66918 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-03 20:20:22.776  INFO 66918 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-03 20:20:24.453  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@19e4fcac: startup date [Mon Jun 03 20:20:17 CST 2019]; root of context hierarchy
2019-06-03 20:20:24.547  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 20:20:24.549  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 20:20:24.551  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-03 20:20:24.551  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 20:20:24.551  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-03 20:20:24.551  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-03 20:20:24.552  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 20:20:24.552  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-03 20:20:24.553  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-03 20:20:24.553  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-03 20:20:24.553  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 20:20:24.554  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-03 20:20:24.554  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-03 20:20:24.558  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-03 20:20:24.558  INFO 66918 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-03 20:20:24.609  INFO 66918 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 20:20:24.610  INFO 66918 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 20:20:24.676  INFO 66918 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 20:20:25.353  INFO 66918 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@19e4fcac: startup date [Mon Jun 03 20:20:17 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-03 20:20:25.355  INFO 66918 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-03 20:20:25.399  WARN 66918 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-03 20:20:25.893  INFO 66918 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-03 20:20:25.894  INFO 66918 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-03 20:20:25.907  INFO 66918 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-03 20:20:25.911  INFO 66918 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-03 20:20:25.912  INFO 66918 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-03 20:20:25.936  INFO 66918 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-03 20:20:25.937  INFO 66918 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-03 20:20:26.015  INFO 66918 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-03 20:20:26.021  INFO 66918 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 10.886 seconds (JVM running for 13.883)
2019-06-03 20:20:30.327  INFO 66918 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-03 20:20:30.327  INFO 66918 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-03 20:20:30.365  INFO 66918 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 38 ms
2019-06-03 20:20:32.949  INFO 66918 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-06-03 20:20:33.318  INFO 66918 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : 【商户统一下单】创建支付订单,结果:2
2019-06-03 20:20:33.319  INFO 66918 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=创建支付订单失败}
2019-06-03 20:20:51.163  INFO 66918 --- [http-nio-8080-exec-2] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-06-03 20:20:59.084  INFO 66918 --- [http-nio-8080-exec-2] c.a.p.c.controller.PayOrderController    : 【商户统一下单】创建支付订单,结果:2
2019-06-03 20:21:06.204  INFO 66918 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=创建支付订单失败}
2019-06-03 20:21:13.168  INFO 66918 --- [Thread-26] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@19e4fcac: startup date [Mon Jun 03 20:20:17 CST 2019]; root of context hierarchy
2019-06-03 20:21:13.171  INFO 66918 --- [Thread-26] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-03 20:21:13.172  INFO 66918 --- [Thread-26] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-03 20:21:13.175  INFO 66918 --- [Thread-26] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-03 20:21:13.175  INFO 66918 --- [Thread-26] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-03 20:21:13.191  INFO 66918 --- [Thread-26] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-03 20:32:08.497  INFO 69130 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 69130 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-03 20:32:08.503  INFO 69130 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-03 20:32:08.624  INFO 69130 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 20:32:08 CST 2019]; root of context hierarchy
2019-06-03 20:32:10.350  INFO 69130 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$a04b8b83] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-03 20:32:11.022  INFO 69130 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-03 20:32:11.042  INFO 69130 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-03 20:32:11.043  INFO 69130 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-03 20:32:11.189  INFO 69130 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-03 20:32:11.189  INFO 69130 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2572 ms
2019-06-03 20:32:11.420  INFO 69130 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-03 20:32:11.426  INFO 69130 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-03 20:32:11.427  INFO 69130 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-03 20:32:11.427  INFO 69130 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-03 20:32:11.428  INFO 69130 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-03 20:32:12.201  INFO 69130 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-03 20:32:13.900  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 20:32:08 CST 2019]; root of context hierarchy
2019-06-03 20:32:14.015  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 20:32:14.016  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-03 20:32:14.018  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-03 20:32:14.018  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 20:32:14.019  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-03 20:32:14.019  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-03 20:32:14.020  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 20:32:14.020  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-03 20:32:14.021  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-03 20:32:14.021  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-03 20:32:14.021  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-03 20:32:14.022  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-03 20:32:14.022  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-03 20:32:14.026  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-03 20:32:14.026  INFO 69130 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-03 20:32:14.081  INFO 69130 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 20:32:14.081  INFO 69130 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 20:32:14.178  INFO 69130 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-03 20:32:14.875  INFO 69130 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 20:32:08 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-03 20:32:14.877  INFO 69130 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-03 20:32:14.921  WARN 69130 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-03 20:32:15.424  INFO 69130 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-03 20:32:15.425  INFO 69130 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-03 20:32:15.435  INFO 69130 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-03 20:32:15.438  INFO 69130 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-03 20:32:15.439  INFO 69130 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-03 20:32:15.465  INFO 69130 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-03 20:32:15.466  INFO 69130 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-03 20:32:15.538  INFO 69130 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-03 20:32:15.544  INFO 69130 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.118 seconds (JVM running for 11.054)
2019-06-03 20:32:56.734  INFO 69130 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-03 20:32:56.734  INFO 69130 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-03 20:32:56.763  INFO 69130 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 28 ms
2019-06-03 20:33:00.828  INFO 69130 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-06-03 20:33:05.669 ERROR 69130 --- [http-nio-8080-exec-1] druid.sql.Statement                      : {conn-10005, pstmt-20008} execute error. insert into t_pay_order
     ( PayOrderId,
      
      
        MchId,
      
      
        MchOrderNo,
      
      
        ChannelId,
      
      
        Amount,
      
      
        Currency,
      
      
      
        ClientIp,
      
      
        Device,
      
      
        Subject,
      
      
        Body,
      
      
        Extra,
      
      
        ChannelMchId,
      
      
      
      
      
        Param1,
      
      
        Param2,
      
      
        NotifyUrl,
      
      
      
      
      
      
        CreateTime ) 
     values ( ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
      
      
        ?,
      
      
        ?,
      
      
        ?,
      
      
      
      
      
      
        ? )

com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_131]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_131]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2494) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2931) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.wall.WallFilter.preparedStatement_execute(WallFilter.java:600) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:131) [druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:493) [druid-1.0.26.jar:1.0.26]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) [mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) [mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy81.update(Unknown Source) [na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185) [mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434) [mybatis-spring-1.3.0.jar:1.3.0]
	at com.sun.proxy.$Proxy58.insert(Unknown Source) [na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:279) [mybatis-spring-1.3.0.jar:1.3.0]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57) [mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53) [mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy59.insertSelective(Unknown Source) [na:na]
	at com.appchina.pay.center.service.BaseService.baseCreatePayOrder(BaseService.java:61) [classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:199) [classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:38) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(PayOrderController.java:393) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.preOrder(PayOrderController.java:372) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-06-03 20:33:05.727  INFO 69130 --- [http-nio-8080-exec-1] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2019-06-03 20:33:06.022  INFO 69130 --- [http-nio-8080-exec-1] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2019-06-03 20:33:19.698 ERROR 69130 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : {}重复创建订单{}

org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'
### The error may involve com.appchina.pay.dao.mapper.PayOrderMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: insert into t_pay_order      ( PayOrderId,                       MchId,                       MchOrderNo,                       ChannelId,                       Amount,                       Currency,                              ClientIp,                       Device,                       Subject,                       Body,                       Extra,                       ChannelMchId,                                            Param1,                       Param2,                       NotifyUrl,                                                   CreateTime )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                            ?,                       ?,                       ?,                                                   ? )
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'
; SQL []; Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:75) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:447) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at com.sun.proxy.$Proxy58.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:279) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53) ~[mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy59.insertSelective(Unknown Source) ~[na:na]
	at com.appchina.pay.center.service.BaseService.baseCreatePayOrder(BaseService.java:61) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:199) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.createPayOrder(PayOrderServiceImpl.java:38) ~[classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(PayOrderController.java:393) [classes/:na]
	at com.appchina.pay.center.controller.PayOrderController.preOrder(PayOrderController.java:372) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '20001222-585171387757363200' for key 'IDX_MchId_MchOrderNo'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_131]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_131]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2494) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2931) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.wall.WallFilter.preparedStatement_execute(WallFilter.java:600) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2929) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:131) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:493) ~[druid-1.0.26.jar:1.0.26]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy81.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185) ~[mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434) ~[mybatis-spring-1.3.0.jar:1.3.0]
	... 64 common frames omitted

2019-06-03 20:33:19.702  INFO 69130 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=该订单已过期，请重新创建订单}
2019-06-03 20:33:53.491  INFO 69130 --- [Thread-20] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 03 20:32:08 CST 2019]; root of context hierarchy
2019-06-03 20:33:53.495  INFO 69130 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-03 20:33:53.496  INFO 69130 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-03 20:33:53.501  INFO 69130 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-03 20:33:53.501  INFO 69130 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-03 20:33:53.511  INFO 69130 --- [Thread-20] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-04 15:39:38.666  INFO 77820 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 77820 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-04 15:39:38.671  INFO 77820 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-04 15:39:38.804  INFO 77820 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 15:39:38 CST 2019]; root of context hierarchy
2019-06-04 15:39:40.535  INFO 77820 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$f283a37e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-04 15:39:41.226  INFO 77820 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-04 15:39:41.240  INFO 77820 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-04 15:39:41.242  INFO 77820 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-04 15:39:41.356  INFO 77820 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-04 15:39:41.357  INFO 77820 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2562 ms
2019-06-04 15:39:41.587  INFO 77820 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-04 15:39:41.593  INFO 77820 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-04 15:39:41.594  INFO 77820 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-04 15:39:41.594  INFO 77820 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-04 15:39:41.594  INFO 77820 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-04 15:39:42.434  INFO 77820 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-04 15:39:44.238  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 15:39:38 CST 2019]; root of context hierarchy
2019-06-04 15:39:44.333  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-04 15:39:44.335  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-04 15:39:44.338  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-04 15:39:44.338  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 15:39:44.338  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-04 15:39:44.339  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-04 15:39:44.339  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 15:39:44.339  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-04 15:39:44.340  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 15:39:44.340  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-04 15:39:44.341  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-04 15:39:44.341  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-04 15:39:44.341  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-04 15:39:44.346  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-04 15:39:44.346  INFO 77820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-04 15:39:44.399  INFO 77820 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 15:39:44.399  INFO 77820 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 15:39:44.476  INFO 77820 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 15:39:45.185  INFO 77820 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 15:39:38 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-04 15:39:45.187  INFO 77820 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-04 15:39:45.231  WARN 77820 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-04 15:39:45.717  INFO 77820 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-04 15:39:45.718  INFO 77820 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-04 15:39:45.727  INFO 77820 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-04 15:39:45.730  INFO 77820 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-04 15:39:45.732  INFO 77820 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-04 15:39:45.763  INFO 77820 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-04 15:39:45.763  INFO 77820 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-04 15:39:45.839  INFO 77820 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-04 15:39:45.847  INFO 77820 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.288 seconds (JVM running for 10.81)
2019-06-04 15:40:58.362  INFO 77820 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-04 15:40:58.363  INFO 77820 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-04 15:40:58.390  INFO 77820 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 27 ms
2019-06-04 15:41:03.476  INFO 77820 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-04 15:41:18.586  INFO 77820 --- [http-nio-8080-exec-1] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559634071881</nonce_str>
  <sign>F256989C11B73943BFF2307FE678E2F0</sign>
  <out_trade_no>P0020190603202052000001</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<nonce_str><![CDATA[8IqJQVJd7B4L7ZnW]]></nonce_str>
<sign><![CDATA[6524677B193A898F6D61A2D29E39DC86]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-06-04 15:41:18.763 ERROR 77820 --- [http-nio-8080-exec-1] c.g.b.w.b.result.WxPayOrderQueryResult   : 
结果业务代码异常，返回結果：{nonce_str=8IqJQVJd7B4L7ZnW, appid=wxbc75211100824e50, sign=6524677B193A898F6D61A2D29E39DC86, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1490509592, return_code=SUCCESS},
返回代码：SUCCESS，返回信息：OK，结果代码：FAIL，错误代码：ORDERNOTEXIST，错误详情：订单不存在
2019-06-04 15:41:18.783  INFO 77820 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=调用微信支付失败, errCode=0111, sign=65CA09BF5C53F442B8C0C809CF4BFAE1, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-06-04 15:43:16.047  INFO 77820 --- [http-nio-8080-exec-3] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-04 15:43:26.602  INFO 77820 --- [http-nio-8080-exec-3] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559634206100</nonce_str>
  <sign>60B9224753A113AB519707E127E39BE1</sign>
  <out_trade_no>P0020190603202052000001</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<nonce_str><![CDATA[XOZ0ZB5avImMNgPJ]]></nonce_str>
<sign><![CDATA[3E14BF05FA4ACAE292928F1FED810887]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-06-04 15:43:26.644 ERROR 77820 --- [http-nio-8080-exec-3] c.g.b.w.b.result.WxPayOrderQueryResult   : 
结果业务代码异常，返回結果：{nonce_str=XOZ0ZB5avImMNgPJ, appid=wxbc75211100824e50, sign=3E14BF05FA4ACAE292928F1FED810887, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1490509592, return_code=SUCCESS},
返回代码：SUCCESS，返回信息：OK，结果代码：FAIL，错误代码：ORDERNOTEXIST，错误详情：订单不存在
2019-06-04 15:45:07.698  INFO 77820 --- [http-nio-8080-exec-3] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=调用微信支付失败, errCode=0111, sign=65CA09BF5C53F442B8C0C809CF4BFAE1, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-06-04 15:45:07.780  INFO 77820 --- [Thread-20] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 15:39:38 CST 2019]; root of context hierarchy
2019-06-04 15:45:07.784  INFO 77820 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-04 15:45:07.785  INFO 77820 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-04 15:45:07.789  INFO 77820 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-04 15:45:07.789  INFO 77820 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-04 15:45:07.804  INFO 77820 --- [Thread-20] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-04 16:01:32.256  INFO 81900 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 81900 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-04 16:01:32.265  INFO 81900 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-04 16:01:32.446  INFO 81900 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@21fd5faa: startup date [Tue Jun 04 16:01:32 CST 2019]; root of context hierarchy
2019-06-04 16:01:34.329  INFO 81900 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$fdc69340] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-04 16:01:34.971  INFO 81900 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-04 16:01:34.984  INFO 81900 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-04 16:01:34.986  INFO 81900 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-04 16:01:35.104  INFO 81900 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-04 16:01:35.104  INFO 81900 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2663 ms
2019-06-04 16:01:35.306  INFO 81900 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-04 16:01:35.311  INFO 81900 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-04 16:01:35.312  INFO 81900 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-04 16:01:35.312  INFO 81900 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-04 16:01:35.312  INFO 81900 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-04 16:01:36.628  INFO 81900 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-04 16:01:38.321  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@21fd5faa: startup date [Tue Jun 04 16:01:32 CST 2019]; root of context hierarchy
2019-06-04 16:01:38.430  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-04 16:01:38.431  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-04 16:01:38.433  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 16:01:38.434  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-04 16:01:38.434  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-04 16:01:38.434  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 16:01:38.434  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-04 16:01:38.434  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-04 16:01:38.436  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 16:01:38.436  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-04 16:01:38.436  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-04 16:01:38.437  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-04 16:01:38.437  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-04 16:01:38.441  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-04 16:01:38.442  INFO 81900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-04 16:01:38.495  INFO 81900 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 16:01:38.495  INFO 81900 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 16:01:38.578  INFO 81900 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 16:01:39.262  INFO 81900 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@21fd5faa: startup date [Tue Jun 04 16:01:32 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-04 16:01:39.264  INFO 81900 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-04 16:01:39.306  WARN 81900 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-04 16:01:39.780  INFO 81900 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-04 16:01:39.782  INFO 81900 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-04 16:01:39.794  INFO 81900 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-04 16:01:39.798  INFO 81900 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-04 16:01:39.800  INFO 81900 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-04 16:01:39.828  INFO 81900 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-04 16:01:39.828  INFO 81900 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-04 16:01:39.904  INFO 81900 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-04 16:01:39.911  INFO 81900 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.649 seconds (JVM running for 10.826)
2019-06-04 16:03:45.229  INFO 81900 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-04 16:03:45.230  INFO 81900 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-04 16:03:45.268  INFO 81900 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 37 ms
2019-06-04 16:03:48.693  INFO 81900 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-04 16:03:51.099  INFO 81900 --- [http-nio-8080-exec-1] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559635430308</nonce_str>
  <sign>ECEDDF2663FFBE757A5BDD4A7A8FBE01</sign>
  <out_trade_no>P0020190603202052000001</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<nonce_str><![CDATA[nX7nvlRI9I1cGdfk]]></nonce_str>
<sign><![CDATA[9675FBA91909E5C6AA5AF841CE7D3321]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-06-04 16:03:51.133 ERROR 81900 --- [http-nio-8080-exec-1] c.g.b.w.b.result.WxPayOrderQueryResult   : 
结果业务代码异常，返回結果：{nonce_str=nX7nvlRI9I1cGdfk, appid=wxbc75211100824e50, sign=9675FBA91909E5C6AA5AF841CE7D3321, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1490509592, return_code=SUCCESS},
返回代码：SUCCESS，返回信息：OK，结果代码：FAIL，错误代码：ORDERNOTEXIST，错误详情：订单不存在
2019-06-04 16:03:51.140  INFO 81900 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{tradeStateDesc=支付失败, orderId=585171387757363200, sign=3868038D4D3F0A236888F94A12AEDA35, resCode=SUCCESS, retCode=SUCCESS, retMsg=, tradeState=FAIL}
2019-06-04 16:06:06.567  INFO 81900 --- [Thread-20] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@21fd5faa: startup date [Tue Jun 04 16:01:32 CST 2019]; root of context hierarchy
2019-06-04 16:06:06.575  INFO 81900 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-04 16:06:06.576  INFO 81900 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-04 16:06:06.580  INFO 81900 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-04 16:06:06.583  INFO 81900 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-04 16:06:06.602  INFO 81900 --- [Thread-20] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-04 16:07:08.192  INFO 82944 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 82944 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-04 16:07:08.199  INFO 82944 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-04 16:07:08.338  INFO 82944 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 16:07:08 CST 2019]; root of context hierarchy
2019-06-04 16:07:10.097  INFO 82944 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$80f1526d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-04 16:07:10.651  INFO 82944 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-04 16:07:10.662  INFO 82944 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-04 16:07:10.663  INFO 82944 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-04 16:07:10.755  INFO 82944 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-04 16:07:10.755  INFO 82944 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2431 ms
2019-06-04 16:07:10.961  INFO 82944 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-04 16:07:10.966  INFO 82944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-04 16:07:10.967  INFO 82944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-04 16:07:10.967  INFO 82944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-04 16:07:10.967  INFO 82944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-04 16:07:12.139  INFO 82944 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-04 16:07:13.980  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 16:07:08 CST 2019]; root of context hierarchy
2019-06-04 16:07:14.077  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-04 16:07:14.078  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-04 16:07:14.081  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-04 16:07:14.081  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 16:07:14.081  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-04 16:07:14.082  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-04 16:07:14.082  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 16:07:14.082  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-04 16:07:14.083  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 16:07:14.084  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-04 16:07:14.084  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-04 16:07:14.085  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-04 16:07:14.085  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-04 16:07:14.089  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-04 16:07:14.090  INFO 82944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-04 16:07:14.180  INFO 82944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 16:07:14.181  INFO 82944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 16:07:14.308  INFO 82944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 16:07:15.009  INFO 82944 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 16:07:08 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-04 16:07:15.010  INFO 82944 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-04 16:07:15.048  WARN 82944 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-04 16:07:15.479  INFO 82944 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-04 16:07:15.480  INFO 82944 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-04 16:07:15.491  INFO 82944 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-04 16:07:15.494  INFO 82944 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-04 16:07:15.495  INFO 82944 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-04 16:07:15.533  INFO 82944 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-04 16:07:15.533  INFO 82944 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-04 16:07:15.612  INFO 82944 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-04 16:07:15.620  INFO 82944 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.504 seconds (JVM running for 10.905)
2019-06-04 16:07:53.522  INFO 82944 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-04 16:07:53.523  INFO 82944 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-04 16:07:53.570  INFO 82944 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 47 ms
2019-06-04 16:07:55.665  INFO 82944 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-06-04 16:07:56.146  INFO 82944 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : 【商户统一下单】创建支付订单,结果:1
2019-06-04 16:07:56.972  INFO 82944 --- [http-nio-8080-exec-1] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/unifiedorder
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559635676171</nonce_str>
  <sign>3140EB5D2B39EA858CA28244C6E0529E</sign>
  <device_info></device_info>
  <body>测试商品描述</body>
  <out_trade_no>P0020190604160755000000</out_trade_no>
  <fee_type>CNY</fee_type>
  <total_fee>1</total_fee>
  <spbill_create_ip>127.0.0.1</spbill_create_ip>
  <notify_url>http://103.231.68.185:8080/wechat/notify</notify_url>
  <trade_type>MWEB</trade_type>
  <scene_info>{&quot;h5_info&quot;:{&quot;app_name&quot;:&quot;王者荣耀&quot;,&quot;package_name&quot;:&quot;com.tencent.tmgp.sgame&quot;,&quot;type&quot;:&quot;Android&quot;}}</scene_info>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<nonce_str><![CDATA[V75vbsYL1ejt4EM6]]></nonce_str>
<sign><![CDATA[BAC5B92DF513F776F1CD2BD57325DD71]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx041607569416825d742562cb1751213200]]></prepay_id>
<trade_type><![CDATA[MWEB]]></trade_type>
<mweb_url><![CDATA[https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx041607569416825d742562cb1751213200&package=3597460799]]></mweb_url>
</xml>
2019-06-04 16:07:56.995  INFO 82944 --- [http-nio-8080-exec-1] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【微信支付统一下单】 >>> 下单成功
2019-06-04 16:07:57.039  INFO 82944 --- [http-nio-8080-exec-1] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 更新第三方支付订单号:payOrderId=P0020190604160755000000,prepayId=wx041607569416825d742562cb1751213200,result=1
2019-06-04 16:07:57.040  INFO 82944 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{payOrderId=P0020190604160755000000, sign=4F28B1E4ACF7791A1998454A0C3CAFC3, resCode=SUCCESS, payUrl=https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx041607569416825d742562cb1751213200&package=3597460799, prepayId=wx041607569416825d742562cb1751213200, retCode=SUCCESS, retMsg=}
2019-06-04 16:08:43.238  INFO 82944 --- [http-nio-8080-exec-2] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-04 16:08:43.518  INFO 82944 --- [http-nio-8080-exec-2] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559635723289</nonce_str>
  <sign>5F8DECEF1798E2E17533AB5C892E39E8</sign>
  <out_trade_no>P0020190603202052000001</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<nonce_str><![CDATA[yMWtUw4NgIzhrjno]]></nonce_str>
<sign><![CDATA[FC983B825ADA8784F5D7C8E0F6F37C5F]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
2019-06-04 16:08:43.531 ERROR 82944 --- [http-nio-8080-exec-2] c.g.b.w.b.result.WxPayOrderQueryResult   : 
结果业务代码异常，返回結果：{nonce_str=yMWtUw4NgIzhrjno, appid=wxbc75211100824e50, sign=FC983B825ADA8784F5D7C8E0F6F37C5F, err_code=ORDERNOTEXIST, return_msg=OK, result_code=FAIL, err_code_des=订单不存在, mch_id=1490509592, return_code=SUCCESS},
返回代码：SUCCESS，返回信息：OK，结果代码：FAIL，错误代码：ORDERNOTEXIST，错误详情：订单不存在
2019-06-04 16:08:43.548 ERROR 82944 --- [http-nio-8080-exec-2] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 微信支付查询订单异常com.github.binarywang.wxpay.exception.WxPayException: 返回代码：[SUCCESS]，返回信息：[OK]，结果代码：[FAIL]，错误代码：[ORDERNOTEXIST]，错误详情：[订单不存在]，微信返回的原始报文：
<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<nonce_str><![CDATA[yMWtUw4NgIzhrjno]]></nonce_str>
<sign><![CDATA[FC983B825ADA8784F5D7C8E0F6F37C5F]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>

com.github.binarywang.wxpay.exception.WxPayException: 返回代码：[SUCCESS]，返回信息：[OK]，结果代码：[FAIL]，错误代码：[ORDERNOTEXIST]，错误详情：[订单不存在]，微信返回的原始报文：
<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<nonce_str><![CDATA[yMWtUw4NgIzhrjno]]></nonce_str>
<sign><![CDATA[FC983B825ADA8784F5D7C8E0F6F37C5F]]></sign>
<result_code><![CDATA[FAIL]]></result_code>
<err_code><![CDATA[ORDERNOTEXIST]]></err_code>
<err_code_des><![CDATA[订单不存在]]></err_code_des>
</xml>
	at com.github.binarywang.wxpay.exception.WxPayException$Builder.build(WxPayException.java:144) ~[weixin-java-pay-2.8.0.jar:na]
	at com.github.binarywang.wxpay.exception.WxPayException.from(WxPayException.java:71) ~[weixin-java-pay-2.8.0.jar:na]
	at com.github.binarywang.wxpay.bean.result.WxPayBaseResult.checkResult(WxPayBaseResult.java:339) ~[weixin-java-pay-2.8.0.jar:na]
	at com.github.binarywang.wxpay.service.impl.WxPayServiceAbstractImpl.queryOrder(WxPayServiceAbstractImpl.java:185) ~[weixin-java-pay-2.8.0.jar:na]
	at com.appchina.pay.center.service.impl.PayChannel4WxServiceImpl.queryWxPayOrderRequest(PayChannel4WxServiceImpl.java:243) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.queryWxPayOrderRequest(PayOrderServiceImpl.java:140) [classes/:na]
	at com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(QueryPayOrderController.java:169) [classes/:na]
	at com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(QueryPayOrderController.java:149) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-06-04 16:08:43.550  INFO 82944 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{tradeStateDesc=支付失败, orderId=585171387757363200, sign=3868038D4D3F0A236888F94A12AEDA35, resCode=SUCCESS, retCode=SUCCESS, retMsg=, tradeState=FAIL}
2019-06-04 16:10:46.207  INFO 82944 --- [Thread-20] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 16:07:08 CST 2019]; root of context hierarchy
2019-06-04 16:10:46.211  INFO 82944 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-04 16:10:46.212  INFO 82944 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-04 16:10:46.215  INFO 82944 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-04 16:10:46.216  INFO 82944 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-04 16:10:46.224  INFO 82944 --- [Thread-20] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-04 16:15:22.904  INFO 84466 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 84466 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-04 16:15:22.910  INFO 84466 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-04 16:15:23.168  INFO 84466 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Tue Jun 04 16:15:23 CST 2019]; root of context hierarchy
2019-06-04 16:15:26.026  INFO 84466 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$65a029f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-04 16:15:26.779  INFO 84466 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-04 16:15:26.796  INFO 84466 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-04 16:15:26.797  INFO 84466 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-04 16:15:26.934  INFO 84466 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-04 16:15:26.934  INFO 84466 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3777 ms
2019-06-04 16:15:27.417  INFO 84466 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-04 16:15:27.425  INFO 84466 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-04 16:15:27.426  INFO 84466 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-04 16:15:27.426  INFO 84466 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-04 16:15:27.426  INFO 84466 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-04 16:15:28.787  INFO 84466 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-04 16:15:30.921  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Tue Jun 04 16:15:23 CST 2019]; root of context hierarchy
2019-06-04 16:15:31.091  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-04 16:15:31.094  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-04 16:15:31.098  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String)
2019-06-04 16:15:31.099  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/pre/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 16:15:31.100  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.preOrder(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-06-04 16:15:31.100  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-04 16:15:31.102  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 16:15:31.103  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/do/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.doCreatePayOrder(com.alibaba.fastjson.JSONObject,javax.servlet.http.HttpServletRequest)
2019-06-04 16:15:31.106  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 16:15:31.106  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-04 16:15:31.107  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-04 16:15:31.107  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-04 16:15:31.110  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/test]}" onto public java.lang.String com.appchina.pay.center.controller.TestController.test1()
2019-06-04 16:15:31.119  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-04 16:15:31.120  INFO 84466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-04 16:15:31.219  INFO 84466 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 16:15:31.219  INFO 84466 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 16:15:31.324  INFO 84466 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 16:15:32.185  INFO 84466 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Tue Jun 04 16:15:23 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-04 16:15:32.186  INFO 84466 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-04 16:15:32.235  WARN 84466 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-04 16:15:32.720  INFO 84466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-04 16:15:32.722  INFO 84466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-04 16:15:32.731  INFO 84466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-04 16:15:32.734  INFO 84466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-04 16:15:32.735  INFO 84466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-04 16:15:32.760  INFO 84466 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-04 16:15:32.760  INFO 84466 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-04 16:15:32.834  INFO 84466 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-04 16:15:32.840  INFO 84466 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 11.677 seconds (JVM running for 15.079)
2019-06-04 16:15:39.897  INFO 84466 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-04 16:15:39.897  INFO 84466 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-04 16:15:39.923  INFO 84466 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 26 ms
2019-06-04 16:15:44.832  INFO 84466 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-04 16:15:45.759  INFO 84466 --- [http-nio-8080-exec-1] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559636145173</nonce_str>
  <sign>7A5DA58A7E418767B23B53A5CA9F7E22</sign>
  <out_trade_no>P0020190604160755000000</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[]]></device_info>
<nonce_str><![CDATA[PuTyxTRoyzCV4e5R]]></nonce_str>
<sign><![CDATA[42DD486987A5B911A4FBC1E40E4A15BD]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>1</total_fee>
<out_trade_no><![CDATA[P0020190604160755000000]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-06-04 16:15:45.800  INFO 84466 --- [http-nio-8080-exec-1] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【查询微信支付订单】 >>> 查询订单单成功
2019-06-04 16:15:45.803  INFO 84466 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{tradeStateDesc=支付失败, orderId=585171387757363200, sign=3868038D4D3F0A236888F94A12AEDA35, resCode=SUCCESS, retCode=SUCCESS, retMsg=, tradeState=FAIL}
2019-06-04 16:20:09.705  INFO 84466 --- [Thread-27] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Tue Jun 04 16:15:23 CST 2019]; root of context hierarchy
2019-06-04 16:20:09.732  INFO 84466 --- [Thread-27] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-04 16:20:09.735  INFO 84466 --- [Thread-27] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-04 16:20:09.755  INFO 84466 --- [Thread-27] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-04 16:20:09.760  INFO 84466 --- [Thread-27] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-04 16:20:09.776  INFO 84466 --- [Thread-27] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-04 20:03:05.494  INFO 27010 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 27010 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-04 20:03:05.520  INFO 27010 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-04 20:03:05.668  INFO 27010 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 20:03:05 CST 2019]; root of context hierarchy
2019-06-04 20:03:07.213  INFO 27010 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$f0d46c0b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-04 20:03:07.849  INFO 27010 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-04 20:03:07.864  INFO 27010 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-04 20:03:07.865  INFO 27010 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-04 20:03:07.968  INFO 27010 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-04 20:03:07.968  INFO 27010 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2309 ms
2019-06-04 20:03:08.171  INFO 27010 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-04 20:03:08.176  INFO 27010 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-04 20:03:08.177  INFO 27010 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-04 20:03:08.177  INFO 27010 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-04 20:03:08.177  INFO 27010 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-04 20:03:08.866  INFO 27010 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-04 20:03:10.582  INFO 27010 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 20:03:05 CST 2019]; root of context hierarchy
2019-06-04 20:03:10.686  INFO 27010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-04 20:03:10.687  INFO 27010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-04 20:03:10.690  INFO 27010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 20:03:10.691  INFO 27010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-04 20:03:10.692  INFO 27010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 20:03:10.692  INFO 27010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-04 20:03:10.692  INFO 27010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-04 20:03:10.693  INFO 27010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-04 20:03:10.697  INFO 27010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-04 20:03:10.698  INFO 27010 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-04 20:03:10.766  INFO 27010 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 20:03:10.767  INFO 27010 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 20:03:10.856  INFO 27010 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 20:03:11.622  INFO 27010 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 20:03:05 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-04 20:03:11.624  INFO 27010 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-04 20:03:11.668  WARN 27010 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-04 20:03:12.215  INFO 27010 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-04 20:03:12.217  INFO 27010 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-04 20:03:12.235  INFO 27010 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-04 20:03:12.239  INFO 27010 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-04 20:03:12.240  INFO 27010 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-04 20:03:12.270  INFO 27010 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-04 20:03:12.271  INFO 27010 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-04 20:03:12.356  INFO 27010 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-04 20:03:12.362  INFO 27010 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.266 seconds (JVM running for 11.055)
2019-06-04 20:07:26.945  INFO 27010 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-04 20:07:26.947  INFO 27010 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-04 20:07:26.976  INFO 27010 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 29 ms
2019-06-04 20:07:31.988  INFO 27010 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-04 20:07:42.901  INFO 27010 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=该预订单未发起支付}
2019-06-04 20:08:30.716  INFO 27010 --- [Thread-19] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 20:03:05 CST 2019]; root of context hierarchy
2019-06-04 20:08:30.720  INFO 27010 --- [Thread-19] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-04 20:08:30.722  INFO 27010 --- [Thread-19] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-04 20:08:30.730  INFO 27010 --- [Thread-19] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-04 20:08:30.731  INFO 27010 --- [Thread-19] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-04 20:08:30.748  INFO 27010 --- [Thread-19] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-04 20:21:26.015  INFO 30452 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 30452 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-04 20:21:26.021  INFO 30452 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-04 20:21:26.144  INFO 30452 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 20:21:26 CST 2019]; root of context hierarchy
2019-06-04 20:21:27.947  INFO 30452 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$1ee6ee30] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-04 20:21:28.461  INFO 30452 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-04 20:21:28.475  INFO 30452 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-04 20:21:28.477  INFO 30452 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-04 20:21:28.596  INFO 30452 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-04 20:21:28.597  INFO 30452 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2457 ms
2019-06-04 20:21:28.840  INFO 30452 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-04 20:21:28.855  INFO 30452 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-04 20:21:28.856  INFO 30452 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-04 20:21:28.856  INFO 30452 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-04 20:21:28.856  INFO 30452 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-04 20:21:30.147  INFO 30452 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-04 20:21:32.063  INFO 30452 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 20:21:26 CST 2019]; root of context hierarchy
2019-06-04 20:21:32.151  INFO 30452 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-04 20:21:32.153  INFO 30452 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-04 20:21:32.154  INFO 30452 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 20:21:32.155  INFO 30452 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-04 20:21:32.156  INFO 30452 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-04 20:21:32.156  INFO 30452 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-04 20:21:32.156  INFO 30452 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-04 20:21:32.157  INFO 30452 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-04 20:21:32.162  INFO 30452 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-04 20:21:32.163  INFO 30452 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-04 20:21:32.228  INFO 30452 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 20:21:32.228  INFO 30452 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 20:21:32.391  INFO 30452 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-04 20:21:32.948  INFO 30452 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 20:21:26 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-04 20:21:32.950  INFO 30452 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-04 20:21:32.988  WARN 30452 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-04 20:21:33.486  INFO 30452 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-04 20:21:33.487  INFO 30452 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-04 20:21:33.506  INFO 30452 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-04 20:21:33.510  INFO 30452 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-04 20:21:33.511  INFO 30452 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-04 20:21:33.535  INFO 30452 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-04 20:21:33.535  INFO 30452 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-04 20:21:33.617  INFO 30452 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-04 20:21:33.624  INFO 30452 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.967 seconds (JVM running for 10.614)
2019-06-04 20:21:57.545  INFO 30452 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-04 20:21:57.546  INFO 30452 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-04 20:21:57.578  INFO 30452 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 32 ms
2019-06-04 20:22:03.647  INFO 30452 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-04 20:22:14.191  INFO 30452 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=订单不存在, errCode=0112, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-06-04 20:23:30.014  INFO 30452 --- [http-nio-8080-exec-3] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-04 20:23:30.025  INFO 30452 --- [http-nio-8080-exec-3] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=订单不存在, errCode=0112, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-06-04 20:24:22.603  INFO 30452 --- [http-nio-8080-exec-4] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-04 20:24:41.323  INFO 30452 --- [http-nio-8080-exec-4] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=订单不存在, errCode=0112, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-06-04 20:25:40.654  INFO 30452 --- [http-nio-8080-exec-5] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-04 20:26:06.150  INFO 30452 --- [http-nio-8080-exec-5] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=订单不存在, errCode=0112, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-06-04 20:26:21.876  INFO 30452 --- [http-nio-8080-exec-6] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-04 20:26:21.898  INFO 30452 --- [http-nio-8080-exec-6] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{tradeStateDesc=支付失败, resCode=SUCCESS, retCode=SUCCESS, retMsg=, tradeState=FAIL}
2019-06-04 20:29:31.174  INFO 30452 --- [http-nio-8080-exec-8] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-04 20:29:42.260  INFO 30452 --- [http-nio-8080-exec-8] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{tradeStateDesc=支付成功, resCode=SUCCESS, retCode=SUCCESS, retMsg=, tradeState=SUCCESS}
2019-06-04 20:30:46.180  INFO 30452 --- [Thread-21] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 04 20:21:26 CST 2019]; root of context hierarchy
2019-06-04 20:30:46.196  INFO 30452 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-04 20:30:46.197  INFO 30452 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-04 20:30:46.207  INFO 30452 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-04 20:30:46.209  INFO 30452 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-04 20:30:46.222  INFO 30452 --- [Thread-21] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-05 16:43:56.624  INFO 53284 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 53284 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-05 16:43:56.631  INFO 53284 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-05 16:43:56.766  INFO 53284 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Wed Jun 05 16:43:56 CST 2019]; root of context hierarchy
2019-06-05 16:43:58.876  INFO 53284 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$86673cac] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-05 16:43:59.895  INFO 53284 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-05 16:43:59.922  INFO 53284 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-05 16:43:59.932  INFO 53284 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-05 16:44:00.207  INFO 53284 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-05 16:44:00.208  INFO 53284 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3453 ms
2019-06-05 16:44:00.498  INFO 53284 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-05 16:44:00.505  INFO 53284 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-05 16:44:00.506  INFO 53284 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-05 16:44:00.507  INFO 53284 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-05 16:44:00.507  INFO 53284 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-05 16:44:01.324  INFO 53284 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-05 16:44:03.225  INFO 53284 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Wed Jun 05 16:43:56 CST 2019]; root of context hierarchy
2019-06-05 16:44:03.340  INFO 53284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-05 16:44:03.341  INFO 53284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-05 16:44:03.342  INFO 53284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-05 16:44:03.343  INFO 53284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-05 16:44:03.344  INFO 53284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-05 16:44:03.345  INFO 53284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-05 16:44:03.345  INFO 53284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-05 16:44:03.345  INFO 53284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-05 16:44:03.350  INFO 53284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-05 16:44:03.351  INFO 53284 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-05 16:44:03.415  INFO 53284 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-05 16:44:03.415  INFO 53284 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-05 16:44:03.525  INFO 53284 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-05 16:44:04.261  INFO 53284 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Wed Jun 05 16:43:56 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-05 16:44:04.263  INFO 53284 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-05 16:44:04.313  WARN 53284 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-05 16:44:04.805  INFO 53284 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-05 16:44:04.808  INFO 53284 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-05 16:44:04.828  INFO 53284 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-05 16:44:04.831  INFO 53284 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-05 16:44:04.833  INFO 53284 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-05 16:44:04.868  INFO 53284 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-05 16:44:04.868  INFO 53284 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-05 16:44:04.956  INFO 53284 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-05 16:44:04.964  INFO 53284 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 9.967 seconds (JVM running for 14.2)
2019-06-05 16:44:56.609  INFO 53284 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-05 16:44:56.610  INFO 53284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-05 16:44:56.650  INFO 53284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 40 ms
2019-06-05 16:44:56.814  INFO 53284 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-06-05 16:45:01.539  INFO 53284 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayOrderController    : 【商户统一下单】创建支付订单,结果:1
2019-06-05 16:45:02.446  INFO 53284 --- [http-nio-8080-exec-1] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/unifiedorder
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559724301585</nonce_str>
  <sign>F67A4024ABAF5AE1CD9D91351D515A2A</sign>
  <device_info>Android</device_info>
  <body>测试商品描述</body>
  <out_trade_no>P0020190605164457000000</out_trade_no>
  <fee_type>CNY</fee_type>
  <total_fee>100</total_fee>
  <spbill_create_ip>221.217.228.166</spbill_create_ip>
  <notify_url>http://103.231.68.185:8080/wechat/notify</notify_url>
  <trade_type>MWEB</trade_type>
  <scene_info>{&quot;h5_info&quot;:{&quot;app_name&quot;:&quot;王者荣耀&quot;,&quot;package_name&quot;:&quot;com.tencent.tmgp.sgame&quot;,&quot;type&quot;:&quot;Android&quot;}}</scene_info>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[Android]]></device_info>
<nonce_str><![CDATA[tLtOkdkfs2sSRDKZ]]></nonce_str>
<sign><![CDATA[AA9D48D52E45677C07002930564FE6FF]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx051645023558316abedba78e1160598600]]></prepay_id>
<trade_type><![CDATA[MWEB]]></trade_type>
<mweb_url><![CDATA[https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx051645023558316abedba78e1160598600&package=3411338575]]></mweb_url>
</xml>
2019-06-05 16:45:02.499  INFO 53284 --- [http-nio-8080-exec-1] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【微信支付统一下单】 >>> 下单成功
2019-06-05 16:45:02.531  INFO 53284 --- [http-nio-8080-exec-1] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 更新第三方支付订单号:payOrderId=P0020190605164457000000,prepayId=wx051645023558316abedba78e1160598600,result=1
2019-06-05 16:45:02.532  INFO 53284 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{payOrderId=P0020190605164457000000, sign=7213FA03FCFBD428078F654FA477544E, resCode=SUCCESS, payUrl=https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx051645023558316abedba78e1160598600&package=3411338575, prepayId=wx051645023558316abedba78e1160598600, retCode=SUCCESS, retMsg=}
2019-06-05 16:45:19.462  INFO 53284 --- [Thread-23] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Wed Jun 05 16:43:56 CST 2019]; root of context hierarchy
2019-06-05 16:45:19.465  INFO 53284 --- [Thread-23] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-05 16:45:19.466  INFO 53284 --- [Thread-23] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-05 16:45:19.469  INFO 53284 --- [Thread-23] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-05 16:45:19.469  INFO 53284 --- [Thread-23] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-05 16:45:19.477  INFO 53284 --- [Thread-23] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-05 18:09:00.714  INFO 69146 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 69146 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-05 18:09:00.737  INFO 69146 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-05 18:09:00.897  INFO 69146 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7331196b: startup date [Wed Jun 05 18:09:00 CST 2019]; root of context hierarchy
2019-06-05 18:09:03.158  INFO 69146 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$a04b3585] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-05 18:09:03.871  INFO 69146 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-05 18:09:03.889  INFO 69146 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-05 18:09:03.890  INFO 69146 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-05 18:09:03.984  INFO 69146 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-05 18:09:03.985  INFO 69146 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3091 ms
2019-06-05 18:09:04.217  INFO 69146 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-05 18:09:04.223  INFO 69146 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-05 18:09:04.224  INFO 69146 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-05 18:09:04.224  INFO 69146 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-05 18:09:04.224  INFO 69146 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-05 18:09:05.073  INFO 69146 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-05 18:09:06.762  INFO 69146 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7331196b: startup date [Wed Jun 05 18:09:00 CST 2019]; root of context hierarchy
2019-06-05 18:09:06.858  INFO 69146 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-05 18:09:06.860  INFO 69146 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-05 18:09:06.861  INFO 69146 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-05 18:09:06.861  INFO 69146 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-05 18:09:06.862  INFO 69146 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-05 18:09:06.863  INFO 69146 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-05 18:09:06.863  INFO 69146 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-05 18:09:06.863  INFO 69146 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-05 18:09:06.867  INFO 69146 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-05 18:09:06.868  INFO 69146 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-05 18:09:06.923  INFO 69146 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-05 18:09:06.924  INFO 69146 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-05 18:09:07.042  INFO 69146 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-05 18:09:07.785  INFO 69146 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7331196b: startup date [Wed Jun 05 18:09:00 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-05 18:09:07.787  INFO 69146 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-05 18:09:07.825  WARN 69146 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-05 18:09:08.312  INFO 69146 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-05 18:09:08.313  INFO 69146 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-05 18:09:08.324  INFO 69146 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-05 18:09:08.327  INFO 69146 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-05 18:09:08.328  INFO 69146 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-05 18:09:08.351  INFO 69146 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-05 18:09:08.352  INFO 69146 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-05 18:09:08.427  INFO 69146 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-05 18:09:08.435  INFO 69146 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.75 seconds (JVM running for 10.56)
2019-06-05 18:09:37.812  INFO 69146 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-05 18:09:37.813  INFO 69146 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-05 18:09:37.841  INFO 69146 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 28 ms
2019-06-05 18:09:37.983  INFO 69146 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-05 18:09:37.994  INFO 69146 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : 【查询订单】参数校验不通过:sign verify failed.
2019-06-05 18:09:37.995  INFO 69146 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=sign verify failed.}
2019-06-05 18:12:11.377  INFO 69146 --- [http-nio-8080-exec-3] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-05 18:12:11.379  INFO 69146 --- [http-nio-8080-exec-3] c.a.p.c.c.QueryPayOrderController        : 【查询订单】参数校验不通过:sign verify failed.
2019-06-05 18:12:11.379  INFO 69146 --- [http-nio-8080-exec-3] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=sign verify failed.}
2019-06-05 18:14:21.493  INFO 69146 --- [http-nio-8080-exec-5] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-05 18:14:40.577  INFO 69146 --- [http-nio-8080-exec-5] c.a.p.c.c.QueryPayOrderController        : 【查询订单】参数校验不通过:sign verify failed.
2019-06-05 18:14:40.585  INFO 69146 --- [http-nio-8080-exec-5] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=sign verify failed.}
2019-06-05 18:15:51.965  INFO 69146 --- [http-nio-8080-exec-7] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-05 18:16:08.021  INFO 69146 --- [http-nio-8080-exec-7] c.a.p.c.c.QueryPayOrderController        : 【查询订单】参数校验不通过:sign verify failed.
2019-06-05 18:16:08.026  INFO 69146 --- [http-nio-8080-exec-7] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=sign verify failed.}
2019-06-05 18:16:21.982  INFO 69146 --- [http-nio-8080-exec-8] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-05 18:17:44.519  INFO 69146 --- [http-nio-8080-exec-8] c.a.p.c.c.QueryPayOrderController        : 【查询订单】参数校验不通过:sign verify failed.
2019-06-05 18:17:44.519  INFO 69146 --- [http-nio-8080-exec-8] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=sign verify failed.}
2019-06-05 18:18:39.281  INFO 69146 --- [http-nio-8080-exec-9] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-05 18:18:41.030  INFO 69146 --- [http-nio-8080-exec-9] c.a.p.c.c.QueryPayOrderController        : 【查询订单】参数校验不通过:sign verify failed.
2019-06-05 18:18:41.031  INFO 69146 --- [http-nio-8080-exec-9] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=sign verify failed.}
2019-06-05 18:19:18.975  INFO 69146 --- [http-nio-8080-exec-10] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-05 18:21:33.617  INFO 69146 --- [http-nio-8080-exec-10] c.a.p.c.c.QueryPayOrderController        : 【查询订单】参数校验不通过:sign verify failed.
2019-06-05 18:21:33.626  INFO 69146 --- [http-nio-8080-exec-10] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=sign verify failed.}
2019-06-05 18:24:19.476  INFO 69146 --- [Thread-20] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7331196b: startup date [Wed Jun 05 18:09:00 CST 2019]; root of context hierarchy
2019-06-05 18:24:19.488  INFO 69146 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-05 18:24:19.489  INFO 69146 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-05 18:24:19.496  INFO 69146 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-05 18:24:19.496  INFO 69146 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-05 18:24:19.511  INFO 69146 --- [Thread-20] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-05 18:26:19.622  INFO 72439 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 72439 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-05 18:26:19.642  INFO 72439 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-05 18:26:19.784  INFO 72439 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@58be6e8: startup date [Wed Jun 05 18:26:19 CST 2019]; root of context hierarchy
2019-06-05 18:26:21.792  INFO 72439 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$3fbb3c86] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-05 18:26:22.404  INFO 72439 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-05 18:26:22.417  INFO 72439 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-05 18:26:22.419  INFO 72439 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-05 18:26:22.513  INFO 72439 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-05 18:26:22.514  INFO 72439 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2733 ms
2019-06-05 18:26:22.819  INFO 72439 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-05 18:26:22.824  INFO 72439 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-05 18:26:22.825  INFO 72439 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-05 18:26:22.825  INFO 72439 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-05 18:26:22.826  INFO 72439 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-05 18:26:23.626  INFO 72439 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-05 18:26:25.477  INFO 72439 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@58be6e8: startup date [Wed Jun 05 18:26:19 CST 2019]; root of context hierarchy
2019-06-05 18:26:25.580  INFO 72439 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-05 18:26:25.582  INFO 72439 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-05 18:26:25.583  INFO 72439 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-05 18:26:25.584  INFO 72439 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-05 18:26:25.585  INFO 72439 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-05 18:26:25.586  INFO 72439 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-05 18:26:25.586  INFO 72439 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-05 18:26:25.586  INFO 72439 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-05 18:26:25.590  INFO 72439 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-05 18:26:25.590  INFO 72439 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-05 18:26:25.646  INFO 72439 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-05 18:26:25.647  INFO 72439 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-05 18:26:25.731  INFO 72439 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-05 18:26:26.534  INFO 72439 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@58be6e8: startup date [Wed Jun 05 18:26:19 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-05 18:26:26.538  INFO 72439 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-05 18:26:26.588  WARN 72439 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-05 18:26:27.072  INFO 72439 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-05 18:26:27.074  INFO 72439 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-05 18:26:27.083  INFO 72439 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-05 18:26:27.087  INFO 72439 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-05 18:26:27.089  INFO 72439 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-05 18:26:27.112  INFO 72439 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-05 18:26:27.112  INFO 72439 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-05 18:26:27.186  INFO 72439 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-05 18:26:27.192  INFO 72439 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.702 seconds (JVM running for 10.768)
2019-06-05 18:26:50.172  INFO 72439 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-05 18:26:50.173  INFO 72439 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-05 18:26:50.213  INFO 72439 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 38 ms
2019-06-05 18:26:50.426  INFO 72439 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-05 18:26:52.727  INFO 72439 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{errCodeDes=订单不存在, errCode=0112, resCode=FAIL, retCode=SUCCESS, retMsg=}
2019-06-05 18:28:46.952  INFO 72439 --- [http-nio-8080-exec-3] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-05 18:28:52.186  INFO 72439 --- [http-nio-8080-exec-3] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559730530395</nonce_str>
  <sign>9CEA5A451B69326CDDD26E14B5DFD8E2</sign>
  <out_trade_no>P0020190605164457000000</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[Android]]></device_info>
<nonce_str><![CDATA[SIcA4G5BeZ5HvFux]]></nonce_str>
<sign><![CDATA[B35D13D784973E196667C25F8295628E]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>100</total_fee>
<out_trade_no><![CDATA[P0020190605164457000000]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-06-05 18:28:52.269  INFO 72439 --- [http-nio-8080-exec-3] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【查询微信支付订单】 >>> 查询订单单成功
2019-06-05 18:28:52.459  INFO 72439 --- [http-nio-8080-exec-3] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{tradeStateDesc=待支付, orderId=585871713447706624, sign=045F8561E733EF8AAB5BE8163D466981, resCode=SUCCESS, retCode=SUCCESS, retMsg=, tradeState=NOTPAY}
2019-06-05 18:40:31.483  INFO 72439 --- [Thread-20] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@58be6e8: startup date [Wed Jun 05 18:26:19 CST 2019]; root of context hierarchy
2019-06-05 18:40:31.507  INFO 72439 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-05 18:40:31.508  INFO 72439 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-05 18:40:31.517  INFO 72439 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-05 18:40:31.518  INFO 72439 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-05 18:40:31.580  INFO 72439 --- [Thread-20] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-06 11:36:38.807  INFO 59997 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 59997 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-06 11:36:38.812  INFO 59997 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-06 11:36:38.889  INFO 59997 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Thu Jun 06 11:36:38 CST 2019]; root of context hierarchy
2019-06-06 11:36:40.496  INFO 59997 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$5e44e550] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-06 11:36:41.022  INFO 59997 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-06 11:36:41.036  INFO 59997 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-06 11:36:41.038  INFO 59997 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-06 11:36:41.141  INFO 59997 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-06 11:36:41.142  INFO 59997 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2258 ms
2019-06-06 11:36:41.394  INFO 59997 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-06 11:36:41.399  INFO 59997 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-06 11:36:41.400  INFO 59997 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-06 11:36:41.400  INFO 59997 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-06 11:36:41.400  INFO 59997 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-06 11:36:42.150  INFO 59997 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-06 11:36:43.829  INFO 59997 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Thu Jun 06 11:36:38 CST 2019]; root of context hierarchy
2019-06-06 11:36:43.932  INFO 59997 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-06 11:36:43.934  INFO 59997 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-06 11:36:43.936  INFO 59997 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-06 11:36:43.937  INFO 59997 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-06 11:36:43.938  INFO 59997 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-06 11:36:43.939  INFO 59997 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-06 11:36:43.939  INFO 59997 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-06 11:36:43.940  INFO 59997 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-06 11:36:43.946  INFO 59997 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-06 11:36:43.946  INFO 59997 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-06 11:36:44.043  INFO 59997 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-06 11:36:44.043  INFO 59997 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-06 11:36:44.133  INFO 59997 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-06 11:36:44.708  INFO 59997 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Thu Jun 06 11:36:38 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-06 11:36:44.711  INFO 59997 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-06 11:36:44.751  WARN 59997 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-06 11:36:45.250  INFO 59997 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-06 11:36:45.251  INFO 59997 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-06 11:36:45.261  INFO 59997 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-06 11:36:45.265  INFO 59997 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-06 11:36:45.266  INFO 59997 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-06 11:36:45.296  INFO 59997 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-06 11:36:45.296  INFO 59997 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-06 11:36:45.366  INFO 59997 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-06 11:36:45.372  INFO 59997 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.188 seconds (JVM running for 11.589)
2019-06-06 11:37:36.429  INFO 59997 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-06 11:37:36.438  INFO 59997 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-06 11:37:36.480  INFO 59997 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 42 ms
2019-06-06 11:37:36.682  INFO 59997 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-06 11:37:39.004  INFO 59997 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : 【查询订单】参数校验不通过:sign verify failed.
2019-06-06 11:37:39.007  INFO 59997 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@3f8a5f24
2019-06-06 11:40:03.697  INFO 59997 --- [http-nio-8080-exec-3] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-06 11:40:08.354  INFO 59997 --- [http-nio-8080-exec-3] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559792407386</nonce_str>
  <sign>07377AA269E7A9E4E3D533D0FB4D9844</sign>
  <out_trade_no>P0020190605164457000000</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[Android]]></device_info>
<nonce_str><![CDATA[nhBW0Yxt3yBpMf4m]]></nonce_str>
<sign><![CDATA[A241FA2D31AA92BDF18370BCDEF09128]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>100</total_fee>
<out_trade_no><![CDATA[P0020190605164457000000]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-06-06 11:40:08.386  INFO 59997 --- [http-nio-8080-exec-3] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【查询微信支付订单】 >>> 查询订单单成功
2019-06-06 11:40:08.435  INFO 59997 --- [http-nio-8080-exec-3] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@4c6504cb
2019-06-06 11:40:46.020  INFO 59997 --- [http-nio-8080-exec-4] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-06 11:42:00.351  INFO 59997 --- [Thread-21] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Thu Jun 06 11:36:38 CST 2019]; root of context hierarchy
2019-06-06 11:42:00.354  INFO 59997 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-06 11:42:00.355  INFO 59997 --- [Thread-21] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-06 11:42:00.359  INFO 59997 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-06 11:42:00.360  INFO 59997 --- [Thread-21] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-06 11:42:00.369  INFO 59997 --- [Thread-21] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-06 11:42:00.510  INFO 59997 --- [http-nio-8080-exec-4] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559792520292</nonce_str>
  <sign>2CE7EB916C2C888C46922849F9ECEC1B</sign>
  <out_trade_no>P0020190605164457000000</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[Android]]></device_info>
<nonce_str><![CDATA[6GZITDAbR0HN2xzo]]></nonce_str>
<sign><![CDATA[E95E9E7084A2362BEDE785315533F6C7]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>100</total_fee>
<out_trade_no><![CDATA[P0020190605164457000000]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-06-06 11:42:00.531  INFO 59997 --- [http-nio-8080-exec-4] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【查询微信支付订单】 >>> 查询订单单成功
2019-06-06 11:42:00.580 ERROR 59997 --- [http-nio-8080-exec-4] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 微信支付查询订单异常org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Thu Jun 06 11:42:00 CST 2019
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Thu Jun 06 11:42:00 CST 2019

org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Thu Jun 06 11:42:00 CST 2019
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Thu Jun 06 11:42:00 CST 2019
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:79) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:447) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at com.sun.proxy.$Proxy58.update(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:295) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53) ~[mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy59.updateByExampleSelective(Unknown Source) ~[na:na]
	at com.appchina.pay.center.service.BaseService.baseUpdateStatus(BaseService.java:99) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayChannel4WxServiceImpl.queryWxPayOrderRequest(PayChannel4WxServiceImpl.java:266) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.queryWxPayOrderRequest(PayOrderServiceImpl.java:93) [classes/:na]
	at com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(QueryPayOrderController.java:178) [classes/:na]
	at com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(QueryPayOrderController.java:147) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Thu Jun 06 11:42:00 CST 2019
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Thu Jun 06 11:42:00 CST 2019
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:200) ~[mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434) ~[mybatis-spring-1.3.0.jar:1.3.0]
	... 64 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Thu Jun 06 11:42:00 CST 2019
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:84) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:70) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:336) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:84) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy81.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) ~[mybatis-3.4.1.jar:3.4.1]
	... 69 common frames omitted
Caused by: com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Thu Jun 06 11:42:00 CST 2019
	at com.alibaba.druid.pool.DruidDataSource.getConnectionInternal(DruidDataSource.java:1110) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidDataSource.getConnectionDirect(DruidDataSource.java:1014) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.dataSource_connect(FilterChainImpl.java:4544) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.logging.LogFilter.dataSource_getConnection(LogFilter.java:831) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.dataSource_connect(FilterChainImpl.java:4540) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterAdapter.dataSource_getConnection(FilterAdapter.java:2723) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.dataSource_connect(FilterChainImpl.java:4540) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.stat.StatFilter.dataSource_getConnection(StatFilter.java:662) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.dataSource_connect(FilterChainImpl.java:4540) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidDataSource.getConnection(DruidDataSource.java:992) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidDataSource.getConnection(DruidDataSource.java:984) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidDataSource.getConnection(DruidDataSource.java:103) ~[druid-1.0.26.jar:1.0.26]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	... 83 common frames omitted

2019-06-06 11:42:00.583  INFO 59997 --- [http-nio-8080-exec-4] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@794cd749
2019-06-06 11:43:20.402  INFO 61255 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 61255 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-06 11:43:20.406  INFO 61255 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-06 11:43:20.500  INFO 61255 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Thu Jun 06 11:43:20 CST 2019]; root of context hierarchy
2019-06-06 11:43:22.400  INFO 61255 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$325600c8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-06 11:43:23.057  INFO 61255 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-06 11:43:23.069  INFO 61255 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-06 11:43:23.070  INFO 61255 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-06 11:43:23.175  INFO 61255 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-06 11:43:23.176  INFO 61255 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2681 ms
2019-06-06 11:43:23.426  INFO 61255 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-06 11:43:23.433  INFO 61255 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-06 11:43:23.434  INFO 61255 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-06 11:43:23.434  INFO 61255 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-06 11:43:23.434  INFO 61255 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-06 11:43:24.431  INFO 61255 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-06 11:43:26.184  INFO 61255 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Thu Jun 06 11:43:20 CST 2019]; root of context hierarchy
2019-06-06 11:43:26.279  INFO 61255 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-06 11:43:26.280  INFO 61255 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-06 11:43:26.282  INFO 61255 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-06 11:43:26.282  INFO 61255 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-06 11:43:26.283  INFO 61255 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-06 11:43:26.283  INFO 61255 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-06 11:43:26.284  INFO 61255 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-06 11:43:26.284  INFO 61255 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-06 11:43:26.288  INFO 61255 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-06 11:43:26.288  INFO 61255 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-06 11:43:26.348  INFO 61255 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-06 11:43:26.348  INFO 61255 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-06 11:43:26.428  INFO 61255 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-06 11:43:27.094  INFO 61255 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Thu Jun 06 11:43:20 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-06 11:43:27.095  INFO 61255 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-06 11:43:27.136  WARN 61255 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-06 11:43:27.594  INFO 61255 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-06 11:43:27.596  INFO 61255 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-06 11:43:27.607  INFO 61255 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-06 11:43:27.611  INFO 61255 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-06 11:43:27.613  INFO 61255 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-06 11:43:27.637  INFO 61255 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-06 11:43:27.637  INFO 61255 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-06 11:43:27.714  INFO 61255 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-06 11:43:27.721  INFO 61255 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 7.988 seconds (JVM running for 10.712)
2019-06-06 11:44:49.844  INFO 61255 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-06 11:44:49.844  INFO 61255 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-06 11:44:49.875  INFO 61255 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 30 ms
2019-06-06 11:44:50.032  INFO 61255 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-06 11:44:55.379  INFO 61255 --- [http-nio-8080-exec-1] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559792694509</nonce_str>
  <sign>61E0A281CB51FFB20BFA3D6425378E53</sign>
  <out_trade_no>P0020190605164457000000</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[Android]]></device_info>
<nonce_str><![CDATA[NfrAC7q3P7gkKW9m]]></nonce_str>
<sign><![CDATA[C5E8E2545869809879FDD6F0F304BBEF]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>100</total_fee>
<out_trade_no><![CDATA[P0020190605164457000000]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-06-06 11:44:55.411  INFO 61255 --- [http-nio-8080-exec-1] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【查询微信支付订单】 >>> 查询订单单成功
2019-06-06 11:44:55.470  INFO 61255 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@4639848e
2019-06-06 11:45:39.407  INFO 61255 --- [http-nio-8080-exec-2] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-06 11:45:56.842  INFO 61255 --- [http-nio-8080-exec-2] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559792756401</nonce_str>
  <sign>BE6021EAA05CBEEA661E3735EC0C835C</sign>
  <out_trade_no>P0020190605164457000000</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[Android]]></device_info>
<nonce_str><![CDATA[NBDMre1rMDH4Ndic]]></nonce_str>
<sign><![CDATA[521F38E1A9C1B685963C99138B5A80BC]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>100</total_fee>
<out_trade_no><![CDATA[P0020190605164457000000]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-06-06 11:45:56.899  INFO 61255 --- [http-nio-8080-exec-2] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【查询微信支付订单】 >>> 查询订单单成功
2019-06-06 11:47:03.698  INFO 61255 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@13b9dceb
2019-06-06 11:47:10.955  INFO 61255 --- [http-nio-8080-exec-3] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-06 11:47:19.551  INFO 61255 --- [http-nio-8080-exec-3] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559792839084</nonce_str>
  <sign>C529C4578887BD4B6850FADC184D274F</sign>
  <out_trade_no>P0020190605164457000000</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[Android]]></device_info>
<nonce_str><![CDATA[B7Nwbb30qDCyRInE]]></nonce_str>
<sign><![CDATA[C488E6EA3EB09D5B404642CFA0155C60]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>100</total_fee>
<out_trade_no><![CDATA[P0020190605164457000000]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-06-06 11:47:19.605  INFO 61255 --- [http-nio-8080-exec-3] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【查询微信支付订单】 >>> 查询订单单成功
2019-06-06 11:48:39.209  INFO 61255 --- [http-nio-8080-exec-3] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@7b2cb88a
2019-06-06 11:49:44.903  INFO 61255 --- [Thread-20] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Thu Jun 06 11:43:20 CST 2019]; root of context hierarchy
2019-06-06 11:49:44.909  INFO 61255 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-06 11:49:44.910  INFO 61255 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-06 11:49:44.918  INFO 61255 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-06 11:49:44.918  INFO 61255 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-06 11:49:44.925  INFO 61255 --- [Thread-20] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-06 11:55:11.532  INFO 63466 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 63466 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-06 11:55:11.537  INFO 63466 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-06 11:55:11.637  INFO 63466 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Thu Jun 06 11:55:11 CST 2019]; root of context hierarchy
2019-06-06 11:55:13.482  INFO 63466 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$f5220396] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-06 11:55:14.057  INFO 63466 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-06 11:55:14.068  INFO 63466 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-06 11:55:14.069  INFO 63466 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-06 11:55:14.155  INFO 63466 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-06 11:55:14.156  INFO 63466 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2523 ms
2019-06-06 11:55:14.360  INFO 63466 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-06 11:55:14.366  INFO 63466 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-06 11:55:14.367  INFO 63466 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-06 11:55:14.367  INFO 63466 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-06 11:55:14.367  INFO 63466 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-06 11:55:15.610  INFO 63466 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-06 11:55:17.213  INFO 63466 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Thu Jun 06 11:55:11 CST 2019]; root of context hierarchy
2019-06-06 11:55:17.310  INFO 63466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-06 11:55:17.311  INFO 63466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-06 11:55:17.313  INFO 63466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-06 11:55:17.313  INFO 63466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-06 11:55:17.315  INFO 63466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-06 11:55:17.315  INFO 63466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-06 11:55:17.316  INFO 63466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-06 11:55:17.316  INFO 63466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-06 11:55:17.321  INFO 63466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-06 11:55:17.321  INFO 63466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-06 11:55:17.375  INFO 63466 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-06 11:55:17.375  INFO 63466 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-06 11:55:17.448  INFO 63466 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-06 11:55:18.103  INFO 63466 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Thu Jun 06 11:55:11 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-06 11:55:18.105  INFO 63466 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-06 11:55:18.143  WARN 63466 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-06 11:55:18.591  INFO 63466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-06 11:55:18.593  INFO 63466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-06 11:55:18.603  INFO 63466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-06 11:55:18.606  INFO 63466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-06 11:55:18.608  INFO 63466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-06 11:55:18.630  INFO 63466 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-06 11:55:18.630  INFO 63466 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-06 11:55:18.698  INFO 63466 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-06 11:55:18.705  INFO 63466 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 8.168 seconds (JVM running for 10.422)
2019-06-06 11:55:54.260  INFO 63466 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-06 11:55:54.261  INFO 63466 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-06 11:55:54.302  INFO 63466 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 40 ms
2019-06-06 11:55:54.430  INFO 63466 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-06 11:55:59.594  INFO 63466 --- [http-nio-8080-exec-1] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1559793358589</nonce_str>
  <sign>02D27BD883E668FEDEA3548642D54C39</sign>
  <out_trade_no>P0020190605164457000000</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[Android]]></device_info>
<nonce_str><![CDATA[cXwxM2c6vVuFRjSg]]></nonce_str>
<sign><![CDATA[A4A4149DA1C3C01CC204D3CC1D8B24B7]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>100</total_fee>
<out_trade_no><![CDATA[P0020190605164457000000]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-06-06 11:55:59.624  INFO 63466 --- [http-nio-8080-exec-1] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【查询微信支付订单】 >>> 查询订单单成功
2019-06-06 11:56:08.935  INFO 63466 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@1a296868
2019-06-06 15:40:40.933  INFO 63466 --- [Thread-20] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Thu Jun 06 11:55:11 CST 2019]; root of context hierarchy
2019-06-06 15:40:40.969  INFO 63466 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-06 15:40:40.975  INFO 63466 --- [Thread-20] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-06 15:40:40.997  INFO 63466 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-06 15:40:40.997  INFO 63466 --- [Thread-20] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-06 15:40:41.052  INFO 63466 --- [Thread-20] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-10 14:39:33.695  INFO 50787 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 50787 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-10 14:39:33.701  INFO 50787 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-10 14:39:33.917  INFO 50787 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 10 14:39:33 CST 2019]; root of context hierarchy
2019-06-10 14:39:35.861  INFO 50787 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$9f86008] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-10 14:39:36.654  INFO 50787 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-10 14:39:36.670  INFO 50787 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-10 14:39:36.672  INFO 50787 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-10 14:39:36.815  INFO 50787 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-10 14:39:36.816  INFO 50787 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2904 ms
2019-06-10 14:39:37.245  INFO 50787 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-10 14:39:37.260  INFO 50787 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-10 14:39:37.261  INFO 50787 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-10 14:39:37.261  INFO 50787 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-10 14:39:37.261  INFO 50787 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-10 14:39:38.275  INFO 50787 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-10 14:39:40.255  INFO 50787 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 10 14:39:33 CST 2019]; root of context hierarchy
2019-06-10 14:39:40.360  INFO 50787 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-10 14:39:40.361  INFO 50787 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-10 14:39:40.363  INFO 50787 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-10 14:39:40.364  INFO 50787 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-10 14:39:40.365  INFO 50787 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-10 14:39:40.365  INFO 50787 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-10 14:39:40.366  INFO 50787 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-10 14:39:40.366  INFO 50787 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-10 14:39:40.370  INFO 50787 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-10 14:39:40.371  INFO 50787 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-10 14:39:40.438  INFO 50787 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-10 14:39:40.438  INFO 50787 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-10 14:39:40.584  INFO 50787 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-10 14:39:41.489  INFO 50787 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 10 14:39:33 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-10 14:39:41.490  INFO 50787 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-10 14:39:41.529  WARN 50787 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-10 14:39:42.003  INFO 50787 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-10 14:39:42.005  INFO 50787 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-10 14:39:42.018  INFO 50787 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-10 14:39:42.022  INFO 50787 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-10 14:39:42.024  INFO 50787 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-10 14:39:42.055  INFO 50787 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-10 14:39:42.055  INFO 50787 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-10 14:39:42.145  INFO 50787 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-10 14:39:42.152  INFO 50787 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 9.682 seconds (JVM running for 14.833)
2019-06-10 14:40:17.621  INFO 50787 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-10 14:40:17.622  INFO 50787 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-10 14:40:17.651  INFO 50787 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 29 ms
2019-06-10 14:40:30.387  INFO 50787 --- [http-nio-8080-exec-2] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-10 14:40:31.824 ERROR 50787 --- [http-nio-8080-exec-2] c.a.p.c.c.QueryPayOrderController        : java.lang.NullPointerException

java.lang.NullPointerException: null
	at com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(QueryPayOrderController.java:169) [classes/:na]
	at com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(QueryPayOrderController.java:147) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-06-10 14:40:31.835  INFO 50787 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@7b2b3f0d
2019-06-10 14:44:56.458  INFO 50787 --- [http-nio-8080-exec-3] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-10 14:44:57.328 ERROR 50787 --- [http-nio-8080-exec-3] c.a.p.c.c.QueryPayOrderController        : java.lang.NullPointerException

java.lang.NullPointerException: null
	at com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(QueryPayOrderController.java:169) [classes/:na]
	at com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(QueryPayOrderController.java:147) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-06-10 14:44:57.331  INFO 50787 --- [http-nio-8080-exec-3] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@2e1191b9
2019-06-10 14:59:48.422  INFO 50787 --- [Thread-23] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Mon Jun 10 14:39:33 CST 2019]; root of context hierarchy
2019-06-10 14:59:48.442  INFO 50787 --- [Thread-23] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-10 14:59:48.443  INFO 50787 --- [Thread-23] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-10 14:59:48.449  INFO 50787 --- [Thread-23] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-10 14:59:48.450  INFO 50787 --- [Thread-23] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-10 14:59:48.474  INFO 50787 --- [Thread-23] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-10 15:05:59.400  INFO 55538 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 55538 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-10 15:05:59.406  INFO 55538 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-10 15:05:59.523  INFO 55538 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 10 15:05:59 CST 2019]; root of context hierarchy
2019-06-10 15:06:01.370  INFO 55538 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$dd84a262] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-10 15:06:02.121  INFO 55538 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-10 15:06:02.136  INFO 55538 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-10 15:06:02.137  INFO 55538 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-10 15:06:02.245  INFO 55538 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-10 15:06:02.245  INFO 55538 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2727 ms
2019-06-10 15:06:02.471  INFO 55538 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-10 15:06:02.484  INFO 55538 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-10 15:06:02.485  INFO 55538 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-10 15:06:02.485  INFO 55538 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-10 15:06:02.486  INFO 55538 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-10 15:06:03.751  INFO 55538 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-10 15:06:05.598  INFO 55538 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 10 15:05:59 CST 2019]; root of context hierarchy
2019-06-10 15:06:05.696  INFO 55538 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-10 15:06:05.698  INFO 55538 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-10 15:06:05.699  INFO 55538 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-10 15:06:05.699  INFO 55538 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-10 15:06:05.700  INFO 55538 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-10 15:06:05.701  INFO 55538 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-10 15:06:05.701  INFO 55538 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-10 15:06:05.702  INFO 55538 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-10 15:06:05.705  INFO 55538 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-10 15:06:05.706  INFO 55538 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-10 15:06:05.763  INFO 55538 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-10 15:06:05.763  INFO 55538 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-10 15:06:05.844  INFO 55538 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-10 15:06:06.687  INFO 55538 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 10 15:05:59 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-10 15:06:06.689  INFO 55538 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-10 15:06:06.734  WARN 55538 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-10 15:06:07.248  INFO 55538 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-10 15:06:07.250  INFO 55538 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-10 15:06:07.260  INFO 55538 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-10 15:06:07.264  INFO 55538 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-10 15:06:07.266  INFO 55538 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-10 15:06:07.290  INFO 55538 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-10 15:06:07.291  INFO 55538 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-10 15:06:07.382  INFO 55538 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-10 15:06:07.390  INFO 55538 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 9.282 seconds (JVM running for 11.413)
2019-06-10 15:07:35.224  INFO 55538 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-10 15:07:35.225  INFO 55538 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-10 15:07:35.260  INFO 55538 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 35 ms
2019-06-10 15:07:52.620  INFO 55538 --- [http-nio-8080-exec-2] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-10 15:08:35.674  INFO 55538 --- [http-nio-8080-exec-2] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1560150508234</nonce_str>
  <sign>43E64F6EEE29F890E4427AFCDCDC2D58</sign>
  <out_trade_no>P0020190605164457000000</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[Android]]></device_info>
<nonce_str><![CDATA[a5ry513c3WadzrPp]]></nonce_str>
<sign><![CDATA[18020665F0E204987247ABC059D2B642]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>100</total_fee>
<out_trade_no><![CDATA[P0020190605164457000000]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-06-10 15:08:35.977  INFO 55538 --- [http-nio-8080-exec-2] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【查询微信支付订单】 >>> 查询订单单成功
2019-06-10 15:09:39.836  INFO 55538 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@7529d2e6
2019-06-10 15:10:03.782  INFO 55538 --- [http-nio-8080-exec-3] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-10 15:10:07.074  INFO 55538 --- [http-nio-8080-exec-3] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/orderquery
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1560150606818</nonce_str>
  <sign>4371932EABC34A123C9AACD62BBA410F</sign>
  <out_trade_no>P0020190605164457000000</out_trade_no>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[Android]]></device_info>
<nonce_str><![CDATA[sfGgd4n1Fkr2MXIc]]></nonce_str>
<sign><![CDATA[4714725CD0FF5AF9106A365D94D2D8A3]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<total_fee>100</total_fee>
<out_trade_no><![CDATA[P0020190605164457000000]]></out_trade_no>
<trade_state><![CDATA[NOTPAY]]></trade_state>
<trade_state_desc><![CDATA[订单未支付]]></trade_state_desc>
</xml>
2019-06-10 15:10:07.084  INFO 55538 --- [http-nio-8080-exec-3] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【查询微信支付订单】 >>> 查询订单单成功
2019-06-10 15:13:22.963  INFO 55538 --- [http-nio-8080-exec-3] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@8d6d877
2019-06-10 15:32:52.244  INFO 55538 --- [Thread-22] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 10 15:05:59 CST 2019]; root of context hierarchy
2019-06-10 15:32:52.295  INFO 55538 --- [Thread-22] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-10 15:32:52.297  INFO 55538 --- [Thread-22] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-10 15:32:52.313  INFO 55538 --- [Thread-22] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-10 15:32:52.315  INFO 55538 --- [Thread-22] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-10 15:32:52.369  INFO 55538 --- [Thread-22] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-10 16:39:31.966  INFO 72396 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 72396 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-10 16:39:32.000  INFO 72396 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-10 16:39:32.097  INFO 72396 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@b7c4869: startup date [Mon Jun 10 16:39:32 CST 2019]; root of context hierarchy
2019-06-10 16:39:34.804  INFO 72396 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$321f9761] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-10 16:39:35.595  INFO 72396 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-10 16:39:35.626  INFO 72396 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-10 16:39:35.629  INFO 72396 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-10 16:39:35.948  INFO 72396 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-10 16:39:35.949  INFO 72396 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3859 ms
2019-06-10 16:39:36.237  INFO 72396 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-10 16:39:36.252  INFO 72396 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-10 16:39:36.252  INFO 72396 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-10 16:39:36.253  INFO 72396 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-10 16:39:36.253  INFO 72396 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-10 16:39:37.516  INFO 72396 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-10 16:39:39.213  INFO 72396 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@b7c4869: startup date [Mon Jun 10 16:39:32 CST 2019]; root of context hierarchy
2019-06-10 16:39:39.304  INFO 72396 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-10 16:39:39.305  INFO 72396 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-10 16:39:39.307  INFO 72396 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.queryOrderState(java.lang.String)
2019-06-10 16:39:39.308  INFO 72396 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-10 16:39:39.308  INFO 72396 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-10 16:39:39.308  INFO 72396 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-10 16:39:39.309  INFO 72396 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-10 16:39:39.309  INFO 72396 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-10 16:39:39.310  INFO 72396 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-10 16:39:39.310  INFO 72396 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-10 16:39:39.313  INFO 72396 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-10 16:39:39.313  INFO 72396 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-10 16:39:39.368  INFO 72396 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-10 16:39:39.368  INFO 72396 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-10 16:39:39.438  INFO 72396 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-10 16:39:40.276  INFO 72396 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@b7c4869: startup date [Mon Jun 10 16:39:32 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-10 16:39:40.277  INFO 72396 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-10 16:39:40.345  WARN 72396 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-10 16:39:40.885  INFO 72396 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-10 16:39:40.887  INFO 72396 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-10 16:39:40.897  INFO 72396 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-10 16:39:40.900  INFO 72396 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-10 16:39:40.902  INFO 72396 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-10 16:39:40.926  INFO 72396 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-10 16:39:40.926  INFO 72396 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-10 16:39:41.004  INFO 72396 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-10 16:39:41.010  INFO 72396 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 10.897 seconds (JVM running for 13.053)
2019-06-10 16:57:31.606  INFO 72396 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-10 16:57:31.608  INFO 72396 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-10 16:57:31.664  INFO 72396 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 56 ms
2019-06-10 16:57:31.820  INFO 72396 --- [http-nio-8080-exec-1] c.a.p.c.controller.PayChannelController  : ###### 开始接收支付渠道信息 ######
2019-06-10 16:57:37.342  INFO 72396 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@d1b20a0
2019-06-10 17:04:11.611  INFO 72396 --- [Thread-24] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@b7c4869: startup date [Mon Jun 10 16:39:32 CST 2019]; root of context hierarchy
2019-06-10 17:04:11.628  INFO 72396 --- [Thread-24] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-10 17:04:11.629  INFO 72396 --- [Thread-24] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-10 17:04:11.639  INFO 72396 --- [Thread-24] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-10 17:04:11.645  INFO 72396 --- [Thread-24] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-10 17:04:11.665  INFO 72396 --- [Thread-24] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-10 20:20:25.992  INFO 12741 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 12741 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-10 20:20:25.997  INFO 12741 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-10 20:20:26.066  INFO 12741 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 10 20:20:26 CST 2019]; root of context hierarchy
2019-06-10 20:20:29.168  INFO 12741 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$a5f684fb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-10 20:20:29.732  INFO 12741 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-10 20:20:29.747  INFO 12741 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-10 20:20:29.748  INFO 12741 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-10 20:20:29.997  INFO 12741 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-10 20:20:29.997  INFO 12741 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3935 ms
2019-06-10 20:20:30.642  INFO 12741 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-10 20:20:30.660  INFO 12741 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-10 20:20:30.662  INFO 12741 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-10 20:20:30.662  INFO 12741 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-10 20:20:30.663  INFO 12741 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-10 20:20:31.629  INFO 12741 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-10 20:20:33.355  INFO 12741 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 10 20:20:26 CST 2019]; root of context hierarchy
2019-06-10 20:20:33.459  INFO 12741 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-10 20:20:33.460  INFO 12741 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-10 20:20:33.461  INFO 12741 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.queryOrderState(java.lang.String)
2019-06-10 20:20:33.462  INFO 12741 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-10 20:20:33.462  INFO 12741 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-10 20:20:33.463  INFO 12741 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-10 20:20:33.463  INFO 12741 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-10 20:20:33.464  INFO 12741 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-10 20:20:33.464  INFO 12741 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-10 20:20:33.464  INFO 12741 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-10 20:20:33.468  INFO 12741 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-10 20:20:33.469  INFO 12741 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-10 20:20:33.528  INFO 12741 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-10 20:20:33.529  INFO 12741 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-10 20:20:33.700  INFO 12741 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-10 20:20:34.322  INFO 12741 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 10 20:20:26 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-10 20:20:34.323  INFO 12741 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-10 20:20:34.364  WARN 12741 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-10 20:20:34.848  INFO 12741 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-10 20:20:34.849  INFO 12741 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-10 20:20:34.859  INFO 12741 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-10 20:20:34.862  INFO 12741 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-10 20:20:34.863  INFO 12741 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-10 20:20:34.887  INFO 12741 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-10 20:20:34.888  INFO 12741 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-10 20:20:34.968  INFO 12741 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-10 20:20:34.975  INFO 12741 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 10.964 seconds (JVM running for 14.313)
2019-06-10 20:21:55.295  INFO 12741 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-10 20:21:55.296  INFO 12741 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-10 20:21:55.329  INFO 12741 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 33 ms
2019-06-10 20:21:59.644  INFO 12741 --- [http-nio-8080-exec-2] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-10 20:22:08.142 ERROR 12741 --- [http-nio-8080-exec-2] c.a.p.c.c.QueryPayOrderController        : java.lang.NullPointerException

java.lang.NullPointerException: null
	at com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(QueryPayOrderController.java:169) [classes/:na]
	at com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(QueryPayOrderController.java:147) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-06-10 20:22:08.144  INFO 12741 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@2a24f992
2019-06-10 20:22:55.182  INFO 12741 --- [http-nio-8080-exec-3] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-10 20:23:12.327  INFO 12741 --- [http-nio-8080-exec-3] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@9dff7e9
2019-06-10 20:23:50.146  INFO 12741 --- [http-nio-8080-exec-4] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-10 20:24:24.423 ERROR 12741 --- [http-nio-8080-exec-4] c.a.p.c.c.QueryPayOrderController        : java.lang.NullPointerException

java.lang.NullPointerException: null
	at com.appchina.pay.center.service.impl.PayChannel4AliServiceImpl.doQueryAliPayOrder(PayChannel4AliServiceImpl.java:300) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.queryAliPayOrderRequest(PayOrderServiceImpl.java:98) ~[classes/:na]
	at com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(QueryPayOrderController.java:180) [classes/:na]
	at com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(QueryPayOrderController.java:147) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-06-10 20:24:24.432  INFO 12741 --- [http-nio-8080-exec-4] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@123e3cbf
2019-06-10 20:25:16.101  INFO 12741 --- [http-nio-8080-exec-5] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-10 20:25:34.899 ERROR 12741 --- [http-nio-8080-exec-5] sdk.biz.err                              : ErrorScene^_^40002^_^isv.invalid-app-id^_^null^_^Mac OS X^_^2019-06-10 20:25:34^_^ProtocalMustParams:charset=UTF-8&method=alipay.trade.query&sign=VTQjaUCD5gHnU4MkCnJZ3sbV9xLHXOgzMPddf52BMjgxXZRx62QPYYG8eJTCfrMoTGb3kwG8LHUMpg5TzORchkIc12L44o+bvhId2j6GuZZRGKFQyLrhzla8umVxZ3nVyN9xrcRtrK5KPpPN4WATzmj6GMwo7xXwjftHrBJ9VUh7XsxgmpeJftZltgR4w/sxw7yAxrmmkNrbCs3mQnWBMiPGsSSQr38Hp6k6t2rfvQ2sHWZ+xLSUWyGZY4hITDJ4lijEOSLfYsG7h2yBSwntJts0GPMdGPvoYLgQeUSL5g5hmjmOyZs/3/AIqCr7pgfRbjtZZD9FZpaLX51h27B1og==&version=1.0&app_id=2017082208326738&sign_type=RSA2&timestamp=2019-06-10 20:25:28^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-dynamicVersionNo&format=json^_^ApplicationParams:biz_content={"out_trade_no":"P0020190530173855000003","trade_no":"2019053022001447511040912866"}^_^Body:{"alipay_trade_query_response":{"code":"40002","msg":"Invalid Arguments","sub_code":"isv.invalid-app-id","sub_msg":"无效的AppID参数"}}
2019-06-11 10:47:22.549  INFO 12741 --- [http-nio-8080-exec-5] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】生成跳转路径：payUrl={"alipay_trade_query_response":{"code":"40002","msg":"Invalid Arguments","sub_code":"isv.invalid-app-id","sub_msg":"无效的AppID参数"}}
2019-06-11 10:47:22.916  INFO 12741 --- [http-nio-8080-exec-5] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】生成请求支付宝数据,req=com.alipay.api.domain.AlipayTradeQueryModel@39a1eb50
2019-06-11 10:47:22.917  INFO 12741 --- [http-nio-8080-exec-5] c.a.p.c.s.i.PayChannel4AliServiceImpl    : ###### 商户统一下单处理完成 ######
2019-06-11 10:47:25.171  INFO 12741 --- [http-nio-8080-exec-5] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@7922982b
2019-06-11 10:47:38.851  INFO 12741 --- [http-nio-8080-exec-6] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-11 10:47:56.546 ERROR 12741 --- [http-nio-8080-exec-6] sdk.biz.err                              : ErrorScene^_^40002^_^isv.invalid-app-id^_^null^_^Mac OS X^_^2019-06-11 10:47:56^_^ProtocalMustParams:charset=UTF-8&method=alipay.trade.query&sign=Z6I5qIjJATamAzyMoTnjZn/a3+sd1Fn+qV3P8dVHiIC77rTYJedwVNXmpj+3opXem+BR07j52q31JdN03a1CHJpPamuWhh0T2TUZ1rsZyeZa8KcgymXkfRY6X96PNxT4FQGjBD15sm04ZWXDSJ0DlNiZ8WwzUIAeZFTpPsFlKvWazm+QG0K4ju3oqUwj1ycJJUQtKBi6mXuqTgGKzrl1CE3CpHYOD11ypKWI5wQIDtjdf/ZDgYcyj1CZmJ3r3DGe5lRTtkiAyA6MXeyu696WM6H9rBBZNVnozF3yLTgvjG8pyXT3u7x8Znw8J6x+ROJwin1L6az0+RapxGv01xhlPQ==&version=1.0&app_id=2017082208326738&sign_type=RSA2&timestamp=2019-06-11 10:47:55^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-dynamicVersionNo&format=json^_^ApplicationParams:biz_content={"out_trade_no":"P0020190530173855000003","trade_no":"2019053022001447511040912866"}^_^Body:{"alipay_trade_query_response":{"code":"40002","msg":"Invalid Arguments","sub_code":"isv.invalid-app-id","sub_msg":"无效的AppID参数"}}
2019-06-11 10:48:53.745  INFO 12741 --- [http-nio-8080-exec-6] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】生成跳转路径：payUrl={"alipay_trade_query_response":{"code":"40002","msg":"Invalid Arguments","sub_code":"isv.invalid-app-id","sub_msg":"无效的AppID参数"}}
2019-06-11 10:48:53.998  INFO 12741 --- [http-nio-8080-exec-6] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】生成请求支付宝数据,req=com.alipay.api.domain.AlipayTradeQueryModel@118f41f3
2019-06-11 10:48:53.998  INFO 12741 --- [http-nio-8080-exec-6] c.a.p.c.s.i.PayChannel4AliServiceImpl    : ###### 商户统一下单处理完成 ######
2019-06-11 10:48:57.998  INFO 12741 --- [http-nio-8080-exec-6] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@6e52dcb
2019-06-11 10:49:06.719  INFO 12741 --- [http-nio-8080-exec-7] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-11 10:49:14.095 ERROR 12741 --- [http-nio-8080-exec-7] sdk.biz.err                              : ErrorScene^_^40002^_^isv.invalid-app-id^_^null^_^Mac OS X^_^2019-06-11 10:49:14^_^ProtocalMustParams:charset=UTF-8&method=alipay.trade.query&sign=kqnv4fxg5N6ut2AR8czUwCkUphimVcEY4GPONeDh9VW0l6VU0OCX0l6gtbvqXSQZmSeQ0zB5sKuuMaEdxcHm4OWhy9X9ymsAFSayHbZoGM59WjQsSRSwnQ/hspOJghn1/bVIr9GpcFagoio1wy+MQJGM4Z7tQpyLTOjDSRlW27w/X4AfkNdHEH2/1i9dQxV3TjsK2sgSMDQJ5couJlpTq53ue55bf3+kWZnGlI3IuiiUh9jQk0kmBLIAiMg9foaXRLEjfBQiWEzijXgwad7tpfyIICLSfk1yxYZhveutxMir7QCi81ekVMwT/zexgSJw2nwsZIfJ3UOHDEqK22BqiA==&version=1.0&app_id=2017082208326738&sign_type=RSA2&timestamp=2019-06-11 10:49:13^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-dynamicVersionNo&format=json^_^ApplicationParams:biz_content={"out_trade_no":"P0020190530173855000003","trade_no":"2019053022001447511040912866"}^_^Body:{"alipay_trade_query_response":{"code":"40002","msg":"Invalid Arguments","sub_code":"isv.invalid-app-id","sub_msg":"无效的AppID参数"}}
2019-06-11 10:49:47.461  INFO 12741 --- [http-nio-8080-exec-7] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】生成跳转路径：payUrl={"alipay_trade_query_response":{"code":"40002","msg":"Invalid Arguments","sub_code":"isv.invalid-app-id","sub_msg":"无效的AppID参数"}}
2019-06-11 10:49:47.486  INFO 12741 --- [http-nio-8080-exec-7] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】生成请求支付宝数据,req=com.alipay.api.domain.AlipayTradeQueryModel@8c82780
2019-06-11 10:49:47.486  INFO 12741 --- [http-nio-8080-exec-7] c.a.p.c.s.i.PayChannel4AliServiceImpl    : ###### 商户统一下单处理完成 ######
2019-06-11 10:49:48.213  INFO 12741 --- [http-nio-8080-exec-7] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@3c61340
2019-06-11 10:49:54.625  INFO 12741 --- [http-nio-8080-exec-8] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-11 10:51:06.341  INFO 12741 --- [Thread-26] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Mon Jun 10 20:20:26 CST 2019]; root of context hierarchy
2019-06-11 10:51:06.349  INFO 12741 --- [Thread-26] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-11 10:51:06.350  INFO 12741 --- [Thread-26] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-11 10:51:06.356  INFO 12741 --- [Thread-26] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-11 10:51:06.356  INFO 12741 --- [Thread-26] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-11 10:51:06.360  INFO 12741 --- [Thread-26] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-11 10:51:06.580 ERROR 12741 --- [http-nio-8080-exec-8] sdk.biz.err                              : ErrorScene^_^40002^_^isv.invalid-app-id^_^null^_^Mac OS X^_^2019-06-11 10:51:06^_^ProtocalMustParams:charset=UTF-8&method=alipay.trade.query&sign=JAr7QkEmbN8yAbSxU3cZca7Gsz1poESUly+DEvapOaeA7Qn2i3c3S6CzzmRSppmx/ji2nZ77sv2SvkOUkUa12oyI3mq7QaoNVbyx2VMKr5G8RT01zt/A/2ql8HQ5jgfblbfZvQj6F0Y0qXIMAS7vNMyWTsiryo5vO86q6Vx8YQQcfByTinlylryWSnpz1gfj5fLLu4V54OfFtQqj33AlFmP4yK9sjU3SQAinr01B7yxhObosqzDiw3N6JLS2C5xf6CJrWn/WTF5fPhBEwrtxPiEEq22vHYmMRpK4nWNczaA8bcAbYEw+hHgTq/+M8I/HrIgS3uInbNziSBzJUmRWpQ==&version=1.0&app_id=2017082208326738&sign_type=RSA2&timestamp=2019-06-11 10:51:06^_^ProtocalOptParams:alipay_sdk=alipay-sdk-java-dynamicVersionNo&format=json^_^ApplicationParams:biz_content={"out_trade_no":"P0020190530173855000003","trade_no":"2019053022001447511040912866"}^_^Body:{"alipay_trade_query_response":{"code":"40002","msg":"Invalid Arguments","sub_code":"isv.invalid-app-id","sub_msg":"无效的AppID参数"}}
2019-06-11 10:51:06.581  INFO 12741 --- [http-nio-8080-exec-8] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】生成跳转路径：payUrl={"alipay_trade_query_response":{"code":"40002","msg":"Invalid Arguments","sub_code":"isv.invalid-app-id","sub_msg":"无效的AppID参数"}}
2019-06-11 10:51:06.603 ERROR 12741 --- [http-nio-8080-exec-8] c.a.p.c.c.QueryPayOrderController        : org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Tue Jun 11 10:51:06 CST 2019
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Tue Jun 11 10:51:06 CST 2019

org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Tue Jun 11 10:51:06 CST 2019
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Tue Jun 11 10:51:06 CST 2019
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:79) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:447) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at com.sun.proxy.$Proxy58.update(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:295) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53) ~[mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy59.updateByExampleSelective(Unknown Source) ~[na:na]
	at com.appchina.pay.center.service.BaseService.baseUpdateStatus4Ing(BaseService.java:123) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayChannel4AliServiceImpl.doQueryAliPayOrder(PayChannel4AliServiceImpl.java:320) ~[classes/:na]
	at com.appchina.pay.center.service.impl.PayOrderServiceImpl.queryAliPayOrderRequest(PayOrderServiceImpl.java:98) ~[classes/:na]
	at com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(QueryPayOrderController.java:180) [classes/:na]
	at com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(QueryPayOrderController.java:147) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Tue Jun 11 10:51:06 CST 2019
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Tue Jun 11 10:51:06 CST 2019
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:200) ~[mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434) ~[mybatis-spring-1.3.0.jar:1.3.0]
	... 64 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Tue Jun 11 10:51:06 CST 2019
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:84) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:70) ~[mybatis-spring-1.3.0.jar:1.3.0]
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:336) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:84) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.4.1.jar:3.4.1]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_131]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_131]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.4.1.jar:3.4.1]
	at com.sun.proxy.$Proxy81.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) ~[mybatis-3.4.1.jar:3.4.1]
	... 69 common frames omitted
Caused by: com.alibaba.druid.pool.DataSourceClosedException: dataSource already closed at Tue Jun 11 10:51:06 CST 2019
	at com.alibaba.druid.pool.DruidDataSource.getConnectionInternal(DruidDataSource.java:1110) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidDataSource.getConnectionDirect(DruidDataSource.java:1014) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.dataSource_connect(FilterChainImpl.java:4544) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.logging.LogFilter.dataSource_getConnection(LogFilter.java:831) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.dataSource_connect(FilterChainImpl.java:4540) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterAdapter.dataSource_getConnection(FilterAdapter.java:2723) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.dataSource_connect(FilterChainImpl.java:4540) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.stat.StatFilter.dataSource_getConnection(StatFilter.java:662) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.filter.FilterChainImpl.dataSource_connect(FilterChainImpl.java:4540) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidDataSource.getConnection(DruidDataSource.java:992) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidDataSource.getConnection(DruidDataSource.java:984) ~[druid-1.0.26.jar:1.0.26]
	at com.alibaba.druid.pool.DruidDataSource.getConnection(DruidDataSource.java:103) ~[druid-1.0.26.jar:1.0.26]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	... 83 common frames omitted

2019-06-11 10:51:06.607  INFO 12741 --- [http-nio-8080-exec-8] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@69148941
2019-06-11 10:51:25.333  INFO 65912 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 65912 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-11 10:51:25.347  INFO 65912 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-11 10:51:25.643  INFO 65912 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4ce7fffa: startup date [Tue Jun 11 10:51:25 CST 2019]; root of context hierarchy
2019-06-11 10:51:28.611  INFO 65912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$8eb3d3fa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-11 10:51:30.790  INFO 65912 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-11 10:51:30.814  INFO 65912 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-11 10:51:30.816  INFO 65912 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-11 10:51:30.979  INFO 65912 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-11 10:51:30.980  INFO 65912 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 5392 ms
2019-06-11 10:51:31.550  INFO 65912 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-11 10:51:31.560  INFO 65912 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-11 10:51:31.561  INFO 65912 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-11 10:51:31.562  INFO 65912 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-11 10:51:31.562  INFO 65912 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-11 10:51:33.220  INFO 65912 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-11 10:51:35.040  INFO 65912 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4ce7fffa: startup date [Tue Jun 11 10:51:25 CST 2019]; root of context hierarchy
2019-06-11 10:51:35.133  INFO 65912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-11 10:51:35.134  INFO 65912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-11 10:51:35.135  INFO 65912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.queryOrderState(java.lang.String)
2019-06-11 10:51:35.136  INFO 65912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-11 10:51:35.137  INFO 65912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-11 10:51:35.137  INFO 65912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-11 10:51:35.138  INFO 65912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-11 10:51:35.138  INFO 65912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-11 10:51:35.138  INFO 65912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-11 10:51:35.138  INFO 65912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-11 10:51:35.142  INFO 65912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-11 10:51:35.143  INFO 65912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-11 10:51:35.198  INFO 65912 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 10:51:35.198  INFO 65912 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 10:51:35.271  INFO 65912 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 10:51:35.969  INFO 65912 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4ce7fffa: startup date [Tue Jun 11 10:51:25 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-11 10:51:35.970  INFO 65912 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-11 10:51:36.015  WARN 65912 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-11 10:51:36.575  INFO 65912 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-11 10:51:36.578  INFO 65912 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-11 10:51:36.594  INFO 65912 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-11 10:51:36.599  INFO 65912 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-11 10:51:36.600  INFO 65912 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-11 10:51:36.637  INFO 65912 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-11 10:51:36.637  INFO 65912 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-11 10:51:36.747  INFO 65912 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-11 10:51:36.757  INFO 65912 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 12.91 seconds (JVM running for 14.983)
2019-06-11 10:58:26.121  INFO 65912 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-11 10:58:26.129  INFO 65912 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-11 10:58:26.159  INFO 65912 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 29 ms
2019-06-11 10:58:28.833  INFO 65912 --- [http-nio-8080-exec-2] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-11 14:10:44.132  INFO 65912 --- [http-nio-8080-exec-2] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】生成跳转路径：payUrl={"alipay_trade_query_response":{"code":"10000","msg":"Success","buyer_logon_id":"liu***@163.com","buyer_pay_amount":"0.00","buyer_user_id":"2088202425447512","invoice_amount":"0.00","out_trade_no":"P0020190530173855000003","point_amount":"0.00","receipt_amount":"0.00","send_pay_date":"2019-05-30 17:39:57","total_amount":"0.01","trade_no":"2019053022001447511040912866","trade_status":"TRADE_SUCCESS"},"sign":"OqMIKbIwRTicB+5Y9eSSMQ13p6Rh5ybjZ8xCit9UdMK+gjuir7gG8BQE47WmoFDsvHtpNW8yjSuoOCBTlsU6ajRkfltJk4H6Q1unvbXHWyo+mC2w/MpKoGDN8UGc/47WLMGU7vZ55yNTD2Eqo3i8beRTdOY/G90yxhMt0aaNTnzqE2FkBcV7oTm4aW4PxHo3S5ka7rMs5s9/0rUKArSztKxeAFFWDsU7x/fDiDda9RzgL7y49IKY+x2HEIVjM1R+ilBnMTHAisHWwwoyVEio6H6BOGtuHn5HxHsG746Zys/eQQX5Wl6fGvSWiCfAIJSHVof2Swe8CnZktSxq+89DhA=="}
2019-06-11 14:10:44.232  INFO 65912 --- [Thread-29] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4ce7fffa: startup date [Tue Jun 11 10:51:25 CST 2019]; root of context hierarchy
2019-06-11 14:10:44.263  INFO 65912 --- [Thread-29] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-11 14:10:44.263  INFO 65912 --- [Thread-29] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-11 14:10:44.269  INFO 65912 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-11 14:10:44.270  INFO 65912 --- [Thread-29] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-11 14:10:44.283  INFO 65912 --- [Thread-29] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-11 14:10:44.343  INFO 65912 --- [http-nio-8080-exec-2] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】生成请求支付宝数据,req=com.alipay.api.domain.AlipayTradeQueryModel@3ae829d4
2019-06-11 14:10:44.352  INFO 65912 --- [http-nio-8080-exec-2] c.a.p.c.s.i.PayChannel4AliServiceImpl    : ###### 商户统一下单处理完成 ######
2019-06-11 14:10:44.380  INFO 65912 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@3010d72
2019-06-11 14:49:53.291  INFO 9928 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 9928 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-11 14:49:53.308  INFO 9928 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-11 14:49:53.477  INFO 9928 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 11 14:49:53 CST 2019]; root of context hierarchy
2019-06-11 14:49:59.417  INFO 9928 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$32d1aa08] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-11 14:50:00.947  INFO 9928 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-11 14:50:00.976  INFO 9928 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-11 14:50:00.979  INFO 9928 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-11 14:50:01.151  INFO 9928 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-11 14:50:01.151  INFO 9928 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7678 ms
2019-06-11 14:50:01.630  INFO 9928 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-11 14:50:01.646  INFO 9928 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-11 14:50:01.647  INFO 9928 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-11 14:50:01.647  INFO 9928 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-11 14:50:01.647  INFO 9928 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-11 14:50:03.318  INFO 9928 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-11 14:50:06.853  INFO 9928 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 11 14:49:53 CST 2019]; root of context hierarchy
2019-06-11 14:50:07.061  INFO 9928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-11 14:50:07.064  INFO 9928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-11 14:50:07.070  INFO 9928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.queryOrderState(java.lang.String)
2019-06-11 14:50:07.070  INFO 9928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-11 14:50:07.071  INFO 9928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-11 14:50:07.072  INFO 9928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-11 14:50:07.078  INFO 9928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-11 14:50:07.079  INFO 9928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-11 14:50:07.079  INFO 9928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-11 14:50:07.079  INFO 9928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-11 14:50:07.085  INFO 9928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-11 14:50:07.085  INFO 9928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-11 14:50:07.222  INFO 9928 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 14:50:07.223  INFO 9928 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 14:50:07.557  INFO 9928 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 14:50:09.159  INFO 9928 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 11 14:49:53 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-11 14:50:09.162  INFO 9928 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-11 14:50:09.238  WARN 9928 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-11 14:50:10.122  INFO 9928 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-11 14:50:10.124  INFO 9928 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-11 14:50:10.153  INFO 9928 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-11 14:50:10.158  INFO 9928 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-11 14:50:10.163  INFO 9928 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-11 14:50:10.215  INFO 9928 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-11 14:50:10.216  INFO 9928 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-11 14:50:10.412  INFO 9928 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-11 14:50:10.428  INFO 9928 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 18.558 seconds (JVM running for 20.838)
2019-06-11 14:56:13.986  INFO 9928 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-11 14:56:13.987  INFO 9928 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-11 14:56:14.024  INFO 9928 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 37 ms
2019-06-11 14:56:18.383  INFO 9928 --- [http-nio-8080-exec-2] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-11 15:04:11.137  INFO 9928 --- [http-nio-8080-exec-2] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】查询订单响应：response=com.alipay.api.response.AlipayTradeQueryResponse@70b1bda8
2019-06-11 15:04:11.249  INFO 9928 --- [http-nio-8080-exec-2] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】生成请求支付宝数据,req=com.alipay.api.domain.AlipayTradeQueryModel@7ef383f2
2019-06-11 15:04:11.249  INFO 9928 --- [http-nio-8080-exec-2] c.a.p.c.s.i.PayChannel4AliServiceImpl    : ###### 商户查询订单处理完成 ######
2019-06-11 15:04:12.931  INFO 9928 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@39d010f4
2019-06-11 15:04:15.785  INFO 9928 --- [Thread-40] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 11 14:49:53 CST 2019]; root of context hierarchy
2019-06-11 15:04:15.802  INFO 9928 --- [Thread-40] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-11 15:04:15.803  INFO 9928 --- [Thread-40] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-11 15:04:15.810  INFO 9928 --- [Thread-40] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-11 15:04:15.810  INFO 9928 --- [Thread-40] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-11 15:04:15.831  INFO 9928 --- [Thread-40] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-11 15:08:08.080  INFO 13318 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 13318 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-11 15:08:08.085  INFO 13318 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-11 15:08:08.197  INFO 13318 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 11 15:08:08 CST 2019]; root of context hierarchy
2019-06-11 15:08:10.011  INFO 13318 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$5e44e550] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-11 15:08:10.735  INFO 13318 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-11 15:08:10.751  INFO 13318 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-11 15:08:10.753  INFO 13318 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-11 15:08:10.867  INFO 13318 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-11 15:08:10.868  INFO 13318 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2674 ms
2019-06-11 15:08:11.072  INFO 13318 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-11 15:08:11.078  INFO 13318 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-11 15:08:11.078  INFO 13318 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-11 15:08:11.078  INFO 13318 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-11 15:08:11.079  INFO 13318 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-11 15:08:12.506  INFO 13318 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-11 15:08:15.116  INFO 13318 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 11 15:08:08 CST 2019]; root of context hierarchy
2019-06-11 15:08:15.215  INFO 13318 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-11 15:08:15.216  INFO 13318 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-11 15:08:15.218  INFO 13318 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.queryOrderState(java.lang.String)
2019-06-11 15:08:15.218  INFO 13318 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-11 15:08:15.219  INFO 13318 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-11 15:08:15.219  INFO 13318 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-11 15:08:15.220  INFO 13318 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-11 15:08:15.220  INFO 13318 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-11 15:08:15.220  INFO 13318 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-11 15:08:15.220  INFO 13318 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-11 15:08:15.223  INFO 13318 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-11 15:08:15.224  INFO 13318 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-11 15:08:15.276  INFO 13318 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 15:08:15.276  INFO 13318 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 15:08:15.370  INFO 13318 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 15:08:16.008  INFO 13318 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 11 15:08:08 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-11 15:08:16.009  INFO 13318 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-11 15:08:16.046  WARN 13318 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-11 15:08:16.489  INFO 13318 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-11 15:08:16.491  INFO 13318 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-11 15:08:16.508  INFO 13318 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-11 15:08:16.513  INFO 13318 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-11 15:08:16.515  INFO 13318 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-11 15:08:16.540  INFO 13318 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-11 15:08:16.541  INFO 13318 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-11 15:08:16.649  INFO 13318 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-11 15:08:16.656  INFO 13318 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 9.932 seconds (JVM running for 13.494)
2019-06-11 15:12:50.888  INFO 13318 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-11 15:12:50.889  INFO 13318 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-11 15:12:50.917  INFO 13318 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 28 ms
2019-06-11 15:12:53.809  INFO 13318 --- [http-nio-8080-exec-1] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-11 15:13:50.475  INFO 13318 --- [http-nio-8080-exec-1] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】查询订单响应：response={"alipay_trade_query_response":{"code":"10000","msg":"Success","buyer_logon_id":"liu***@163.com","buyer_pay_amount":"0.00","buyer_user_id":"2088202425447512","invoice_amount":"0.00","out_trade_no":"P0020190530173855000003","point_amount":"0.00","receipt_amount":"0.00","send_pay_date":"2019-05-30 17:39:57","total_amount":"0.01","trade_no":"2019053022001447511040912866","trade_status":"TRADE_SUCCESS"},"sign":"OqMIKbIwRTicB+5Y9eSSMQ13p6Rh5ybjZ8xCit9UdMK+gjuir7gG8BQE47WmoFDsvHtpNW8yjSuoOCBTlsU6ajRkfltJk4H6Q1unvbXHWyo+mC2w/MpKoGDN8UGc/47WLMGU7vZ55yNTD2Eqo3i8beRTdOY/G90yxhMt0aaNTnzqE2FkBcV7oTm4aW4PxHo3S5ka7rMs5s9/0rUKArSztKxeAFFWDsU7x/fDiDda9RzgL7y49IKY+x2HEIVjM1R+ilBnMTHAisHWwwoyVEio6H6BOGtuHn5HxHsG746Zys/eQQX5Wl6fGvSWiCfAIJSHVof2Swe8CnZktSxq+89DhA=="}
2019-06-11 15:13:50.519  INFO 13318 --- [http-nio-8080-exec-1] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】生成请求支付宝数据,req={tradeStateDesc=支付失败, orderId=583710950750683136, tradeState=FAIL}
2019-06-11 15:13:50.519  INFO 13318 --- [http-nio-8080-exec-1] c.a.p.c.s.i.PayChannel4AliServiceImpl    : ###### 商户查询订单处理完成 ######
2019-06-11 15:13:50.529  INFO 13318 --- [http-nio-8080-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@17da7602
2019-06-11 15:13:50.542  INFO 13318 --- [Thread-24] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 11 15:08:08 CST 2019]; root of context hierarchy
2019-06-11 15:13:50.548  INFO 13318 --- [Thread-24] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-11 15:13:50.548  INFO 13318 --- [Thread-24] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-11 15:13:50.551  INFO 13318 --- [Thread-24] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-11 15:13:50.552  INFO 13318 --- [Thread-24] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-11 15:13:50.574  INFO 13318 --- [Thread-24] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-11 15:19:33.504  INFO 15466 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 15466 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-11 15:19:33.508  INFO 15466 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-11 15:19:33.622  INFO 15466 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@22875539: startup date [Tue Jun 11 15:19:33 CST 2019]; root of context hierarchy
2019-06-11 15:19:35.139  INFO 15466 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$455b5c06] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-11 15:19:35.637  INFO 15466 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-11 15:19:35.654  INFO 15466 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-11 15:19:35.656  INFO 15466 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-11 15:19:35.776  INFO 15466 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-11 15:19:35.776  INFO 15466 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2161 ms
2019-06-11 15:19:36.052  INFO 15466 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-11 15:19:36.066  INFO 15466 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-11 15:19:36.066  INFO 15466 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-11 15:19:36.067  INFO 15466 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-11 15:19:36.067  INFO 15466 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-11 15:19:36.742  INFO 15466 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-11 15:19:38.282  INFO 15466 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@22875539: startup date [Tue Jun 11 15:19:33 CST 2019]; root of context hierarchy
2019-06-11 15:19:38.385  INFO 15466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-11 15:19:38.387  INFO 15466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-11 15:19:38.389  INFO 15466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.queryOrderState(java.lang.String)
2019-06-11 15:19:38.389  INFO 15466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-11 15:19:38.390  INFO 15466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-11 15:19:38.390  INFO 15466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-11 15:19:38.391  INFO 15466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-11 15:19:38.391  INFO 15466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-11 15:19:38.392  INFO 15466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-11 15:19:38.392  INFO 15466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-11 15:19:38.396  INFO 15466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-11 15:19:38.396  INFO 15466 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-11 15:19:38.457  INFO 15466 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 15:19:38.457  INFO 15466 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 15:19:38.565  INFO 15466 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 15:19:39.208  INFO 15466 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@22875539: startup date [Tue Jun 11 15:19:33 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-11 15:19:39.211  INFO 15466 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-11 15:19:39.255  WARN 15466 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-11 15:19:39.710  INFO 15466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-11 15:19:39.712  INFO 15466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-11 15:19:39.721  INFO 15466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-11 15:19:39.725  INFO 15466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-11 15:19:39.726  INFO 15466 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-11 15:19:39.753  INFO 15466 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-11 15:19:39.753  INFO 15466 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-11 15:19:39.828  INFO 15466 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-11 15:19:39.835  INFO 15466 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 7.39 seconds (JVM running for 10.942)
2019-06-11 15:20:24.453  INFO 15466 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-11 15:20:24.454  INFO 15466 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-11 15:20:24.539  INFO 15466 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 85 ms
2019-06-11 15:20:27.859  INFO 15466 --- [http-nio-8080-exec-2] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-11 15:20:50.360  INFO 15466 --- [http-nio-8080-exec-2] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】查询订单响应：response={"alipay_trade_query_response":{"code":"10000","msg":"Success","buyer_logon_id":"liu***@163.com","buyer_pay_amount":"0.00","buyer_user_id":"2088202425447512","invoice_amount":"0.00","out_trade_no":"P0020190530173855000003","point_amount":"0.00","receipt_amount":"0.00","send_pay_date":"2019-05-30 17:39:57","total_amount":"0.01","trade_no":"2019053022001447511040912866","trade_status":"TRADE_SUCCESS"},"sign":"OqMIKbIwRTicB+5Y9eSSMQ13p6Rh5ybjZ8xCit9UdMK+gjuir7gG8BQE47WmoFDsvHtpNW8yjSuoOCBTlsU6ajRkfltJk4H6Q1unvbXHWyo+mC2w/MpKoGDN8UGc/47WLMGU7vZ55yNTD2Eqo3i8beRTdOY/G90yxhMt0aaNTnzqE2FkBcV7oTm4aW4PxHo3S5ka7rMs5s9/0rUKArSztKxeAFFWDsU7x/fDiDda9RzgL7y49IKY+x2HEIVjM1R+ilBnMTHAisHWwwoyVEio6H6BOGtuHn5HxHsG746Zys/eQQX5Wl6fGvSWiCfAIJSHVof2Swe8CnZktSxq+89DhA=="}
2019-06-11 15:20:59.729  INFO 15466 --- [http-nio-8080-exec-2] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】生成请求支付宝数据,req={tradeStateDesc=支付成功, orderId=583710950750683136, tradeState=SUCCESS}
2019-06-11 15:21:00.312  INFO 15466 --- [http-nio-8080-exec-2] c.a.p.c.s.i.PayChannel4AliServiceImpl    : ###### 商户查询订单处理完成 ######
2019-06-11 15:21:17.295  INFO 15466 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@6c461b15
2019-06-11 15:21:46.061  INFO 15466 --- [Thread-19] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@22875539: startup date [Tue Jun 11 15:19:33 CST 2019]; root of context hierarchy
2019-06-11 15:21:46.066  INFO 15466 --- [Thread-19] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-11 15:21:46.068  INFO 15466 --- [Thread-19] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-11 15:21:46.072  INFO 15466 --- [Thread-19] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-11 15:21:46.073  INFO 15466 --- [Thread-19] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-11 15:21:46.080  INFO 15466 --- [Thread-19] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-11 15:23:35.343  INFO 16220 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 16220 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-11 15:23:35.364  INFO 16220 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-11 15:23:35.781  INFO 16220 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7331196b: startup date [Tue Jun 11 15:23:35 CST 2019]; root of context hierarchy
2019-06-11 15:23:37.866  INFO 16220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$6bf661d3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-11 15:23:38.884  INFO 16220 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-11 15:23:38.923  INFO 16220 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-11 15:23:38.929  INFO 16220 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-11 15:23:39.062  INFO 16220 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-11 15:23:39.063  INFO 16220 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3321 ms
2019-06-11 15:23:39.318  INFO 16220 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-11 15:23:39.333  INFO 16220 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-11 15:23:39.333  INFO 16220 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-11 15:23:39.334  INFO 16220 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-11 15:23:39.334  INFO 16220 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-11 15:23:40.270  INFO 16220 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-11 15:23:42.717  INFO 16220 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7331196b: startup date [Tue Jun 11 15:23:35 CST 2019]; root of context hierarchy
2019-06-11 15:23:42.837  INFO 16220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-11 15:23:42.840  INFO 16220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-11 15:23:42.842  INFO 16220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.queryOrderState(java.lang.String)
2019-06-11 15:23:42.842  INFO 16220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-11 15:23:42.843  INFO 16220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-11 15:23:42.844  INFO 16220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-11 15:23:42.845  INFO 16220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-11 15:23:42.845  INFO 16220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-11 15:23:42.846  INFO 16220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-11 15:23:42.846  INFO 16220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-11 15:23:42.851  INFO 16220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-11 15:23:42.851  INFO 16220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-11 15:23:42.915  INFO 16220 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 15:23:42.915  INFO 16220 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 15:23:43.047  INFO 16220 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 15:23:43.804  INFO 16220 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7331196b: startup date [Tue Jun 11 15:23:35 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-11 15:23:43.806  INFO 16220 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-11 15:23:43.850  WARN 16220 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-11 15:23:44.706  INFO 16220 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-11 15:23:44.709  INFO 16220 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-11 15:23:44.727  INFO 16220 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-11 15:23:44.731  INFO 16220 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-11 15:23:44.732  INFO 16220 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-11 15:23:44.783  INFO 16220 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-11 15:23:44.785  INFO 16220 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-11 15:23:44.920  INFO 16220 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-11 15:23:44.936  INFO 16220 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 10.75 seconds (JVM running for 12.922)
2019-06-11 15:24:42.418  INFO 16220 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-11 15:24:42.419  INFO 16220 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-11 15:24:42.453  INFO 16220 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 34 ms
2019-06-11 15:24:46.019  INFO 16220 --- [http-nio-8080-exec-2] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-11 15:24:48.738  INFO 16220 --- [http-nio-8080-exec-2] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】查询订单响应：response={"alipay_trade_query_response":{"code":"10000","msg":"Success","buyer_logon_id":"liu***@163.com","buyer_pay_amount":"0.00","buyer_user_id":"2088202425447512","invoice_amount":"0.00","out_trade_no":"P0020190530173855000003","point_amount":"0.00","receipt_amount":"0.00","send_pay_date":"2019-05-30 17:39:57","total_amount":"0.01","trade_no":"2019053022001447511040912866","trade_status":"TRADE_SUCCESS"},"sign":"OqMIKbIwRTicB+5Y9eSSMQ13p6Rh5ybjZ8xCit9UdMK+gjuir7gG8BQE47WmoFDsvHtpNW8yjSuoOCBTlsU6ajRkfltJk4H6Q1unvbXHWyo+mC2w/MpKoGDN8UGc/47WLMGU7vZ55yNTD2Eqo3i8beRTdOY/G90yxhMt0aaNTnzqE2FkBcV7oTm4aW4PxHo3S5ka7rMs5s9/0rUKArSztKxeAFFWDsU7x/fDiDda9RzgL7y49IKY+x2HEIVjM1R+ilBnMTHAisHWwwoyVEio6H6BOGtuHn5HxHsG746Zys/eQQX5Wl6fGvSWiCfAIJSHVof2Swe8CnZktSxq+89DhA=="}
2019-06-11 15:24:48.738  INFO 16220 --- [http-nio-8080-exec-2] c.a.p.c.s.i.PayChannel4AliServiceImpl    : 【支付宝查询订单】生成请求支付宝数据,req={tradeStateDesc=支付成功, orderId=583710950750683136, tradeState=SUCCESS}
2019-06-11 15:24:48.739  INFO 16220 --- [http-nio-8080-exec-2] c.a.p.c.s.i.PayChannel4AliServiceImpl    : ###### 商户查询订单处理完成 ######
2019-06-11 15:24:50.374  INFO 16220 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@9e582af
2019-06-11 15:24:59.086  INFO 16220 --- [http-nio-8080-exec-3] c.a.p.c.c.QueryPayOrderController        : ###### 开始接收查询订单状态 ######
2019-06-11 15:25:08.696  INFO 16220 --- [http-nio-8080-exec-3] com.appchina.pay.common.util.PayUtil     : 生成响应数据:com.appchina.pay.common.util.Result@481c7002
2019-06-11 15:25:13.692  INFO 16220 --- [Thread-24] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7331196b: startup date [Tue Jun 11 15:23:35 CST 2019]; root of context hierarchy
2019-06-11 15:25:13.695  INFO 16220 --- [Thread-24] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-11 15:25:13.695  INFO 16220 --- [Thread-24] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-11 15:25:13.697  INFO 16220 --- [Thread-24] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-11 15:25:13.698  INFO 16220 --- [Thread-24] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-11 15:25:13.719  INFO 16220 --- [Thread-24] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-06-11 17:55:55.523  INFO 44525 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 44525 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-11 17:55:55.543  INFO 44525 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-11 17:55:55.748  INFO 44525 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 11 17:55:55 CST 2019]; root of context hierarchy
2019-06-11 17:55:57.550  INFO 44525 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$5e44e550] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-11 17:55:58.248  INFO 44525 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-11 17:55:58.262  INFO 44525 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-11 17:55:58.263  INFO 44525 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-11 17:55:58.376  INFO 44525 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-11 17:55:58.376  INFO 44525 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2641 ms
2019-06-11 17:55:58.592  INFO 44525 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-11 17:55:58.598  INFO 44525 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-11 17:55:58.598  INFO 44525 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-11 17:55:58.598  INFO 44525 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-11 17:55:58.599  INFO 44525 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-11 17:55:59.858  INFO 44525 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-11 17:58:37.420  INFO 45034 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 45034 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-06-11 17:58:37.440  INFO 45034 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-06-11 17:58:37.584  INFO 45034 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 11 17:58:37 CST 2019]; root of context hierarchy
2019-06-11 17:58:40.054  INFO 45034 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$61af904e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-06-11 17:58:40.709  INFO 45034 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-06-11 17:58:40.721  INFO 45034 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-11 17:58:40.722  INFO 45034 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-06-11 17:58:40.812  INFO 45034 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-11 17:58:40.813  INFO 45034 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3244 ms
2019-06-11 17:58:41.220  INFO 45034 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-06-11 17:58:41.226  INFO 45034 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-06-11 17:58:41.227  INFO 45034 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-06-11 17:58:41.227  INFO 45034 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-06-11 17:58:41.227  INFO 45034 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-06-11 17:58:42.205  INFO 45034 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-06-11 17:58:44.131  INFO 45034 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 11 17:58:37 CST 2019]; root of context hierarchy
2019-06-11 17:58:44.334  INFO 45034 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-11 17:58:44.336  INFO 45034 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-06-11 17:58:44.338  INFO 45034 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.queryOrderState(java.lang.String)
2019-06-11 17:58:44.339  INFO 45034 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-11 17:58:44.340  INFO 45034 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-06-11 17:58:44.341  INFO 45034 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-06-11 17:58:44.343  INFO 45034 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-06-11 17:58:44.343  INFO 45034 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-06-11 17:58:44.344  INFO 45034 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-06-11 17:58:44.344  INFO 45034 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-06-11 17:58:44.356  INFO 45034 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-06-11 17:58:44.361  INFO 45034 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-06-11 17:58:44.471  INFO 45034 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 17:58:44.471  INFO 45034 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 17:58:44.615  INFO 45034 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-06-11 17:58:45.837  INFO 45034 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 11 17:58:37 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-06-11 17:58:45.839  INFO 45034 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-06-11 17:58:45.911  WARN 45034 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-06-11 17:58:46.585  INFO 45034 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-06-11 17:58:46.587  INFO 45034 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-06-11 17:58:46.599  INFO 45034 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-06-11 17:58:46.602  INFO 45034 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-06-11 17:58:46.604  INFO 45034 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-06-11 17:58:46.637  INFO 45034 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-06-11 17:58:46.637  INFO 45034 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-06-11 17:58:46.729  INFO 45034 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-06-11 17:58:46.737  INFO 45034 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 10.526 seconds (JVM running for 12.366)
2019-06-11 18:00:53.515  INFO 45034 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-06-11 18:00:53.516  INFO 45034 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-06-11 18:00:53.543  INFO 45034 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 27 ms
2019-06-11 18:00:53.700  INFO 45034 --- [http-nio-8080-exec-2] c.a.p.c.controller.PayChannelController  : ###### 开始接收支付渠道信息 ######
2019-06-11 18:00:53.978  INFO 45034 --- [http-nio-8080-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{"data":["WX_MWEB","WX_JSAPI","ALIPAY_MOBILE"],"resultid":1,"sign":"ro8Qnfi9tPbof4lNRjZPLIHS2IVCesG9HYhhQop/tmEowNYPMZj8kwAu1lpOF6UlVq4rGj5xZdxl\nHZZ2oZ+UPFS3i3ICRoFsmhMZP4i9UCy/f0BATtRx5fYWoAtl6+r2697hft3PlFHevR8h7GaHHcLB\nxS+oyCvU0k35m5DkJ6U=\n"}
2019-06-11 19:01:56.506  INFO 45034 --- [Thread-24] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jun 11 17:58:37 CST 2019]; root of context hierarchy
2019-06-11 19:01:56.531  INFO 45034 --- [Thread-24] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-06-11 19:01:56.532  INFO 45034 --- [Thread-24] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-06-11 19:01:56.540  INFO 45034 --- [Thread-24] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-06-11 19:01:56.541  INFO 45034 --- [Thread-24] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-06-11 19:01:56.560  INFO 45034 --- [Thread-24] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-02 15:26:23.156  INFO 19287 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 19287 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-07-02 15:26:23.179  INFO 19287 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-07-02 15:26:23.412  INFO 19287 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jul 02 15:26:23 CST 2019]; root of context hierarchy
2019-07-02 15:26:26.502  INFO 19287 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$35513f73] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-02 15:26:27.415  INFO 19287 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2019-07-02 15:26:27.449  INFO 19287 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-07-02 15:26:27.452  INFO 19287 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-07-02 15:26:27.759  INFO 19287 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-07-02 15:26:27.759  INFO 19287 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4356 ms
2019-07-02 15:26:28.275  INFO 19287 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-07-02 15:26:28.281  INFO 19287 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-02 15:26:28.282  INFO 19287 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-02 15:26:28.282  INFO 19287 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-02 15:26:28.282  INFO 19287 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-07-02 15:26:30.800  INFO 19287 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-02 15:26:33.018  INFO 19287 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jul 02 15:26:23 CST 2019]; root of context hierarchy
2019-07-02 15:26:33.601  INFO 19287 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-07-02 15:26:33.603  INFO 19287 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-07-02 15:26:33.609  INFO 19287 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.queryOrderState(java.lang.String)
2019-07-02 15:26:33.611  INFO 19287 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-07-02 15:26:33.616  INFO 19287 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-07-02 15:26:33.628  INFO 19287 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-07-02 15:26:33.629  INFO 19287 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-07-02 15:26:33.632  INFO 19287 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-07-02 15:26:33.634  INFO 19287 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-07-02 15:26:33.637  INFO 19287 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-07-02 15:26:33.667  INFO 19287 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-02 15:26:33.668  INFO 19287 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-02 15:26:33.791  INFO 19287 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-02 15:26:33.791  INFO 19287 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-02 15:26:33.873  INFO 19287 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-02 15:26:34.937  INFO 19287 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jul 02 15:26:23 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-02 15:26:34.939  INFO 19287 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-02 15:26:34.980  WARN 19287 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-02 15:26:35.803  INFO 19287 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-07-02 15:26:35.804  INFO 19287 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-07-02 15:26:35.814  INFO 19287 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-07-02 15:26:35.818  INFO 19287 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-07-02 15:26:35.819  INFO 19287 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-07-02 15:26:35.856  INFO 19287 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-07-02 15:26:35.862  INFO 19287 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-07-02 15:26:36.094  INFO 19287 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2019-07-02 15:26:36.105  INFO 19287 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 14.757 seconds (JVM running for 18.133)
2019-07-02 15:27:09.096  INFO 19287 --- [Thread-32] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jul 02 15:26:23 CST 2019]; root of context hierarchy
2019-07-02 15:27:09.099  INFO 19287 --- [Thread-32] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-07-02 15:27:09.100  INFO 19287 --- [Thread-32] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-07-02 15:27:09.104  INFO 19287 --- [Thread-32] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-07-02 15:27:09.105  INFO 19287 --- [Thread-32] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-07-02 15:27:09.129  INFO 19287 --- [Thread-32] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-02 15:27:33.276  INFO 19511 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 19511 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-07-02 15:27:33.283  INFO 19511 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-07-02 15:27:33.414  INFO 19511 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jul 02 15:27:33 CST 2019]; root of context hierarchy
2019-07-02 15:27:39.108  INFO 19511 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$1e8e5b64] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-02 15:27:41.513  INFO 19511 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2019-07-02 15:27:41.536  INFO 19511 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-07-02 15:27:41.537  INFO 19511 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-07-02 15:27:41.855  INFO 19511 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-07-02 15:27:41.855  INFO 19511 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 8467 ms
2019-07-02 15:27:42.817  INFO 19511 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-07-02 15:27:42.829  INFO 19511 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-02 15:27:42.830  INFO 19511 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-02 15:27:42.831  INFO 19511 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-02 15:27:42.831  INFO 19511 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-07-02 15:27:47.135  INFO 19511 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-02 15:27:52.467  INFO 19511 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jul 02 15:27:33 CST 2019]; root of context hierarchy
2019-07-02 15:27:52.640  INFO 19511 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-07-02 15:27:52.643  INFO 19511 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-07-02 15:27:52.646  INFO 19511 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.queryOrderState(java.lang.String)
2019-07-02 15:27:52.647  INFO 19511 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-07-02 15:27:52.648  INFO 19511 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-07-02 15:27:52.648  INFO 19511 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-07-02 15:27:52.649  INFO 19511 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-07-02 15:27:52.650  INFO 19511 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-07-02 15:27:52.650  INFO 19511 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-07-02 15:27:52.651  INFO 19511 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-07-02 15:27:52.658  INFO 19511 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-02 15:27:52.658  INFO 19511 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-02 15:27:52.730  INFO 19511 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-02 15:27:52.730  INFO 19511 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-02 15:27:52.827  INFO 19511 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-02 15:27:53.325  INFO 19511 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jul 02 15:27:33 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-02 15:27:53.326  INFO 19511 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-02 15:27:53.366  WARN 19511 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-02 15:27:53.799  INFO 19511 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-07-02 15:27:53.800  INFO 19511 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-07-02 15:27:53.811  INFO 19511 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-07-02 15:27:53.814  INFO 19511 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-07-02 15:27:53.815  INFO 19511 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-07-02 15:27:53.847  INFO 19511 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-07-02 15:27:53.847  INFO 19511 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-07-02 15:27:53.917  INFO 19511 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2019-07-02 15:27:53.924  INFO 19511 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 22.421 seconds (JVM running for 25.491)
2019-07-02 15:29:36.607  INFO 19511 --- [http-nio-8081-exec-1] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:422) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:683) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]

2019-07-02 15:31:26.105  INFO 19511 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-02 15:31:26.110  INFO 19511 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-07-02 15:31:26.186  INFO 19511 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 76 ms
2019-07-02 15:31:26.366  INFO 19511 --- [http-nio-8081-exec-2] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-07-02 15:45:52.394  INFO 19511 --- [http-nio-8081-exec-2] c.a.p.c.controller.PayOrderController    : 【商户统一下单】参数校验不通过:Verify pay sign failed.
2019-07-02 15:45:52.399  INFO 19511 --- [http-nio-8081-exec-2] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{retCode=FAIL, retMsg=Verify pay sign failed.}
2019-07-02 15:45:52.442  INFO 19511 --- [Thread-41] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@76012793: startup date [Tue Jul 02 15:27:33 CST 2019]; root of context hierarchy
2019-07-02 15:45:52.465  INFO 19511 --- [Thread-41] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-07-02 15:45:52.466  INFO 19511 --- [Thread-41] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-07-02 15:45:52.471  INFO 19511 --- [Thread-41] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-07-02 15:45:52.472  INFO 19511 --- [Thread-41] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-07-02 15:45:52.487  INFO 19511 --- [Thread-41] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2019-07-02 15:50:02.735  INFO 23807 --- [main] c.a.pay.center.PayCenterApplication      : Starting PayCenterApplication on liujianmeng with PID 23807 (/Users/liujianmeng/Documents/workspace/pay-master/pay-center/target/classes started by liujianmeng in /Users/liujianmeng/Documents/workspace/pay-master)
2019-07-02 15:50:02.755  INFO 23807 --- [main] c.a.pay.center.PayCenterApplication      : The following profiles are active: activeMQ,prod
2019-07-02 15:50:03.097  INFO 23807 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Tue Jul 02 15:50:03 CST 2019]; root of context hierarchy
2019-07-02 15:50:07.936  INFO 23807 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration' of type [org.springframework.amqp.rabbit.annotation.RabbitBootstrapConfiguration$$EnhancerBySpringCGLIB$$98b9a845] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-07-02 15:50:11.479  INFO 23807 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2019-07-02 15:50:11.680  INFO 23807 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-07-02 15:50:11.683  INFO 23807 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2019-07-02 15:50:12.281  INFO 23807 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-07-02 15:50:12.281  INFO 23807 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 9247 ms
2019-07-02 15:50:13.210  INFO 23807 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2019-07-02 15:50:13.224  INFO 23807 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2019-07-02 15:50:13.225  INFO 23807 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-07-02 15:50:13.225  INFO 23807 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-07-02 15:50:13.226  INFO 23807 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2019-07-02 15:50:16.194  INFO 23807 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2019-07-02 15:50:20.782  INFO 23807 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Tue Jul 02 15:50:03 CST 2019]; root of context hierarchy
2019-07-02 15:50:20.985  INFO 23807 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alipay/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyAliPayController.aliPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-07-02 15:50:20.990  INFO 23807 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/wechat/notify]}" onto public java.lang.String com.appchina.pay.center.controller.NotifyWxPayController.wxPayNotifyRes(javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException,java.io.IOException
2019-07-02 15:50:21.026  INFO 23807 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.queryOrderState(java.lang.String)
2019-07-02 15:50:21.027  INFO 23807 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_channel],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayChannelController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-07-02 15:50:21.030  INFO 23807 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(java.lang.String)
2019-07-02 15:50:21.030  INFO 23807 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/create_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.PayOrderController.payOrder(com.alibaba.fastjson.JSONObject)
2019-07-02 15:50:21.031  INFO 23807 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryOrderState(java.lang.String)
2019-07-02 15:50:21.032  INFO 23807 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order_state],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.doQueryOrderState(com.alibaba.fastjson.JSONObject)
2019-07-02 15:50:21.056  INFO 23807 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order],consumes=[application/json],produces=[application/json]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(com.alibaba.fastjson.JSONObject)
2019-07-02 15:50:21.066  INFO 23807 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/pay/query_order]}" onto public java.lang.String com.appchina.pay.center.controller.QueryPayOrderController.queryPayOrder(java.lang.String)
2019-07-02 15:50:21.088  INFO 23807 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-07-02 15:50:21.090  INFO 23807 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-07-02 15:50:21.254  INFO 23807 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-02 15:50:21.255  INFO 23807 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-02 15:50:21.375  INFO 23807 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-07-02 15:50:22.170  INFO 23807 --- [main] o.s.ui.freemarker.SpringTemplateLoader   : SpringTemplateLoader for FreeMarker: using resource loader [org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Tue Jul 02 15:50:03 CST 2019]; root of context hierarchy] and template loader path [classpath:/templates/]
2019-07-02 15:50:22.172  INFO 23807 --- [main] o.s.w.s.v.f.FreeMarkerConfigurer         : ClassTemplateLoader for Spring macros added to FreeMarker configuration
2019-07-02 15:50:22.475  WARN 23807 --- [main] o.s.b.a.f.FreeMarkerAutoConfiguration    : Cannot find template location(s): [classpath:/templates/] (please add some templates, check your FreeMarker configuration, or set spring.freemarker.checkTemplateLocation=false)
2019-07-02 15:50:23.214  INFO 23807 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-07-02 15:50:23.217  INFO 23807 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2019-07-02 15:50:23.235  INFO 23807 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'rabbitConnectionFactory' has been autodetected for JMX exposure
2019-07-02 15:50:23.239  INFO 23807 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.pool:name=dataSource,type=DruidDataSource]
2019-07-02 15:50:23.241  INFO 23807 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'rabbitConnectionFactory': registering with JMX server as MBean [org.springframework.amqp.rabbit.connection:name=rabbitConnectionFactory,type=CachingConnectionFactory]
2019-07-02 15:50:23.267  INFO 23807 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase -2147482648
2019-07-02 15:50:23.268  INFO 23807 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2019-07-02 15:50:23.350  INFO 23807 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2019-07-02 15:50:23.356  INFO 23807 --- [main] c.a.pay.center.PayCenterApplication      : Started PayCenterApplication in 22.801 seconds (JVM running for 26.53)
2019-07-02 15:51:37.891  INFO 23807 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-02 15:51:37.893  INFO 23807 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2019-07-02 15:51:37.980  INFO 23807 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 87 ms
2019-07-02 15:51:38.212  INFO 23807 --- [http-nio-8081-exec-1] c.a.p.c.controller.PayOrderController    : ###### 开始接收商户统一下单请求 ######
2019-07-02 15:51:47.447  INFO 23807 --- [http-nio-8081-exec-1] c.a.p.c.controller.PayOrderController    : 【商户统一下单】创建支付订单,结果:1
2019-07-02 15:51:48.910  INFO 23807 --- [http-nio-8081-exec-1] c.g.b.w.service.impl.WxPayServiceImpl    : 
【请求地址】：https://api.mch.weixin.qq.com/pay/unifiedorder
【请求数据】：<xml>
  <appid>wxbc75211100824e50</appid>
  <mch_id>1490509592</mch_id>
  <nonce_str>1562053907485</nonce_str>
  <sign>2C52B1CB85A3B126E47A29E56AA4EED8</sign>
  <device_info>Android</device_info>
  <body>可以购买城堡中的商品</body>
  <out_trade_no>P0020190702155146000000</out_trade_no>
  <fee_type>CNY</fee_type>
  <total_fee>1</total_fee>
  <spbill_create_ip>127.0.0.1</spbill_create_ip>
  <notify_url>http://103.231.68.185:8080/wechat/notify</notify_url>
  <trade_type>MWEB</trade_type>
  <scene_info>{&quot;h5_info&quot;:{&quot;app_name&quot;:&quot;王者荣耀&quot;,&quot;package_name&quot;:&quot;com.tencent.tmgp.sgame&quot;,&quot;type&quot;:&quot;Android&quot;}}</scene_info>
</xml>
【响应数据】：<xml><return_code><![CDATA[SUCCESS]]></return_code>
<return_msg><![CDATA[OK]]></return_msg>
<appid><![CDATA[wxbc75211100824e50]]></appid>
<mch_id><![CDATA[1490509592]]></mch_id>
<device_info><![CDATA[Android]]></device_info>
<nonce_str><![CDATA[677tRNnvLszNt5ym]]></nonce_str>
<sign><![CDATA[3C618DCD8D8DA19E694D8D82434BF81B]]></sign>
<result_code><![CDATA[SUCCESS]]></result_code>
<prepay_id><![CDATA[wx02155148847411517e55f49c1846811800]]></prepay_id>
<trade_type><![CDATA[MWEB]]></trade_type>
<mweb_url><![CDATA[https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx02155148847411517e55f49c1846811800&package=2848201245]]></mweb_url>
</xml>
2019-07-02 15:51:48.949  INFO 23807 --- [http-nio-8081-exec-1] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 【微信支付统一下单】 >>> 下单成功
2019-07-02 15:51:48.983  INFO 23807 --- [http-nio-8081-exec-1] c.a.p.c.s.impl.PayChannel4WxServiceImpl  : 更新第三方支付订单号:payOrderId=P0020190702155146000000,prepayId=wx02155148847411517e55f49c1846811800,result=1
2019-07-02 15:51:51.177  INFO 23807 --- [http-nio-8081-exec-1] com.appchina.pay.common.util.PayUtil     : 生成响应数据:{payOrderId=P0020190702155146000000, sign=ttSv952pMpAyNdnYuZksICHl+J7OG2LGQYyAbNyzjbeBBtsGyVeM8ALjxQpwbQWj7dPxQ2wGPl29
89Xi/LYFsUUFphHjgIpk0k4JVQ6odadZuEB/2f5Zoz8SfVBQijoaJcvNNh8CqmrGKDpHbfXAhQ/N
0E91biyRazjqMYDapy4=
, resCode=SUCCESS, payParams=https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx02155148847411517e55f49c1846811800&package=2848201245, prepayId=wx02155148847411517e55f49c1846811800, retCode=SUCCESS, retMsg=}
2019-07-02 16:18:38.411  INFO 23807 --- [Thread-40] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@495fac5f: startup date [Tue Jul 02 15:50:03 CST 2019]; root of context hierarchy
2019-07-02 16:18:38.445  INFO 23807 --- [Thread-40] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2019-07-02 16:18:38.447  INFO 23807 --- [Thread-40] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase -2147482648
2019-07-02 16:18:38.466  INFO 23807 --- [Thread-40] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2019-07-02 16:18:38.470  INFO 23807 --- [Thread-40] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2019-07-02 16:18:38.493  INFO 23807 --- [Thread-40] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
